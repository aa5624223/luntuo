(this.webpackJsonpluntuo=this.webpackJsonpluntuo||[]).push([[0],{264:function(e,t){},304:function(e,t,a){},412:function(e,t){},413:function(e,t){},417:function(e,t,a){},418:function(e,t,a){},419:function(e,t,a){},430:function(e,t,a){},437:function(e,t,a){},439:function(e,t,a){},442:function(e,t,a){},443:function(e,t,a){},444:function(e,t,a){},445:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a.n(n),i=a(75),o=a(30),c=a(31),s=a(33),d=a(32),l=a(0),u=a.n(l),h=a(62),p=(a(297),a(46),a(17)),f=(a(60),a(21)),j=a(13),b=a.n(j),m=(a(53),a(15)),x=a(19),O=(a(61),a(16)),g=a(521),S=a(522),w=(a(304),a.p+"static/media/999.b9883ce8.png"),y=a.p+"static/media/\u8054\u56fe\u4e8c\u7ef4\u7801.b5c57ece.png",v=a(210),D=a.n(v);function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(n,r){("GET"===a?D.a.get(e,{params:t}):"POST"===a?D.a.post(e,t):D.a.post(e,t,{headers:{"content-type":"multipart/form-data"}})).then((function(e){n(e.data)})).catch((function(e){m.b.error("\u7f51\u7edc\u8bf7\u6c42\u51fa\u9519"+e.message)}))}))}var C=a(45),I=a.n(C),M="user_key_luntuo",_={saveUser:function(e){I.a.set(M,e)},getUser:function(){return I.a.get(M)||{}},removeUser:function(){I.a.remove(M)}},T=window.location.origin+"/",E=function(e){return k(T+"Home/Login",e,"POST")},R=function(e){return k(T+"Home/getSite_Roles",e,"POST")},F=function(e){return k(T+"Home/getUserList",e)},N=function(e){return k(T+"Home/getWBInfo",e,"POST")},A=function(e){return k(T+"Home/getV_MRPInfo",e,"POST")},Y=function(e){return k(T+"Home/getTypeInfo",e,"POST")},U=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getV_BjInfo",e,"POST")},B=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getV_JjInfo",e,"POST")},P=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getV_CgInfo",e,"POST")},L=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getDdOrder",e,"POST")},z=function(e){return k(T+"Home/getUploadInfo",e,"POST")},V=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getLogInfo",e,"POST")},K=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getBjImp",e,"POST")},J=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getJjImp",e,"POST")},H=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getCgImp",e,"POST")},W=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getV_DdOrder_Det",e,"POST")},q=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getV_Sum_Num_JiInfo",e,"POST")},Z=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getV_Sum_Num_CgInfo",e,"POST")},G=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getV_Sum_Num_BjInfo",e,"POST")},$=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/getV_Sum_Num_BjInfo2",e,"POST")},X=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/addUser",e,"POST")},Q=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/addBjInfo",e,"POST")},ee=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/addWBInfo",e,"POST")},te=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/addMRPInfo",e,"POST")},ae=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/DdOrder_DetExt",e,"POST")},ne=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/editUser",e,"POST")},re=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/editBjInfo",e,"POST")},ie=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/editWBInfo",e,"POST")},oe=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/editMRPInfo",e,"POST")},ce=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/editDdOrder",e,"POST")},se=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/editDdOrder_status",e,"POST")},de=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/editDdOrderDet",e,"POST")},le=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/updateCgBaseBum",e,"POST")},ue=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/delUser",e,"POST")},he=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/delBjInfo",e,"POST")},pe=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/delWBInfo",e,"POST")},fe=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/delMRPInfo",e,"POST")},je=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/delUploadInfo",e,"POST")},be=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/delMRPInfos",e,"POST")},me=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/delWBInfos",e,"POST")},xe=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/delDdOrder",e,"POST")},Oe=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/submitBjImp",e,"POST")},ge=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/submitCgImp",e,"POST")},Se=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/submitJjImp",e,"POST")},we=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/submitWBInfo",e,"POST")},ye=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/submitDdOrder",e,"POST")},ve=function(e){var t=_.getUser();return e.append("OptUserCode",t.UserCode),k(T+"Home/demantExe",e,"POST")},De={user:{}},ke=a(1),Ce=O.a.Item,Ie=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.handleSubmit=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i,o,c,s,d,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.formRef.current,r=n.getFieldsValue(!0),i=r.username,o=r.password,(c=new FormData).append("username",i),c.append("password",o),!n.getFieldsError().find((function(e){return e.errors.length>0}))){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,E(c);case 11:if(0!==(s=t.sent).status){t.next=34;break}if(null!=s.data&&0!==s.data.UserInfo.length){t.next=16;break}return m.b.warn("\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef"),t.abrupt("return");case 16:if("NULL"!==s.data.UserInfo[0].Roles&&void 0!==s.data.UserInfo[0].Roles&&""!==s.data.UserInfo[0].Roles){t.next=19;break}return m.b.warn("\u8d26\u53f7\u8fd8\u6ca1\u6709\u8bbe\u7f6e\u6743\u9650"),t.abrupt("return");case 19:m.b.success("\u767b\u5f55\u6210\u529f"),t.t0=b.a.keys(s.data);case 21:if((t.t1=t.t0()).done){t.next=29;break}if(l=t.t1.value,"object"!==typeof s.data[l][0]){t.next=27;break}return d=s.data[l][0],t.abrupt("break",29);case 27:t.next=21;break;case 29:De.user=d,_.saveUser(d),e.props.history.replace("/Admin"),t.next=35;break;case 34:1===s.status?m.b.warn("\u8d26\u53f7\u5bc6\u7801\u9519\u8bef"):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94");case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(a,[{key:"render",value:function(){var e=_.getUser(),t=this.props.location.redict;return e&&e.ID&&!0!==t?(De.user=e,Object(ke.jsx)(h.a,{to:"/Admin"})):Object(ke.jsxs)("div",{className:"login",children:[Object(ke.jsxs)("div",{className:"login-header",children:[Object(ke.jsx)("img",{src:w,alt:"logo",className:"Loginlogo"}),Object(ke.jsx)("h1",{children:"\u5e38\u53d1\u8f6e\u62d6\u6392\u4ea7\u7cfb\u7edf"})]}),Object(ke.jsxs)("section",{className:"login-content",children:[Object(ke.jsxs)("div",{style:{width:"200px",float:"left",textAlign:"center"},children:[Object(ke.jsx)("h2",{children:"\u624b\u673a\u7248\u4e8c\u7ef4\u7801"}),Object(ke.jsx)("img",{src:y,style:{width:"150px",height:"150px",margin:"auto"}})]}),Object(ke.jsxs)("div",{style:{width:"250px",float:"left"},children:[Object(ke.jsx)("h2",{children:"\u7528\u6237\u767b\u5f55"}),Object(ke.jsxs)(O.a,{ref:this.formRef,onSubmitCapture:this.handleSubmit,children:[Object(ke.jsx)(Ce,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u3001"},{whitespace:!0,message:"\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a\u683c"}],children:Object(ke.jsx)(f.a,{placeholder:"\u8d26\u53f7",prefix:Object(ke.jsx)(g.a,{style:{color:"rgba(0,0,0,0.25)"}})})}),Object(ke.jsx)(Ce,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{pattern:/^[a-zA-Z0-9_@]+$/,message:"\u5bc6\u7801\u540d\u5fc5\u987b\u662f\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u3001@\u7b26\u53f7"},{whitespace:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\u683c"}],children:Object(ke.jsx)(f.a.Password,{placeholder:"\u5bc6\u7801",autoComplete:"off",prefix:Object(ke.jsx)(S.a,{style:{color:"rgba(0,0,0,0.25)"}})})}),Object(ke.jsx)(Ce,{children:Object(ke.jsx)(p.a,{className:"login-button",type:"primary",htmlType:"submit",children:"\u767b\u5f55"})})]})]})]})]})}}]),a}(l.Component),Me=Object(h.g)(Ie),_e=(a(404),a(167)),Te=(a(406),a(244)),Ee=a(43),Re=a.n(Ee),Fe=a(283),Ne=a.n(Fe),Ae=a(204),Ye=a(239),Ue=a.n(Ye),Be=a(18),Pe=a.n(Be),Le=window.location.origin+"/",ze=Le+"uploadFile/",Ve=Le+"ExcelDemo/",Ke=function e(t,a){for(var n=[],r=!0,i=0;i<t.length;i++)1*t[i].parentId===a&&(void 0!==t[i].UrlKey?n.push(He(t[i])):n.push(t[i]),r=!1);if(r)return[];for(var o=0;o<n.length;o++)n[o].children=e(t,n[o].id);return n},Je=function e(t){for(var a=0;a<t.length;a++)for(var n=0;n<t.length;n++)if(t[a].cOrder<t[n].cOrder){var r=t[a];t[a]=t[n],t[n]=r}for(var i=0;i<t.length;i++)0!==t[i].children.length&&(t[i].children=e(t[i].children));return t},He=function(e){var t={};return t.id=1*e.ID,t.title=e.title,t.key=e.UrlKey,t.isOpt="True"===e.isOpt,t.cOrder=1*e.cOrder,t.isMenu="True"===e.isMenu,t.parentId=1*e.parentId,t.children=[],t.isAuth="True"===e.isAuth,t.isSubMenu="True"===e.isSubMenu,t.isMobile="True"===e.isMobile,t},We=function(){var e=Object(x.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/Admin/Deskop"===t&&(t="/Admin/DdOrder/DdOrder"),"/Admin/DdOrder/DdOrderDet"===t&&(t="/Admin/DdOrder/DdOrder"),(a=new FormData).append("mapKey",t),a.append("Roles",_.getUser().Roles),e.next=7,k(T+"Home/getSite_Roles_Opt",a,"POST");case 7:if(0!==(n=e.sent).status){e.next=12;break}return e.abrupt("return",n.data.Site_Roles);case 12:return e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(e,t){return void 0!==e.find((function(e){return e.title===t}))},Ze=function(e){var t=new FormData;return Object.keys(e).forEach((function(a){void 0===e[a]?delete e[a]:"object"==typeof e[a]?null!==e[a]&&void 0!==e[a]&&""!==e[a]&&(t.append(a+"[0]",e[a][0].format("yyyy-MM-DD")),t.append(a+"[1]",e[a][1].format("yyyy-MM-DD"))):t.append(a,e[a])})),t};function Ge(e,t,a,n){e=function(e,t){var a=[];return e.forEach((function(e){var n={};t.forEach((function(t){n[t.title]=e[t.key]})),a.push(n)})),a}(e,t);var r=Re.a.utils.book_new(),i=Re.a.utils.json_to_sheet(e);i["!cols"]=a,Re.a.utils.book_append_sheet(r,i,"sheet1");var o=Re.a.write(r,{bookType:"xlsx",bookSST:!1,type:"array"});Ne.a.saveAs(new Blob([o],{type:"application/octet-stream"}),"".concat(n," ").concat(Pe()().format("YYYYMMDDHHmmss"),".xlsx"))}function $e(e){window.open(ze+e)}function Xe(e){window.open(Ve+e)}var Qe=function(e,t){return{filterDropdown:function(a){var n=a.setSelectedKeys,r=a.selectedKeys,i=a.confirm,o=a.clearFilters;return Object(ke.jsxs)("div",{style:{padding:8},children:[Object(ke.jsx)(f.a,{ref:function(e){t.searchInput=e},placeholder:"\u8f93\u5165\u67e5\u8be2\u6761\u4ef6",value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return t.handleSearch(r,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(ke.jsxs)(Te.b,{children:[Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return t.handleSearch(r,i,e)},icon:Object(ke.jsx)(Ae.a,{}),size:"small",style:{width:90},children:"\u67e5\u8be2"}),Object(ke.jsx)(p.a,{onClick:function(){return t.handleReset(o)},size:"small",style:{width:90},children:"\u91cd\u7f6e"})]})]})},filterIcon:function(e){return Object(ke.jsx)(Ae.a,{style:{color:e?"#1890ff":void 0}})},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return t.searchInput.select()}),100)},render:function(a){return t.state.searchedColumn===e?Object(ke.jsx)(Ue.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[t.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},et=function(e,t,a){return{filterDropdown:function(a){var n=a.setSelectedKeys,r=a.selectedKeys,i=a.confirm,o=a.clearFilters;return Object(ke.jsxs)("div",{style:{padding:8},children:[Object(ke.jsx)(f.a,{ref:function(e){t.searchInput=e},placeholder:"\u8f93\u5165\u67e5\u8be2\u6761\u4ef6",value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return t.handleSearch(r,i,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(ke.jsxs)(Te.b,{children:[Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return t.handleSearch(r,i,e)},icon:Object(ke.jsx)(Ae.a,{}),size:"small",style:{width:90},children:"\u67e5\u8be2"}),Object(ke.jsx)(p.a,{onClick:function(){return t.handleReset(o)},size:"small",style:{width:90},children:"\u91cd\u7f6e"})]})]})},filterIcon:function(e){return Object(ke.jsx)(Ae.a,{style:{color:e?"#1890ff":void 0}})},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return t.searchInput.select()}),100)},render:function(a){return t.state.searchedColumn===e?Object(ke.jsx)(Ue.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[t.state.searchText],autoEscape:!0,textToHighlight:a?a.toString():""}):a}}},tt=function(e){return"string"===typeof e?e.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3"):e},at=(a(74),a(37)),nt=(a(415),a(93)),rt=(a(417),nt.a.SubMenu),it=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={isModalEditShow:!1},e.PawEdit=function(){var t=_.getUser();e.setState({isModalEditShow:!0},(function(){e.formRef.current.setFieldsValue({ID:t.ID,PWD:"",PWDAGAIN:""})}))},e.ModalPwdEditOk=Object(x.a)(b.a.mark((function t(){var a,n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,t.prev=1,t.next=4,a.validateFields();case 4:n=t.sent,console.log(n),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(1),m.b.warn("\u8bf7\u68c0\u67e5\u6570\u636e\u7684\u6b63\u786e\u6027"),t.abrupt("return");case 12:return r=Ze(a.getFieldsValue(!0)),t.next=15,ne(r);case 15:0===t.sent.status?m.b.success("\u4fee\u6539\u6210\u529f"):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),e.setState({isModalEditShow:!1});case 18:case"end":return t.stop()}}),t,null,[[1,8]])}))),e.ModalPwdEditCancel=function(){e.setState({isModalEditShow:!1})},e.getSideMenu_Map=function(t){var a=e.props.history.location.pathname;return t.reduce((function(t,n){var r=void 0;return void 0!==n.children&&(r=n.children.find((function(e){return 0===a.indexOf(e.key)}))),r&&(e.openKey=n.key),n.isSubMenu?t.push(Object(ke.jsx)(rt,{title:n.title,children:e.getSideMenu_Map(n.children)},n.key)):n.isOpt?t.push(Object(ke.jsx)(nt.a.Item,{onClick:function(){return e[n.key]()},children:n.title},n.key)):t.push(Object(ke.jsx)(nt.a.Item,{children:Object(ke.jsx)(i.c,{to:n.key,children:Object(ke.jsx)("span",{children:n.title})})},n.key)),t}),[])},e}return Object(c.a)(a,[{key:"handleCheckPwd",value:function(e,t,a){var n=this.props.form.getFieldValue("cfmloginpass");n&&n!==t?a(new Error("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4")):a()}},{key:"handleCfmPwd",value:function(e,t,a){var n=this.props.form.getFieldValue("loginpass");n&&n!==t?a(new Error("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4")):a()}},{key:"render",value:function(){var e=this,t=this.state.isModalEditShow,a=this.props.menuList,n=this.getSideMenu_Map(a),r=this.openKey,o=this.props.history.location.pathname;return Object(ke.jsxs)("div",{className:"left-nav",children:[Object(ke.jsxs)(i.c,{to:"/",className:"left-nav-header",children:[Object(ke.jsx)("img",{src:w,alt:"logo",className:"logo"}),Object(ke.jsx)("h1",{children:"\u8f6e\u62d6\u6392\u4ea7\u7cfb\u7edf"})]}),Object(ke.jsx)(nt.a,{mode:"inline",theme:"dark",selectedKeys:[o],defaultOpenKeys:[r],children:n}),Object(ke.jsx)(at.a,{title:"\u4fee\u6539\u5bc6\u7801",visible:t,onOk:function(){return e.ModalPwdEditOk()},onCancel:function(){return e.ModalPwdEditCancel()},children:Object(ke.jsxs)(O.a,{ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{name:"PWD",label:"\u5bc6\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(ke.jsx)(f.a,{type:"password"})}),Object(ke.jsx)(O.a.Item,{name:"PWDAGAIN",label:"\u518d\u6b21\u8f93\u5165\u5bc6\u7801",rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("PWD")!==a?Promise.reject("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4"):Promise.resolve()}}}],children:Object(ke.jsx)(f.a,{type:"password"})})]})})]})}}]),a}(l.Component),ot=Object(h.g)(it),ct=a(35);a(418);function st(e){return Object(ke.jsx)("button",Object(ct.a)(Object(ct.a)({},e),{},{className:"link-button",children:e.children}))}var dt=[{id:"1",title:"\u9996\u9875",key:"/Admin/Deskop",icon:"home",isPublic:!0,isMenu:!0,isAuth:!1,isSubMenu:!1,children:[]},{id:"2",title:"\u4e1a\u52a1\u83dc\u5355",key:"/Admin/ReportSearch",icon:"appstore",isMenu:!0,isAuth:!0,isSubMenu:!0,children:[{id:"3",title:"\u8c03\u5ea6\u5355\u53d1\u5e03\u4e0e\u6267\u884c",key:"/Admin/DdOrder/DdOrder",isMenu:!0,isAuth:!0,isSubMenu:!1,icon:"bars"},{id:"4",title:"\u94a3\u91d1\u9700\u6c42\u5206\u89e3",key:"/Admin/Service/Service2",isMenu:!0,isAuth:!0,isSubMenu:!1,icon:"tool"},{id:"5",title:"\u673a\u52a0\u9700\u6c42\u5206\u89e3",key:"/Admin/Service/Service3",isMenu:!0,isAuth:!0,isSubMenu:!1,icon:"tool"},{id:"6",title:"\u91c7\u8d2d\u9700\u6c42\u5206\u89e3",key:"/Admin/Service/Service4",isMenu:!0,isAuth:!0,isSubMenu:!1,icon:"tool"}]},{id:"7",title:"\u62a5\u8868\u67e5\u8be2",key:"/Admin/Service",icon:"appstore",isMenu:!0,isAuth:!0,isSubMenu:!0,children:[{id:"8",title:"\u94a3\u91d1\u9700\u6c42\u5355\u67e5\u8be2",key:"/Admin/ReportSearch/Report2_1",isMenu:!0,isAuth:!0,icon:"bars",isSubMenu:!1,children:[{id:"9",title:"\u6dfb\u52a0",key:"Service1_Add",isMenu:!1,isAuth:!0,isOpt:!0,isSubMenu:!1},{id:"10",title:"Excel\u5bfc\u5165",key:"Service1_ExcelAdd",isMenu:!1,isAuth:!0,isOpt:!0,isSubMenu:!1},{id:"11",title:"\u5220\u9664",key:"Service1_ExcelDel",isMenu:!1,isAuth:!0,isOpt:!0,isSubMenu:!1}]},{id:"12",title:"\u94a3\u91d1\u9700\u6c42\u5355\u67e5\u8be2",key:"/Admin/ReportSearch/Report2_1",isMenu:!0,isAuth:!0,isSubMenu:!1,icon:"tool"},{id:"13",title:"\u673a\u52a0\u9700\u6c42\u5355\u67e5\u8be2",key:"/Admin/ReportSearch/Report3_1",isMenu:!0,isAuth:!0,isSubMenu:!1,icon:"tool"},{id:"14",title:"\u91c7\u8d2d\u9700\u6c42\u5355\u67e5\u8be2",key:"/Admin/ReportSearch/Report4_1",isMenu:!0,isAuth:!0,isSubMenu:!1,icon:"tool"}]},{id:"15",title:"\u7cfb\u7edf\u7ba1\u7406",key:"/Admin/Admin",icon:"appstore",isMenu:!0,isAuth:!0,isSubMenu:!0,children:[{id:"16",title:"\u5bc6\u7801\u4fee\u6539",key:"PasEdit",isMenu:!0,isAuth:!1,isSubMenu:!1,icon:"bars"},{id:"17",title:"\u7528\u6237\u7ba1\u7406",key:"/Admin/Admin/AdminUserConfig",isMenu:!0,isAuth:!0,isSubMenu:!1,icon:"bars"},{id:"18",title:"\u64cd\u4f5c\u8bb0\u5f55",key:"/Admin/Admin/OptRecord",isMenu:!0,isAuth:!0,isSubMenu:!1,icon:"bars"},{id:"19",title:"MRP\u63a7\u5236\u8005\u7ef4\u62a4",key:"/Admin/Admin/MRP",isMenu:!0,isAuth:!0,isSubMenu:!1,icon:"bars"},{id:"20",title:"\u7269\u6599\u73ed\u7ec4\u5bf9\u7167\u7ef4\u62a4",key:"/Admin/Admin/Matrial",isMenu:!0,isAuth:!0,icon:"bars",isSubMenu:!1,children:[{id:"21",title:"\u6dfb\u52a0",key:"Matrial_Add",isMenu:!1,isAuth:!0,isOpt:!0,isSubMenu:!1},{id:"22",title:"Excel\u5bfc\u5165",key:"Matrial_ExcelAdd",isMenu:!1,isAuth:!0,isOpt:!0,isSubMenu:!1},{id:"23",title:"\u5220\u9664",key:"Matrial_Del",isMenu:!1,isAuth:!0,isOpt:!0,isSubMenu:!1}]}]}],lt=(a(419),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={cTime:"",UserName:""},e.componentDidMount=function(){var t=e.props.UserName;e.setState({UserName:t})},e.handleExit=function(){at.a.confirm({title:"\u786e\u5b9a\u9000\u51fa\u5f53\u524d\u7528\u6237\u5417?",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){De.user={},_.removeUser(),e.props.history.replace("Login")}})},e}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this.state.UserName,a=this.props.history.location.pathname;return dt.forEach((function(t){if(t.key===a)e=t.title;else if(t.children){var n=t.children.find((function(e){return e.key===a}));n&&(e=n.title)}})),"/Admin/Upload/ExcelUp"===a&&(e="\u4e0a\u4f20Excel"),"/Admin/Test/DdOrderExcel"===a&&(e="\u5bfc\u5165\u8c03\u5ea6\u5355"),Object(ke.jsxs)("div",{className:"Header",children:[Object(ke.jsxs)("div",{className:"Header-top",children:[Object(ke.jsxs)("span",{children:["\u6b22\u8fce\uff0c",t]}),Object(ke.jsx)(st,{onClick:this.handleExit,children:"\u9000\u51fa"})]}),Object(ke.jsxs)("div",{className:"Header-btm",children:[Object(ke.jsx)("div",{className:"Header-btm-left",children:Object(ke.jsx)("h1",{style:{fontSize:"100%",margin:"0px"},children:e})}),Object(ke.jsx)("div",{className:"Header-btn-right"})]})]})}}]),a}(l.Component)),ut=Object(h.g)(lt),ht=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(ke.jsx)("div",{children:"\u64cd\u4f5c\u65e5\u5fd7"})}}]),a}(l.Component),pt=(a(57),a(36)),ft=(a(219),a(125)),jt=(a(220),a(78)),bt=(a(121),a(59)),mt=(a(428),a(242)),xt=a(165),Ot=(a(430),a(266),a(44)),gt=[{title:"\u7f16\u53f7",dataIndex:"UserCode",key:"UserCode",width:50},{title:"\u7528\u6237\u540d",dataIndex:"UserName",key:"UserName",ellipsis:!0,width:40}],St=[{title:"\u4e1a\u52a1\u540d\u79f0",dataIndex:"Name",key:"Name",width:60},{title:"MRP",dataIndex:"MRP",key:"MRP",width:60,render:function(e){return e.toUpperCase()}}],wt=[{title:"\u7269\u6599\u7f16\u7801",dataIndex:"Matnr",key:"Matnr",width:60,render:function(e){if(e)return(e+"").toUpperCase()}},{title:"\u7269\u6599\u540d\u79f0",dataIndex:"Maktx",key:"Maktx",width:60},{title:"\u73ed\u7ec4",dataIndex:"Bz",key:"Bz",width:60,render:function(e){if(e)return e.toUpperCase()}}],yt=[{title:"\u7269\u6599\u7f16\u7801",dataIndex:"Matnr",key:"Matnr",width:60},{title:"\u6570\u91cf",dataIndex:"Menge",key:"Menge",width:60},{title:"\u65e5\u671f",dataIndex:"Datetime1",key:"Datetime1",width:60},{title:"\u72b6\u6001",dataIndex:"status",key:"status",width:30,render:function(e){var t;switch(e){case"\u5df2\u5b8c\u6210":t=Object(ke.jsx)(Ot.a,{color:"success",children:"\u5df2\u5b8c\u6210"});break;case"\u6267\u884c\u4e2d":t=Object(ke.jsx)(Ot.a,{color:"processing",children:"\u6267\u884c\u4e2d"});break;case"\u5f02\u5e38":t=Object(ke.jsx)(Ot.a,{color:"error",children:"\u5f02\u5e38"});break;case"\u6267\u884c\u8d85\u65f6":t=Object(ke.jsx)(Ot.a,{color:"warning",children:"\u6267\u884c\u8d85\u65f6"});break;default:t=Object(ke.jsx)(Ot.a,{color:"processing",children:"\u6267\u884c\u4e2d"})}return t}}],vt=[{title:"\u7cfb\u5217/\u578b\u53f7",dataIndex:"Series",key:"Series",width:60},{title:"\u7269\u6599\u7f16\u7801",dataIndex:"Matnr",key:"Matnr",width:60},{title:"\u6570\u91cf",dataIndex:"Menge",key:"Menge",width:60},{title:"\u65e5\u671f",dataIndex:"Datetime1",key:"Datetime1",width:60},{title:"\u72b6\u6001",dataIndex:"status",key:"status",width:30,render:function(e){var t;switch(e){case"\u5df2\u5b8c\u6210":t=Object(ke.jsx)(Ot.a,{color:"success",children:"\u5df2\u5b8c\u6210"});break;case"\u6267\u884c\u4e2d":t=Object(ke.jsx)(Ot.a,{color:"processing",children:"\u6267\u884c\u4e2d"});break;case"\u5f02\u5e38":t=Object(ke.jsx)(Ot.a,{color:"error",children:"\u5f02\u5e38"});break;case"\u6267\u884c\u8d85\u65f6":t=Object(ke.jsx)(Ot.a,{color:"warning",children:"\u6267\u884c\u8d85\u65f6"});break;default:t=Object(ke.jsx)(Ot.a,{color:"processing",children:"\u6267\u884c\u4e2d"})}return t}}],Dt=[{title:"\u7269\u6599\u7f16\u7801",dataIndex:"MATNR",key:"MATNR",width:60},{title:"\u6570\u91cf",dataIndex:"Menge",key:"Menge",width:60},{title:"\u9700\u6c42\u65e5\u671f",dataIndex:"Datetime1",key:"Datetime1",width:60},{title:"\u72b6\u6001",dataIndex:"status",key:"status",width:30,render:function(e){var t;switch(e){case"\u5df2\u5b8c\u6210":t=Object(ke.jsx)(Ot.a,{color:"success",children:"\u5df2\u5b8c\u6210"});break;case"\u6267\u884c\u4e2d":t=Object(ke.jsx)(Ot.a,{color:"processing",children:"\u6267\u884c\u4e2d"});break;case"\u5f02\u5e38":t=Object(ke.jsx)(Ot.a,{color:"error",children:"\u5f02\u5e38"});break;case"\u6267\u884c\u8d85\u65f6":t=Object(ke.jsx)(Ot.a,{color:"warning",children:"\u6267\u884c\u8d85\u65f6"});break;default:t=Object(ke.jsx)(Ot.a,{color:"processing",children:"\u6267\u884c\u4e2d"})}return t}}],kt=[{title:"\u65e5\u671f",dataIndex:"Datetime1",key:"Datetime1",width:30,render:function(e){return Pe()(e).format("YYYYMMDD")}},{title:"\u4e00\u5c42\u7f16\u7801",dataIndex:"FirstCode",key:"FirstCode",width:40},{title:"\u4e00\u5c42\u540d\u79f0",dataIndex:"FirstName",key:"FirstName",width:60},{title:"\u4e00\u5c42\u6570\u91cf",dataIndex:"Num1",key:"Num1",width:20},{title:"\u4e00\u5c42\u5de5\u827a",dataIndex:"Pline1",key:"Pline1",width:12},{title:"\u4e8c\u5c42\u7f16\u7801",dataIndex:"SecondCode",key:"SecondCode",width:40},{title:"\u4e8c\u5c42\u540d\u79f0",dataIndex:"SecondName",key:"SecondName",width:60},{title:"\u4e8c\u5c42\u6570\u91cf",dataIndex:"Num2",key:"Num2",width:20},{title:"\u4e8c\u5c42\u5de5\u827a",dataIndex:"Pline2",key:"Pline2",width:12},{title:"\u4e09\u5c42\u7f16\u7801",dataIndex:"ThirdCode",key:"ThirdCode",width:40},{title:"\u4e09\u5c42\u540d\u79f0",dataIndex:"ThirdName",key:"ThirdName",width:60},{title:"\u4e09\u5c42\u6570\u91cf",dataIndex:"Num3",key:"Num3",width:20},{title:"\u4e09\u5c42\u5de5\u827a",dataIndex:"Pline3",key:"Pline3",width:12},{title:"\u56db\u5c42\u7f16\u7801",dataIndex:"FourthCode",key:"FourthCode",width:40},{title:"\u56db\u5c42\u540d\u79f0",dataIndex:"FourthName",key:"FourthName",width:60},{title:"\u56db\u5c42\u6570\u91cf",dataIndex:"Num4",key:"Num4",width:20},{title:"\u56db\u5c42\u5de5\u827a",dataIndex:"Pline4",key:"Pline4",width:12},{title:"\u4e94\u5c42\u7f16\u7801",dataIndex:"FifthCode",key:"FifthCode",width:40},{title:"\u4e94\u5c42\u540d\u79f0",dataIndex:"FifthName",key:"FifthName",width:60},{title:"\u4e94\u5c42\u6570\u91cf",dataIndex:"Num5",key:"Num5",width:20},{title:"\u4e94\u5c42\u5de5\u827a",dataIndex:"Pline5",key:"Pline5",width:12},{title:"\u516d\u5c42\u7f16\u7801",dataIndex:"SixthCode",key:"SixthCode",width:60},{title:"\u516d\u5c42\u540d\u79f0",dataIndex:"SixthName",key:"SixthName",width:60},{title:"\u516d\u5c42\u6570\u91cf",dataIndex:"Num6",key:"Num6",width:20},{title:"\u516d\u5c42\u5de5\u827a",dataIndex:"Pline6",key:"Pline6",width:12},{title:"\u7cfb\u5217",dataIndex:"Series",key:"Series",width:20}],Ct=[{title:"\u7cfb\u5217",dataIndex:"Series",key:"Series",width:40,ellipsis:!0},{title:"\u5b50\u952e\u7269\u6599\u53f7",dataIndex:"Matnr",key:"Matnr",width:60},{title:"\u5b50\u952e\u7269\u6599\u63cf\u8ff0",dataIndex:"Maktx",key:"Maktx",width:90,ellipsis:!0},{title:"\u6570\u91cf",dataIndex:"Menge",key:"Menge",width:30},{title:"\u5355\u4f4d",dataIndex:"Meins",key:"Meins",width:30},{title:"MRP\u63a7\u5236\u8005",dataIndex:"MRP",key:"MRP",width:50},{title:"\u73ed\u7ec4",dataIndex:"bz",key:"bz",width:40}],It=[{title:"\u7269\u6599\u7f16\u7801",dataIndex:"Matnr",key:"Matnr",width:50},{title:"\u7269\u6599\u63cf\u8ff0",dataIndex:"Maktx",key:"Maktx",width:150,ellipsis:!0},{title:"\u9700\u6c42\u65e5\u671f",dataIndex:"Datetime1",key:"Datetime1",width:40,render:function(e){if(""!==e){var t=new Date(e);return Pe()(t).format("YYYYMMDD")}return""}},{title:"MRP\u63a7\u5236\u8005",dataIndex:"MRP",key:"MRP",width:40},{title:"\u5355\u4f4d",dataIndex:"Meins",key:"Meins",width:25},{title:"\u4f9b\u5e94\u5546\u4ee3\u7801",dataIndex:"Lifnr",key:"Lifnr",width:40},{title:"\u4f9b\u5e94\u5546\u540d\u79f0",dataIndex:"Name1",key:"Name1",ellipsis:!0,width:70},{title:"\u6570\u91cf",dataIndex:"Menge",key:"Menge",width:30},{title:"\u914d\u989d",dataIndex:"PEIE",key:"PEIE",width:30},{title:"9001\u8f6e\u62d6\u5bc4\u552e\u5e93\u5b58",dataIndex:"Num1",key:"Num1",width:55},{title:"4101\u8f6e\u62d6\u6750\u6599\u5e93\u5b58",dataIndex:"Num2",key:"Num2",width:55},{title:"\u6536\u8d27\u51bb\u7ed3\u6570\u91cf",dataIndex:"SHDJ",key:"SHDJ",width:40}],Mt=[{title:"\u6587\u4ef6\u540d",dataIndex:"FileName",key:"FileName",width:30},{title:"\u4e0a\u4f20\u65f6\u95f4",dataIndex:"Budat",key:"Budat",width:25}],_t=[{title:"\u64cd\u4f5c\u7c7b\u578b",dataIndex:"TypeName",key:"TypeName",width:30},{title:"\u64cd\u4f5c\u4eba\u7f16\u7801",dataIndex:"UserCode",key:"UserCode",width:30},{title:"\u64cd\u4f5c\u4eba",dataIndex:"UserName",key:"UserName",width:30},{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"DateTime1",key:"DateTime1",width:30},{title:"\u64cd\u4f5c\u5185\u5bb9",dataIndex:"Contents",key:"Contents",ellipsis:!0,width:30}],Tt=function(e){var t=e.state,a=t.Fuc_Bj,n=t.Fuc_Jj,r=t.Fuc_Cg,i=[{title:"\u6295\u4ea7\u65e5\u671f",dataIndex:"Datetime1",key:"Datetime1",width:30},{title:"\u94a3\u91d1\u72b6\u6001",dataIndex:"BjStatus",key:"BjStatus",width:20,render:function(e,t){return"\u5f85\u6267\u884c"===e?Object(ke.jsx)(Ot.a,{color:"blue",children:e}):"\u5df2\u5b8c\u6210"===e?Object(ke.jsx)(Ot.a,{color:"green",children:e}):Object(ke.jsx)(Ot.a,{color:"magenta",children:e})}},{title:"\u673a\u52a0\u72b6\u6001",dataIndex:"JjStatus",key:"JjStatus",width:20,render:function(e){return"\u5f85\u6267\u884c"===e?Object(ke.jsx)(Ot.a,{color:"blue",children:e}):"\u5df2\u5b8c\u6210"===e?Object(ke.jsx)(Ot.a,{color:"green",children:e}):Object(ke.jsx)(Ot.a,{color:"magenta",children:e})}},{title:"\u91c7\u8d2d\u72b6\u6001",dataIndex:"CgStatus",key:"CgStatus",width:20,render:function(e){return"\u5f85\u6267\u884c"===e?Object(ke.jsx)(Ot.a,{color:"blue",children:e}):"\u5df2\u5b8c\u6210"===e?Object(ke.jsx)(Ot.a,{color:"green",children:e}):Object(ke.jsx)(Ot.a,{color:"magenta",children:e})}}];return i=i.filter((function(e){return!(!a&&"BjStatus"===e.key)&&(!(!n&&"JjStatus"===e.key)&&!(!r&&"CgStatus"===e.key))}))},Et=function(e){return[Object(ct.a)({title:"\u8c03\u5ea6\u5355\u53f7",dataIndex:"LTOrder",key:"LTOrder",width:30},Qe("LTOrder",e)),{title:"\u7248\u672c\u53f7",dataIndex:"TbCount",key:"TbCount",width:18},{title:"\u5e8f\u53f7",dataIndex:"NO",key:"NO",width:18},{title:"\u751f\u6548",dataIndex:"status",key:"status",width:25,filters:[{text:"\u662f",value:"\u662f"},{text:"\u5426",value:"\u5426"}],render:function(e){return"\u662f"===e?Object(ke.jsx)(Ot.a,{color:"green",children:"\u662f"}):Object(ke.jsx)(Ot.a,{color:"red",children:"\u5426"})}},Object(ct.a)({title:"\u4ea7\u7ebf",dataIndex:"Faline",key:"Faline",width:25},Qe("Faline",e)),{title:"\u8ba1\u5212\u6708\u4efd",dataIndex:"PlanDt",key:"PlanDt",width:25,render:function(e){return e}},{title:"\u660e\u7ec6\u6570",dataIndex:"DetCount",key:"DetCount",width:18}]},Rt=function(){return[{title:"\u6574\u673a\u7f16\u7801",dataIndex:"ZjNo",key:"ZjNo",editable:!0,required:!0,width:20},{title:"\u7269\u6599\u7f16\u7801",dataIndex:"Matnr",key:"Matnr",editable:!1,width:18},{title:"\u7cfb\u5217",dataIndex:"Series",key:"Series",width:12},{title:"\u5206\u52a8\u7bb1",dataIndex:"Box",key:"Box",editable:!0,width:12},{title:"\u6570\u91cf",dataIndex:"Num",key:"Num",width:10},{title:"\u914d\u7f6e",dataIndex:"Config",key:"Config",editable:!0,width:48},{title:"\u6295\u4ea7\u65e5\u671f",dataIndex:"Datetime1",key:"Datetime1",width:18},{title:"\u4ea4\u5e93\u65f6\u95f4",dataIndex:"Datetime2",editable:!0,required:!0,key:"Datetime2",width:18,render:function(e){return"object"===typeof e?Pe()(e).format("YYYYMMDD"):e}},{title:"\u5907\u6ce8",dataIndex:"Bz",editable:!0,key:"Bz",width:38,ellipsis:!0}]},Ft=function(e){return"1"===e?[{title:"\u7269\u6599\u7f16\u7801",dataIndex:"Matnr",key:"Matnr",width:22,render:function(e){return e.replace(/\b(0+)/gi,"")}},{title:"\u7269\u6599\u63cf\u8ff0",dataIndex:"Maktx",key:"Maktx",width:22},{title:"\u5355\u4f4d",dataIndex:"Meins",key:"Meins",width:22},{title:"\u7cfb\u5217",dataIndex:"Series",key:"Series",width:12},{title:"\u73ed\u7ec4",dataIndex:"Bz",key:"Bz",width:22},{title:"\u9700\u6c42\u603b\u6570",dataIndex:"Menge",key:"Menge",width:22}]:[{title:"\u7269\u6599\u7f16\u7801",dataIndex:"Matnr",key:"Matnr",width:22,render:function(e){return e.replace(/\b(0+)/gi,"")}},{title:"\u7269\u6599\u63cf\u8ff0",dataIndex:"Maktx",key:"Maktx",width:22},{title:"\u5355\u4f4d",dataIndex:"Meins",key:"Meins",width:22},{title:"\u73ed\u7ec4",dataIndex:"Bz",key:"Bz",width:22},{title:"\u9700\u6c42\u603b\u6570",dataIndex:"Menge",key:"Menge",width:22}]},Nt=function(e){return"1"===e?[{title:"\u7269\u6599\u7f16\u7801",dataIndex:"Matnr",key:"Matnr",width:16,render:function(e){return e.replace(/\b(0+)/gi,"")}},{title:"\u7269\u6599\u63cf\u8ff0",dataIndex:"Maktx",key:"Maktx",width:24},{title:"MRP\u63a7\u5236\u8005",dataIndex:"MRP",key:"MRP",width:10},{title:"\u5355\u4f4d",dataIndex:"Meins",key:"Meins",width:10},{title:"\u4f9b\u5e94\u5546\u4ee3\u7801",dataIndex:"Lifnr",key:"Lifnr",width:16},{title:"\u4f9b\u5e94\u5546\u540d\u79f0",dataIndex:"Name1",key:"Name1",width:24,ellipsis:!0},{title:"\u7cfb\u5217",dataIndex:"Series",key:"Series",width:10},{title:"\u6570\u91cf",dataIndex:"Menge",key:"Menge",width:12},{title:"\u914d\u989d",dataIndex:"PEIE",key:"PEIE",width:12},{title:"\u5bc4\u552e\u5e93\u5b58",dataIndex:"Num1",key:"Num1",width:14},{title:"\u6750\u6599\u5e93\u5b58",dataIndex:"Num2",key:"Num2",width:14}]:[{title:"\u7269\u6599\u7f16\u7801",dataIndex:"Matnr",key:"Matnr",width:16},{title:"\u7269\u6599\u63cf\u8ff0",dataIndex:"Maktx",key:"Maktx",width:24},{title:"MRP\u63a7\u5236\u8005",dataIndex:"MRP",key:"MRP",width:10},{title:"\u5355\u4f4d",dataIndex:"Meins",key:"Meins",width:10},{title:"\u4f9b\u5e94\u5546\u4ee3\u7801",dataIndex:"Lifnr",key:"Lifnr",width:16},{title:"\u4f9b\u5e94\u5546\u540d\u79f0",dataIndex:"Name1",key:"Name1",width:24,ellipsis:!0},{title:"\u6570\u91cf",dataIndex:"Menge",key:"Menge",width:12},{title:"\u914d\u989d",dataIndex:"PEIE",key:"PEIE",width:12},{title:"\u5bc4\u552e\u5e93\u5b58",dataIndex:"Num1",key:"Num1",width:14},{title:"\u6750\u6599\u5e93\u5b58",dataIndex:"Num2",key:"Num2",width:14}]},At=function(e){var t=[];for(var a in e){var n=new Date(a);t.push({title:Pe()(n).format("DD"),dataIndex:a,key:a,width:16})}return t},Yt=function(e){return"1"===e?[{title:"\u7cfb\u5217",dataIndex:"Series",key:"Series",width:10},{title:"\u4e00\u5c42\u7f16\u7801",dataIndex:"FirstCode",key:"FirstCode",width:14,render:function(e){return e.replace(/\b(0+)/gi,"")}},{title:"\u4e00\u5c42\u540d\u79f0",dataIndex:"FirstName",key:"FirstName",width:22},{title:"\u4e8c\u5c42\u7f16\u7801",dataIndex:"SecondCode",key:"SecondCode",width:14},{title:"\u4e8c\u5c42\u540d\u79f0",dataIndex:"SecondName",key:"SecondName",width:22},{title:"\u4e09\u5c42\u7f16\u7801",dataIndex:"ThirdCode",key:"ThirdCode",width:14},{title:"\u4e09\u5c42\u540d\u79f0",dataIndex:"ThirdName",key:"ThirdName",width:22},{title:"\u56db\u5c42\u7f16\u7801",dataIndex:"FourthCode",key:"FourthCode",width:14},{title:"\u56db\u5c42\u540d\u79f0",dataIndex:"FourthName",key:"FourthName",width:22},{title:"\u4e94\u5c42\u7f16\u7801",dataIndex:"FifthCode",key:"FifthCode",width:14},{title:"\u4e94\u5c42\u540d\u79f0",dataIndex:"FifthName",key:"FifthName",width:22},{title:"\u603b\u9700\u6c42",dataIndex:"Num1",key:"Num1",width:12}]:[{title:"\u4e00\u5c42\u7f16\u7801",dataIndex:"FirstCode",key:"FirstCode",width:14},{title:"\u4e00\u5c42\u540d\u79f0",dataIndex:"FirstName",key:"FirstName",width:22},{title:"\u4e8c\u5c42\u7f16\u7801",dataIndex:"SecondCode",key:"SecondCode",width:14},{title:"\u4e8c\u5c42\u540d\u79f0",dataIndex:"SecondName",key:"SecondName",width:22},{title:"\u4e09\u5c42\u7f16\u7801",dataIndex:"ThirdCode",key:"ThirdCode",width:14},{title:"\u4e09\u5c42\u540d\u79f0",dataIndex:"ThirdName",key:"ThirdName",width:22},{title:"\u56db\u5c42\u7f16\u7801",dataIndex:"FourthCode",key:"FourthCode",width:14},{title:"\u56db\u5c42\u540d\u79f0",dataIndex:"FourthName",key:"FourthName",width:22},{title:"\u4e94\u5c42\u7f16\u7801",dataIndex:"FifthCode",key:"FifthCode",width:14},{title:"\u4e94\u5c42\u540d\u79f0",dataIndex:"FifthName",key:"FifthName",width:22},{title:"\u516d\u5c42\u7f16\u7801",dataIndex:"SixthCode",key:"SixthCode",width:14},{title:"\u516d\u5c42\u540d\u79f0",dataIndex:"SixthName",key:"SixthName",width:22},{title:"\u603b\u9700\u6c42",dataIndex:"Num1",key:"Num1",width:12}]},Ut=function(e){return[Object(ct.a)({title:"\u7269\u6599\u7f16\u7801",dataIndex:"Code2",key:"Code2",width:20},et("FirstCode",e)),Object(ct.a)({title:"\u7269\u6599\u540d\u79f0",dataIndex:"Name",key:"Name",width:20},et("FirstName",e)),{title:"\u6570\u91cf",dataIndex:"Num",key:"Num",width:5},Object(ct.a)({title:"\u5de5\u827a",dataIndex:"Pline1",key:"Pline1",width:8},et("Pline",e))]},Bt=f.a.Search,Pt=mt.a.TabPane,Lt=at.a.confirm,zt=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).load_Add=!1,e.formRef=u.a.createRef(),e.state={dataSource:[],dataTotal:0,selectedRowKeys:[],CopyRowKeys:[],myTabs:[],loading:!1,checkList:[],isModalEditShow:!1,UserConfig_columns:[],ModalTitle:"",load_Edit:!1},e.dataSource=[],e.RefFormData={},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,F();case 3:if(0!==(n=t.sent).status){t.next=13;break}if(null!=n.data){t.next=8;break}return m.b.warn("\u6ca1\u6709\u67e5\u5230\u7528\u6237\u6570\u636e"),t.abrupt("return");case 8:e.dataSource=n.data.UserInfo,r=e.dataSource.slice(0,9999),e.setState({dataSource:r,dataTotal:1e3,loading:!1}),t.next=14;break;case 13:m.b.warn("\u6ca1\u6709\u67e5\u5230\u7528\u6237\u6570\u636e");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSelectChange=function(t){e.setState({selectedRowKeys:t})},e.onRow=function(t){return{onClick:function(a){var n=t.Roles.split(",");e.setState({selectedRowKeys:[t.ID],checkList:n})}}},e.onSearch=function(t){var a=e.dataSource.filter((function(e){return e.UserName.indexOf(t)>=0}));e.setState({dataSource:a,dataTotal:1e3})},e.CheckOnchange=function(t){var a,n=e.state.checkList,r=t.target.valueProp;t.target.checked?(n.push(r+""),console.dir(n),e.setState({checkList:n})):(a=n.filter((function(e){return 1*e!==r})),console.dir(a),e.setState({checkList:a}))},e.submitChange=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.selectedRowKeys,r=a.checkList,void 0!==n[0]&&0!==n[0]&&""!==n[0]){t.next=4;break}return m.b.warn("\u8bf7\u5148\u9009\u62e9\u7528\u6237"),t.abrupt("return");case 4:return 0!==(i=r.join(",")).length&&","===i[0]&&(i=i.substr(1)),(o=new FormData).append("ID",n[0]),o.append("Roles",i),e.setState({load_Edit:!0}),t.next=12,ne(o);case 12:0===t.sent.status&&(m.b.success("\u66f4\u6539\u6743\u9650\u6210\u529f"),e.SearchData(),e.setState({load_Edit:!1}));case 14:case"end":return t.stop()}}),t)}))),e.ModalEdit=function(t,a){a.stopPropagation(),e.setState({isModalEditShow:!0,ModalTitle:"\u7f16\u8f91\u7528\u6237"},(function(){e.formRef.current.setFieldsValue(t)}))},e.ModalAdd=function(){e.setState({isModalEditShow:!0,ModalTitle:"\u65b0\u5efa\u7528\u6237"},(function(){e.formRef.current.resetFields()}))},e.ModalDel=function(t,a){a.stopPropagation(),Lt({title:"\u662f\u5426\u5220\u9664\u6570\u636e?",icon:Object(ke.jsx)(xt.a,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){var a=Object(x.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=new FormData).append("ID",t.ID),a.next=4,ue(n);case 4:0===a.sent.status&&(m.b.success("\u5220\u9664\u6210\u529f"),e.SearchData());case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),onCancel:function(){}})},e.ModalEditOk=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.load_Add){t.next=3;break}return m.b.warn("\u8bf7\u52ff\u91cd\u590d\u63d0\u4ea4!"),t.abrupt("return");case 3:return a=e.formRef.current,t.prev=4,t.next=7,a.validateFields();case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(4),m.b.warn("\u8bf7\u68c0\u67e5\u6570\u636e\u7684\u6b63\u786e\u6027"),t.abrupt("return");case 13:if(n=e.state.ModalTitle,e.load_Add=!0,t.prev=15,"\u7f16\u8f91\u7528\u6237"!==n){t.next=29;break}return r=a.getFieldsValue(!0),(i=new FormData).append("ID",r.ID),i.append("PWD",r.PWD),i.append("UserCode",r.UserCode),i.append("UserName",r.UserName),t.next=25,ne(i);case 25:0===t.sent.status&&(m.b.success("\u7f16\u8f91\u7528\u6237\u6210\u529f"),e.SearchData()),t.next=38;break;case 29:return o=a.getFieldsValue(!0),(c=new FormData).append("PWD",o.PWD),c.append("UserCode",o.UserCode),c.append("UserName",o.UserName),t.next=36,X(c);case 36:0===t.sent.status?(m.b.success("\u6dfb\u52a0\u7528\u6237\u6210\u529f"),e.SearchData()):m.b.error("\u7528\u6237\u7f16\u53f7\u91cd\u590d");case 38:e.setState({isModalEditShow:!1}),t.next=43;break;case 41:t.prev=41,t.t1=t.catch(15);case 43:return t.prev=43,e.load_Add=!1,t.finish(43);case 46:case"end":return t.stop()}}),t,null,[[4,9],[15,41,43,46]])}))),e.ModalEditCancel=function(){e.setState({isModalEditShow:!1})},e.getTabs=function(){var t=e.state,a=t.myTabs,n=t.checkList;if(void 0!==a&&a.length>0)return Object(ke.jsx)(mt.a,{defaultActiveKey:"1",children:a.map((function(t){return Object(ke.jsx)(Pt,{tab:t.isMobile?"(\u624b\u673a\u7248)"+t.title:t.title,children:t.children.map((function(t){var a;return t.isAuth?(n.length>0&&(a=n.find((function(e){return 1*e===t.id}))),Object(ke.jsxs)("div",{children:[Object(ke.jsx)("h2",{children:Object(ke.jsxs)(bt.a,{checked:void 0!==a,style:{fontWeight:600},onChange:function(t){return e.CheckOnchange(t)},valueProp:t.id,children:[" ",t.title]})}),"\u2003\u2003",void 0===t.children?"":t.children.map((function(t){var a;return n.length>0&&(a=n.find((function(e){return 1*e===t.id}))),t.isAuth?Object(ke.jsx)(bt.a,{checked:void 0!==a,onChange:function(t){return e.CheckOnchange(t)},valueProp:t.id,children:t.title},t.key+"_checkBox"):""}))]},t.key+"_div")):""}))},t.key)}))})},e.componentDidMount=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new FormData,r=De.user,a.append("AuthConfig",r.Roles),t.next=5,R(a);case 5:0===(i=t.sent).status?(o=i.data.Site_Roles,c=Ke(o,0),c=Je(c),n=c.filter((function(e){return console.dir(e),!!e.isAuth}))):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),e.SearchData({pageMode:!0}),e.setState({myTabs:n,UserConfig_columns:gt});case 9:case"end":return t.stop()}}),t)}))),e.ModalCopy=function(t,a){a.stopPropagation(),e.setState({CopyRowKeys:t.Roles.split(",")}),m.b.success("\u6743\u9650\u5df2\u590d\u5236")},e.ModalPaste=function(t,a){a.stopPropagation();var n=e.state.CopyRowKeys;console.dir(t.ID),e.setState({checkList:n,CopyRowKeys:[],selectedRowKeys:[t.ID]}),m.b.success("\u6743\u9650\u5df2\u7c98\u8d34")},e.componentWillUnmount=function(){gt.pop()},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.selectedRowKeys,r=t.loading,i=t.ModalTitle,o=t.isModalEditShow,c=t.load_Edit,s={columnWidth:"16px",checkStrictly:!0,type:"radio",fixed:!0,selectedRowKeys:n,onChange:this.onSelectChange};return gt.length>=3&&gt.pop(),gt.push({title:"\u64cd\u4f5c",width:90,fixed:"right",dataIndex:"operation",render:function(t,a){return Object(ke.jsxs)("div",{style:{textAlign:"center"},children:[0===e.state.CopyRowKeys.length?Object(ke.jsx)(p.a,{type:"dashed",size:"small",onClick:function(t){return e.ModalCopy(a,t)},children:"\u590d\u5236\u6743\u9650"}):Object(ke.jsx)(p.a,{type:"default",onClick:function(t){return e.ModalPaste(a,t)},size:"small",children:"\u7c98\u8d34\u6743\u9650"}),"\xa0",Object(ke.jsx)(p.a,{size:"small",type:"primary",onClick:function(t){return e.ModalDel(a,t)},danger:!0,children:"\u5220\u9664"}),"\xa0",Object(ke.jsx)(p.a,{size:"small",type:"primary",onClick:function(t){return e.ModalEdit(a,t)},children:"\u7f16\u8f91"})]})}}),Object(ke.jsxs)(ft.a,{className:"Content-main",children:[Object(ke.jsx)(jt.a,{span:1}),Object(ke.jsxs)(jt.a,{span:10,className:"left_content",children:[Object(ke.jsxs)(ft.a,{style:{marginBottom:"10px"},children:[Object(ke.jsx)(jt.a,{span:12,children:Object(ke.jsx)(Bt,{placeholder:"\u8f93\u5165\u7528\u6237\u540d\u641c\u7d22",enterButton:!0,onSearch:this.onSearch})}),Object(ke.jsx)(jt.a,{span:1}),Object(ke.jsxs)(jt.a,{span:11,children:[Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.submitChange()},loading:c,children:"\u63d0\u4ea4\u66f4\u6539"}),"\u2003",Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalAdd()},children:"\u6dfb\u52a0"})]})]}),Object(ke.jsx)(pt.a,{className:"TabUserConfig",dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,columns:this.state.UserConfig_columns,scroll:{y:600},size:"small",loading:r,pagination:!1,rowSelection:s,onRow:this.onRow})]}),Object(ke.jsx)(jt.a,{span:1}),Object(ke.jsx)(jt.a,{span:12,children:this.getTabs()}),Object(ke.jsx)(at.a,{title:i,visible:o,onOk:function(){return e.ModalEditOk()},onCancel:function(){return e.ModalEditCancel()},children:Object(ke.jsxs)(O.a,{ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{name:"UserCode",label:"\u7528\u6237\u7f16\u53f7",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u7f16\u53f7"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"UserName",label:"\u7528\u6237\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u79f0"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"PWD",label:"\u7528\u6237\u5bc6\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u5bc6\u7801"}],children:Object(ke.jsx)(f.a,{})})]})})]})}}]),a}(l.Component),Vt=a(70),Kt=(a(122),a(54)),Jt=(a(437),a(243)),Ht=(a(87),a(52)),Wt=a(523),qt=a(208),Zt=(a(439),Kt.a.Option),Gt=Ht.a.RangePicker,$t=function(e){var t=e.SearchData,a=e.Fielsds,n=Object(l.useState)(!1),r=Object(Jt.a)(n,2),i=r[0],o=r[1],c=O.a.useForm(),s=Object(Jt.a)(c,1)[0],d=function(e){switch(e.type){case"Input":return Object(ke.jsx)(f.a,{placeholder:e.placeholder,name:e.name});case"Select":return Object(ke.jsx)(Kt.a,{value:e.defaultValue+"",name:e.name,children:u(e.Options)});case"SelectFind":return Object(ke.jsx)(Kt.a,{showSearch:!0,value:e.defaultValue+"",optionFilterProp:"children",name:e.name,children:u(e.Options)});case"DateTime":return Object(ke.jsx)(Gt,{name:e.name});default:return null}},u=function(e){return e.map((function(e){return Object(ke.jsx)(Zt,{value:e.value+"",children:e.text},e.value)}))},h=function(){var e=Object(x.a)(b.a.mark((function e(a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.preventDefault(),n=s.getFieldsValue(!0),!s.getFieldsError().find((function(e){return e.errors.length>0}))){e.next=5;break}return e.abrupt("return");case 5:t(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ke.jsx)(O.a,{form:s,name:"advanced_search",className:"ant-advanced-search-form",style:{margin:"20px 0px"},children:Object(ke.jsxs)(ft.a,{gutter:24,children:[function(){var e=i?6:3,t=0;return a.map((function(a){return t>=e?(t++,null):(t++,Object(ke.jsx)(jt.a,{span:a.span,children:Object(ke.jsx)(O.a.Item,{name:a.name,label:a.label,rules:a.rules,children:d(a)})},a.key))}))}(),Object(ke.jsxs)(jt.a,{span:6,children:[Object(ke.jsx)(p.a,{type:"primary",htmlType:"submit",onClick:h,children:"\u67e5\u8be2"}),Object(ke.jsx)(p.a,{style:{margin:"0 8px"},onClick:function(){s.resetFields()},children:"\u91cd\u7f6e"}),a.length>=3?Object(ke.jsxs)(st,{style:{fontSize:12},onClick:function(){o(!i)},children:[i?Object(ke.jsx)(Wt.a,{}):Object(ke.jsx)(qt.a,{}),i?"\u6536\u8d77":"\u5c55\u5f00"]}):""]})]})})},Xt=function(e){return e.map((function(e){return{value:e.ID,text:e.Name}}))},Qt=function(e){return[{key:"Fiels_2",span:5,name:"TypeID",label:"\u4e1a\u52a1",type:"SelectFind",Options:Xt(e),defaultValue:"\u8f93\u5165\u641c\u7d22",placeholder:"\u4e1a\u52a1"},{key:"Fiels_3",span:4,name:"MRP",label:"MRP",type:"Input",placeholder:"MRP"}]},ea=[{key:"Fiels_2",span:4,name:"Matnr",label:"\u7269\u6599\u7f16\u7801",type:"Input",placeholder:"\u7269\u6599\u7f16\u7801"},{key:"Fiels_3",span:4,name:"Maktx",label:"\u7269\u6599\u540d\u79f0",type:"Input",placeholder:"\u7269\u6599\u540d\u79f0"}],ta=[{key:"Fiels_1",span:6,name:"Series",label:"\u578b\u53f7",type:"Input",placeholder:"\u578b\u53f7"},{key:"Fiels_2",span:6,name:"Matnr",label:"\u5b50\u952e\u7269\u6599\u53f7",type:"Input",placeholder:"\u5b50\u952e\u7269\u6599\u53f7"},{key:"Fiels_3",span:6,name:"Maktx",label:"\u5b50\u952e\u7269\u6599\u63cf\u8ff0",type:"Input",placeholder:"\u5b50\u952e\u7269\u6599\u63cf\u8ff0"}],aa=[{key:"Fiels_1",span:6,name:"Matnr",label:"\u7269\u6599\u7f16\u7801",type:"Input",placeholder:"\u7269\u6599\u7f16\u7801"},{key:"Fiels_2",span:6,name:"Maktx",label:"\u7269\u6599\u63cf\u8ff0",type:"Input",placeholder:"\u7269\u6599\u63cf\u8ff0"},{key:"Fiels_3",span:6,name:"Budat",label:"\u9700\u6c42\u65e5\u671f",type:"DateTime",placeholder:"\u9700\u6c42\u65e5\u671f"},{key:"Fiels_6",span:6,name:"Lifnr",label:"\u4f9b\u5e94\u5546\u4ee3\u7801",type:"Input",placeholder:"\u4f9b\u5e94\u5546\u4ee3\u7801"},{key:"Fiels_7",span:6,name:"Name1",label:"\u4f9b\u5e94\u5546\u540d\u79f0",type:"Input",placeholder:"\u4f9b\u5e94\u5546\u540d\u79f0"},{key:"Fiels_8",span:6,name:"MRP",label:"MRP\u63a7\u5236\u8005",type:"Input",placeholder:"MRP\u63a7\u5236\u8005"}],na=[{key:"Fiels_1",span:6,name:"TypeName",label:"\u64cd\u4f5c\u7c7b\u578b",type:"Input",placeholder:"\u64cd\u4f5c\u7c7b\u578b"},{key:"Fiels_2",span:6,name:"DateTime1",label:"\u64cd\u4f5c\u65f6\u95f4",type:"DateTime",placeholder:"\u64cd\u4f5c\u65f6\u95f4"},{key:"Fiels_3",span:6,name:"UserName",label:"\u64cd\u4f5c\u4eba",type:"Input",placeholder:"\u64cd\u4f5c\u4eba"}],ra=Kt.a.Option,ia=at.a.confirm,oa=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={dataSource:[],dataTotal:0,loading:!0,isModalEditShow:!1,isModalDelShow:!1,ModalTitle:"",WBInfo_columns:[],selectedRowKeys:[],Fuc_Exel:!1,Fuc_Add:!1,Fuc_Edit:!1,Fuc_Del:!1},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i,o,c,s,d,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=n.Fuc_Exel,i=n.Fuc_Add,o=n.Fuc_Edit,c=n.Fuc_Del,s=e.props.location.pathname,t.next=4,We(s);case 4:return e.Roles=t.sent,qe(e.Roles,"Excel\u5bfc\u5165")&&(r=!0),qe(e.Roles,"\u65b0\u5efa")&&(i=!0),qe(e.Roles,"\u7f16\u8f91")&&(o=!0),qe(e.Roles,"\u5220\u9664")&&(c=!0),(o||c)&&wt.push({title:"\u64cd\u4f5c",width:50,fixed:"right",dataIndex:"operation",render:function(t,a){return Object(ke.jsxs)("div",{style:{textAlign:"center"},children:[c?Object(ke.jsx)(p.a,{size:"small",type:"primary",onClick:function(){return e.ModalDel(a,Object(Vt.a)(e))},danger:!0,children:"\u5220\u9664"}):"","\u2003",o?Object(ke.jsx)(p.a,{size:"small",type:"primary",onClick:function(){return e.ModalEdit(a)},children:"\u7f16\u8f91"}):""]})}}),a=void 0===a?new FormData:Ze(a),e.setState({loading:!0}),t.next=14,N(a);case 14:0===(d=t.sent).status?(l=d.data.WBInfo,e.setState({dataSource:l,loading:!1,WBInfo_columns:wt,Fuc_Add:i,Fuc_Exel:r,Fuc_Edit:o,Fuc_Del:c})):(m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),e.setState({loading:!1,WBInfo_columns:wt,Fuc_Add:i,Fuc_Exel:r,Fuc_Edit:o,Fuc_Del:c}));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.layout={labelCol:{span:4},wrapperCol:{span:16}},e.ModalEdit=function(t){e.setState({isModalEditShow:!0,ModalTitle:"\u7f16\u8f91"},(function(){e.formRef.current.setFieldsValue(t)}))},e.ModalAdd=function(){e.setState({isModalEditShow:!0,ModalTitle:"\u65b0\u5efa"},(function(){e.formRef.current.resetFields()}))},e.ModalDel=function(e,t){ia({title:"\u662f\u5426\u5220\u9664\u6570\u636e?",icon:Object(ke.jsx)(xt.a,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){return Object(x.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=new FormData).append("ID",e.ID),a.next=4,pe(n);case 4:0===a.sent.status?(m.b.success("\u5220\u9664\u6210\u529f"),at.a.destroyAll(),t.SearchData()):(m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),at.a.destroyAll());case 6:case"end":return a.stop()}}),a)})))()},onCancel:function(){}})},e.ModalDels=function(e){ia({title:"\u662f\u5426\u6279\u91cf\u5220\u9664\u6570\u636e?",icon:Object(ke.jsx)(xt.a,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){return Object(x.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new FormData,""!==(n=e.state.selectedRowKeys.join(","))){t.next=6;break}return m.b.warn("\u6ca1\u6709\u9009\u62e9\u6570\u636e"),at.a.destroyAll(),t.abrupt("return");case 6:return a.append("IDS",n),t.next=9,me(a);case 9:0===t.sent.status?(m.b.success("\u5220\u9664\u6210\u529f"),at.a.destroyAll(),e.SearchData()):(m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),at.a.destroyAll());case 11:case"end":return t.stop()}}),t)})))()},onCancel:function(){}})},e.ModalExcel=function(){e.props.history.push({pathname:"/Admin/Upload/ExcelUp",columns:wt,submitUrl:"WBInfo",subTitle:"\u7269\u6599\u73ed\u7ec4\u5bf9\u7167\u7ef4\u62a4"})},e.ModalEditOk=Object(x.a)(b.a.mark((function t(){var a,n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,t.prev=1,t.next=4,a.validateFields();case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),m.b.warn("\u8bf7\u68c0\u67e5\u6570\u636e\u7684\u6b63\u786e\u6027"),t.abrupt("return");case 10:if(n=e.state.ModalTitle,r=Ze(a.getFieldsValue(!0)),"\u7f16\u8f91"!==n){t.next=19;break}return t.next=15,ie(r);case 15:0===t.sent.status?(m.b.success("\u7f16\u8f91\u6210\u529f"),e.SearchData()):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),t.next=24;break;case 19:if("\u65b0\u5efa"!==n){t.next=24;break}return t.next=22,ee(r);case 22:0===t.sent.status?(m.b.success("\u6dfb\u52a0\u6210\u529f"),e.SearchData()):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94");case 24:e.setState({isModalEditShow:!1});case 25:case"end":return t.stop()}}),t,null,[[1,6]])}))),e.ModalEditCancel=function(){e.setState({isModalEditShow:!1})},e.getOptions=function(e){return e().map((function(e){return Object(ke.jsx)(ra,{value:e.value,children:e.text},e.value+e.text)}))},e.onSelectChange=function(t){e.setState({selectedRowKeys:t})},e.componentDidMount=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.SearchData();case 1:case"end":return t.stop()}}),t)}))),e.DownLoadDemo=function(){Xe("\u7269\u6599\u73ed\u7ec4.xlsx")},e.componentWillUnmount=function(){var t=e.state,a=t.WBInfo_columns,n=t.Fuc_Edit,r=t.Fuc_Del;(n||r)&&(a.pop(),e.setState({WBInfo_columns:a}))},e}return Object(c.a)(a,[{key:"render",value:function(){for(var e=this,t=this.state,a=t.dataSource,n=t.loading,r=t.ModalTitle,i=t.isModalEditShow,o=t.selectedRowKeys,c=t.Fuc_Exel,s=t.Fuc_Add,d=t.Fuc_Del,l=t.WBInfo_columns,u={selectedRowKeys:o,onChange:this.onSelectChange};l.length>4;)l.pop();return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{children:Object(ke.jsx)($t,{SearchData:this.SearchData,Fielsds:ea,form:this.form})}),Object(ke.jsxs)("div",{className:"toolArea",children:[s?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalAdd()},children:"\u65b0\u5efa"}):"","\u2003",c?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcel()},children:"Excel\u5bfc\u5165"}):"","\u2003",Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.DownLoadDemo()},children:"\u6a21\u677f\u4e0b\u8f7d"}),"\u2003",d?Object(ke.jsx)(p.a,{type:"primary",danger:!0,onClick:function(){return e.ModalDels(e)},children:"\u6279\u91cf\u5220\u9664"}):""]}),Object(ke.jsx)(pt.a,{rowSelection:u,dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,columns:l,size:"middle",loading:n,pagination:!1}),Object(ke.jsx)(at.a,{title:r,visible:i,onOk:function(){return e.ModalEditOk()},onCancel:function(){return e.ModalEditCancel()},children:Object(ke.jsxs)(O.a,Object(ct.a)(Object(ct.a)({ref:this.formRef},this.layout),{},{children:[Object(ke.jsx)(O.a.Item,{name:"Matnr",label:"\u7269\u6599\u7f16\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7269\u6599\u7f16\u7801"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Maktx",label:"\u7269\u6599\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7269\u6599\u540d\u79f0"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Bz",label:"\u73ed\u7ec4",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u73ed\u7ec4"}],children:Object(ke.jsx)(f.a,{})})]}))})]})}}]),a}(l.Component),ca=Kt.a.Option,sa=at.a.confirm,da=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={dataSource:[],dataTotal:0,TypeInfo:[],loading:!0,isModalEditShow:!1,ModalTitle:"",V_MRPInfo_columns:[],selectedRowKeys:[],Fuc_Add:!1,Fuc_Edit:!1,Fuc_Del:!1},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i,o,c,s,d,l,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=n.Fuc_Add,i=n.Fuc_Edit,o=n.Fuc_Del,c=e.props.location.pathname,t.next=4,We(c);case 4:return e.Roles=t.sent,qe(e.Roles,"\u65b0\u5efa")&&(r=!0),qe(e.Roles,"\u7f16\u8f91")&&(i=!0),qe(e.Roles,"\u5220\u9664")&&(o=!0),(i||o)&&St.push({title:"\u64cd\u4f5c",width:50,fixed:"right",dataIndex:"operation",render:function(t,a){return Object(ke.jsxs)("div",{style:{textAlign:"center"},children:[o?Object(ke.jsx)(p.a,{size:"small",type:"primary",onClick:function(){return e.ModalDel(a,Object(Vt.a)(e))},danger:!0,children:"\u5220\u9664"}):"","\u2003",i?Object(ke.jsx)(p.a,{size:"small",type:"primary",onClick:function(){return e.ModalEdit(a)},children:"\u7f16\u8f91"}):""]})}}),a=void 0===a?new FormData:Ze(a),e.setState({loading:!0}),t.next=13,A(a);case 13:return s=t.sent,t.next=16,Y();case 16:d=t.sent,0===s.status?(l=s.data.V_MRPInfo,u=d.data.TypeInfo,e.setState({dataSource:l,TypeInfo:u,loading:!1,V_MRPInfo_columns:St,Fuc_Add:r,Fuc_Edit:i,Fuc_Del:o})):(m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),e.setState({loading:!1,V_MRPInfo_columns:St,Fuc_Add:r,Fuc_Edit:i,Fuc_Del:o}));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=function(){e.SearchData()},e.componentWillUnmount=function(){var t=e.state,a=t.Fuc_Edit,n=t.Fuc_Del;(a||n)&&(St.pop(),e.setState(St))},e.ModalEdit=function(t){e.setState({isModalEditShow:!0,ModalTitle:"\u7f16\u8f91"},(function(){e.formRef.current.setFieldsValue(t)}))},e.ModalAdd=function(){e.setState({isModalEditShow:!0,ModalTitle:"\u65b0\u5efa"},(function(){e.formRef.current.resetFields()}))},e.ModalDel=function(e,t){sa({title:"\u662f\u5426\u5220\u9664\u6570\u636e?",icon:Object(ke.jsx)(xt.a,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){return Object(x.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=new FormData).append("ID",e.ID),a.next=4,fe(n);case 4:0===a.sent.status?(m.b.success("\u5220\u9664\u6210\u529f"),at.a.destroyAll(),t.SearchData()):(m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),at.a.destroyAll());case 6:case"end":return a.stop()}}),a)})))()},onCancel:function(){}})},e.ModalDels=function(e){sa({title:"\u662f\u5426\u6279\u91cf\u5220\u9664\u6570\u636e?",icon:Object(ke.jsx)(xt.a,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){return Object(x.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=new FormData,""!==(n=e.state.selectedRowKeys.join(","))){t.next=6;break}return m.b.warn("\u6ca1\u6709\u9009\u62e9\u6570\u636e"),at.a.destroyAll(),t.abrupt("return");case 6:return a.append("IDS",n),t.next=9,be(a);case 9:0===t.sent.status?(m.b.success("\u5220\u9664\u6210\u529f"),at.a.destroyAll(),e.SearchData()):(m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),at.a.destroyAll());case 11:case"end":return t.stop()}}),t)})))()},onCancel:function(){}})},e.ModalEditOk=Object(x.a)(b.a.mark((function t(){var a,n,r,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,t.prev=1,t.next=4,a.validateFields();case 4:n=t.sent,console.log(n),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(1),m.b.warn("\u8bf7\u68c0\u67e5\u6570\u636e\u7684\u6b63\u786e\u6027"),t.abrupt("return");case 12:if(r=e.state.ModalTitle,i=Ze(a.getFieldsValue(!0)),"\u7f16\u8f91"!==r){t.next=21;break}return t.next=17,oe(i);case 17:0===t.sent.status?(m.b.success("\u7f16\u8f91\u6210\u529f"),e.SearchData()):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),t.next=26;break;case 21:if("\u65b0\u5efa"!==r){t.next=26;break}return t.next=24,te(i);case 24:0===t.sent.status?(m.b.success("\u6dfb\u52a0\u6210\u529f"),e.SearchData()):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94");case 26:e.setState({isModalEditShow:!1});case 27:case"end":return t.stop()}}),t,null,[[1,8]])}))),e.ModalEditCancel=function(){e.setState({isModalEditShow:!1})},e.getOptions=function(e){return e.length>0?e.map((function(e){return Object(ke.jsx)(ca,{value:e.ID,children:e.Name},e.ID)})):Object(ke.jsx)(ca,{children:"\u6570\u636e\u83b7\u53d6\u4e2d"})},e.onSelectChange=function(t){e.setState({selectedRowKeys:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.loading,r=t.isModalEditShow,i=t.ModalTitle,o=t.TypeInfo,c=t.Fuc_Add,s=t.Fuc_Del,d={selectedRowKeys:t.selectedRowKeys,onChange:this.onSelectChange};return this.state.V_MRPInfo_columns.length>3&&this.state.V_MRPInfo_columns.pop(),Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{children:Object(ke.jsx)($t,{SearchData:this.SearchData,Fielsds:Qt(o),form:this.form})}),Object(ke.jsxs)("div",{className:"toolArea",children:[c?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalAdd()},children:"\u65b0\u5efa"}):"","\u2003",s?Object(ke.jsx)(p.a,{type:"primary",danger:!0,onClick:function(){return e.ModalDels(e)},children:"\u6279\u91cf\u5220\u9664"}):""]}),Object(ke.jsx)(pt.a,{rowSelection:d,dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,columns:this.state.V_MRPInfo_columns,size:"middle",loading:n,pagination:!1}),Object(ke.jsx)(at.a,{title:i,visible:r,onOk:function(){return e.ModalEditOk()},onCancel:function(){return e.ModalEditCancel()},children:Object(ke.jsxs)(O.a,{ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{name:"TypeID",label:"\u4e1a\u52a1",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e1a\u52a1"}],children:Object(ke.jsx)(Kt.a,{showSearch:!0,style:{width:300},placeholder:"Select a person",optionFilterProp:"children",children:this.getOptions(o)})}),Object(ke.jsx)(O.a.Item,{name:"MRP",label:"MRP",rules:[{required:!0,message:"\u8bf7\u8f93\u5165MRP"}],children:Object(ke.jsx)(f.a,{})})]})})]})}}]),a}(l.Component),la=(a(120),a(72)),ua=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).SearchDataTemp={},e.state={dataSource:[],dataTotal:0,loading:!1,isModalShow:!1,ModalData:{},current:1,V_LogInfo_columns:[]},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===a?a=Ze({page:1,pageSize:20}):(void 0===a.page||void 0===a.pageSize?(e.SearchDataTemp=a,e.setState({current:1})):(a=Object(ct.a)(Object(ct.a)({},e.SearchDataTemp),a),e.setState({current:a.page})),console.dir(a),a=Ze(a)),_t.push({title:"\u8be6\u7ec6",width:20,fixed:"right",dataIndex:"operation",render:function(t,a){return Object(ke.jsx)("div",{style:{textAlign:"center"},children:Object(ke.jsx)(la.a,{placement:"top",title:"\u8be6\u7ec6",children:Object(ke.jsx)(p.a,{size:"small",icon:Object(ke.jsx)(Ae.a,{}),onClick:function(){return e.ModalOpen(a)}})})})}}),e.setState({loading:!0}),t.next=5,V(a);case 5:0===(n=t.sent).status?(r=n.data,i=r.V_LogInfo,o=r.V_LogInfo_Count,e.setState({dataSource:i,loading:!1,V_LogInfo_columns:_t,dataTotal:o})):(m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),e.setState({loading:!1,V_LogInfo_columns:_t}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.ModalOpen=function(t){e.setState({isModalShow:!0,ModalData:t})},e.ModalOK=function(){e.setState({isModalShow:!1})},e.ModalCancel=function(){e.setState({isModalShow:!1})},e.componentDidMount=function(){e.SearchData()},e.componentWillUnmount=function(){var t=e.state.V_LogInfo_columns;t.pop(),e.setState({V_LogInfo_columns:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.dataTotal,r=t.loading,i=t.isModalShow,o=t.ModalData,c=t.current;return _t.length>6&&_t.pop(),Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{children:Object(ke.jsx)($t,{SearchData:this.SearchData,Fielsds:na,form:this.form})}),Object(ke.jsx)(pt.a,{dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,columns:_t,size:"middle",loading:r,pagination:{position:["bottomCenter"],pageSizeOptions:[20],current:c,total:n,showTotal:function(e,t){return"\u4e00\u5171 ".concat(e," \u6761\u6570\u636e")},pageSize:20,onChange:function(t,a){e.SearchData({page:t,pageSize:a})}}}),Object(ke.jsxs)(at.a,{title:"\u8be6\u7ec6",visible:i,okText:"\u786e\u8ba4",cancelText:"\u5173\u95ed",onOk:function(){return e.ModalOK()},onCancel:function(){return e.ModalCancel()},children:[Object(ke.jsx)("h2",{children:"\u64cd\u4f5c\u7c7b\u578b"}),Object(ke.jsxs)("p",{children:["\u2003\u2003",o.TypeName]}),Object(ke.jsx)("h2",{children:"\u64cd\u4f5c\u4eba"}),Object(ke.jsxs)("p",{children:["\u2003\u2003",o.UserName]}),Object(ke.jsx)("h2",{children:"\u64cd\u4f5c\u4eba\u7f16\u7801"}),Object(ke.jsxs)("p",{children:["\u2003\u2003",o.UserCode]}),Object(ke.jsx)("h2",{children:"\u64cd\u4f5c\u65f6\u95f4"}),Object(ke.jsxs)("p",{children:["\u2003\u2003",o.DateTime1]}),Object(ke.jsx)("h2",{children:"\u64cd\u4f5c\u5185\u5bb9"}),Object(ke.jsxs)("p",{children:["\u2003\u2003",o.Contents]})]})]})}}]),a}(l.Component),ha=a(524),pa=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.dataSourceAll=[],e.state={dataSource:[],dataTotal:0,loading:!1},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0===a?new FormData:Ze(a),Mt.push({title:"\u64cd\u4f5c",width:25,fixed:"right",dataIndex:"operation",render:function(t,a){return Object(ke.jsx)("div",{style:{textAlign:"center"},children:Object(ke.jsx)(la.a,{placement:"top",title:"\u6253\u5f00",children:Object(ke.jsx)(p.a,{size:"small",icon:Object(ke.jsx)(ha.a,{}),onClick:function(){return e.ModalOpen(a)}})})})}}),e.setState({loading:!0}),t.next=5,z(a);case 5:0===(n=t.sent).status?(r=n.data.UploadInfo,e.setState({dataSource:r,loading:!1}),e.dataSourceAll=r):(m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),e.setState({loading:!1}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.SearchDataForm=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.dataSource,r=e.formRef.current,i=r.getFieldsValue(!0),o=i.FileName,c=i.Budat,n=e.dataSourceAll.filter((function(e){return(""===o||void 0===o||-1!==e.FileName.indexOf(o))&&!(""!==c&&void 0!==c&&!Pe()(e.Budat).isBefore(c))})),e.setState({dataSource:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=function(){e.SearchData()},e.componentWillUnmount=function(){Mt.pop(),e.setState({UploadInfo_columns:Mt})},e.ModalOpen=function(e){window.open(ze+e.FileName)},e.ModalEdit=function(e){},e.formItemLayout={labelCol:{span:2},wrapperCol:{span:4}},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.loading;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{children:Object(ke.jsxs)(O.a,{ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{style:{display:"inline-flex",width:"calc(20% - 4px)"},name:"FileName",label:"\u6587\u4ef6\u540d",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{style:{display:"inline-flex",width:"calc(18% - 4px)",marginLeft:"8px"},name:"Budat",label:"\u4e0a\u4f20\u65e5\u671f",children:Object(ke.jsx)(Ht.a,{format:"YYYY-MM-DD"})}),Object(ke.jsx)(p.a,{type:"primary",onClick:function(){e.SearchDataForm()},children:"\u67e5\u8be2"})]})}),Object(ke.jsx)(pt.a,{dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,columns:Mt,size:"middle",loading:n,pagination:!1})]})}}]),a}(l.Component),fa=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={dataSource:[],V_BjInfo_columns:[],dataTotal:0,Fuc_ExelOut:!1,current:1,loading:!0},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===a?a=Ze({page:1,pageSize:50}):(void 0===a.page||void 0===a.pageSize?(e.SearchDataTemp=a,e.setState({current:1})):(a=Object(ct.a)(Object(ct.a)({},e.SearchDataTemp),a),e.setState({current:a.page})),a=Ze(a)),e.setState({loading:!0}),t.next=4,U(a);case 4:0===(n=t.sent).status?(r=n.data,i=r.V_BjInfo,o=r.V_BjInfo_Count,e.setState({dataSource:i,loading:!1,V_BjInfo_columns:kt,dataTotal:o})):(e.setState({loading:!1,V_BjInfo_columns:kt}),m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=Object(x.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.SearchData(),a=e.state.Fuc_ExelOut,n=e.props.location.pathname,t.next=5,We(n);case 5:e.Roles=t.sent,qe(e.Roles,"Excel\u5bfc\u51fa")&&(a=!0),e.setState({Fuc_ExelOut:a});case 8:case"end":return t.stop()}}),t)}))),e.ModalExcelOut=Object(x.a)(b.a.mark((function t(){var a,n,r,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[{wch:10},{wch:20},{wch:45},{wch:20},{wch:45},{wch:20},{wch:45},{wch:20},{wch:45},{wch:20},{wch:45},{wch:10}],n=Object(ct.a)(Object(ct.a)({},e.SearchDataTemp),{page:1,pageSize:99999}),n=Ze(n),t.next=5,U(n);case 5:0===(r=t.sent).status&&((i=r.data.V_BjInfo).forEach((function(e){e.Datetime1=Pe()(e.Datetime1).format("YYYYMMDD")})),Ge(i,kt,a,"\u94a3\u91d1\u9700\u6c42\u5355"));case 7:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.loading,r=t.V_BjInfo_columns,i=t.Fuc_ExelOut,o=t.current,c=t.dataTotal;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{className:"toolArea",children:i?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcelOut()},children:"Excel\u5bfc\u51fa"}):""}),Object(ke.jsx)(pt.a,{dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,scroll:{x:3e3,y:570},columns:r,size:"middle",loading:n,pagination:{position:["bottomCenter"],pageSizeOptions:[50],current:o,total:c,showTotal:function(e,t){return"\u4e00\u5171 ".concat(e," \u6761\u6570\u636e")},pageSize:50,onChange:function(t,a){e.SearchData({page:t,pageSize:a})}}})]})}}]),a}(l.Component),ja=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={dataSource:[],dataTotal:0,loading:!0,current:1,Fuc_ExelOut:!1,V_JjInfo_columns:[]},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===a?a=Ze({page:1,pageSize:50}):(void 0===a.page||void 0===a.pageSize?(e.SearchDataTemp=a,e.setState({current:1})):(a=Object(ct.a)(Object(ct.a)({},e.SearchDataTemp),a),e.setState({current:a.page})),a=Ze(a)),e.setState({loading:!0}),t.next=4,B(a);case 4:0===(n=t.sent).status?(r=n.data,i=r.V_JjInfo,o=r.V_JjInfo_Count,e.setState({dataSource:i,loading:!1,V_JjInfo_columns:Ct,dataTotal:o})):(e.setState({loading:!1,V_JjInfo_columns:Ct}),m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=Object(x.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.SearchData(),a=e.state.Fuc_ExelOut,n=e.props.location.pathname,t.next=5,We(n);case 5:e.Roles=t.sent,qe(e.Roles,"Excel\u5bfc\u51fa")&&(a=!0),e.setState({Fuc_ExelOut:a});case 8:case"end":return t.stop()}}),t)}))),e.ModalExcelOut=Object(x.a)(b.a.mark((function t(){var a,n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[{wch:15},{wch:20},{wch:45},{wch:10},{wch:10},{wch:10},{wch:10}],n=Object(ct.a)(Object(ct.a)({},e.SearchDataTemp),{page:1,pageSize:99999}),n=Ze(n),t.next=5,B(n);case 5:0===(r=t.sent).status&&Ge(r.data.V_JjInfo,Ct,a,"\u673a\u52a0\u9700\u6c42\u5355");case 7:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.loading,r=t.V_JjInfo_columns,i=t.Fuc_ExelOut,o=t.current,c=t.dataTotal;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{children:Object(ke.jsx)($t,{SearchData:this.SearchData,Fielsds:ta,form:this.form})}),Object(ke.jsx)("div",{className:"toolArea",children:i?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcelOut()},children:"Excel\u5bfc\u51fa"}):""}),Object(ke.jsx)(pt.a,{dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,scroll:{y:460},columns:r,size:"middle",loading:n,pagination:{position:["bottomCenter"],pageSizeOptions:[50],current:o,total:c,showTotal:function(e,t){return"\u4e00\u5171 ".concat(e," \u6761\u6570\u636e")},pageSize:50,onChange:function(t,a){e.SearchData({page:t,pageSize:a})}}})]})}}]),a}(l.Component),ba=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={V_CgInfo_columns:[],dataSource:[],dataTotal:0,Fuc_ExelOut:!1,current:1,loading:!1},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===a?a=Ze({page:1,pageSize:50}):(void 0===a.page||void 0===a.pageSize?(e.SearchDataTemp=a,e.setState({current:1})):(a=Object(ct.a)(Object(ct.a)({},e.SearchDataTemp),a),e.setState({current:a.page})),a=Ze(a)),e.setState({loading:!0}),t.next=4,P(a);case 4:0===(n=t.sent).status?(r=n.data,i=r.V_CgInfo,o=r.V_CgInfo_Count,e.setState({dataSource:i,loading:!1,V_CgInfo_columns:It,dataTotal:o})):(e.setState({loading:!1}),m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=Object(x.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.SearchData(),a=e.state.Fuc_ExelOut,n=e.props.location.pathname,t.next=5,We(n);case 5:e.Roles=t.sent,qe(e.Roles,"Excel\u5bfc\u51fa")&&(a=!0),e.setState({Fuc_ExelOut:a});case 8:case"end":return t.stop()}}),t)}))),e.ModalExcelOut=Object(x.a)(b.a.mark((function t(){var a,n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[{wch:20},{wch:60},{wch:20},{wch:10},{wch:10},{wch:20},{wch:35},{wch:10},{wch:10},{wch:15},{wch:20},{wch:20},{wch:15}],n=Object(ct.a)(Object(ct.a)({},e.SearchDataTemp),{page:1,pageSize:99999}),n=Ze(n),t.next=5,P(n);case 5:0===(r=t.sent).status&&Ge(r.data.V_CgInfo,It,a,"\u91c7\u8d2d\u9700\u6c42\u5355");case 7:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.loading,r=t.V_CgInfo_columns,i=t.Fuc_ExelOut,o=t.current,c=t.dataTotal;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{children:Object(ke.jsx)($t,{SearchData:this.SearchData,Fielsds:aa,form:this.form})}),Object(ke.jsx)("div",{className:"toolArea",children:i?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcelOut()},children:"Excel\u5bfc\u51fa"}):""}),Object(ke.jsx)(pt.a,{dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,scroll:{x:1700,y:460},columns:r,size:"middle",loading:n,pagination:{position:["bottomCenter"],pageSizeOptions:[50],current:o,total:c,showTotal:function(e,t){return"\u4e00\u5171 ".concat(e," \u6761\u6570\u636e")},pageSize:50,onChange:function(t,a){e.SearchData({page:t,pageSize:a})}}})]})}}]),a}(l.Component),ma=(a(235),a(144)),xa=a(291),Oa=a(525),ga=at.a.confirm,Sa=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).BASE=window.location.origin,e.state={dataSource:[],UploadInfo_columns:Mt,loading:!0},e.uploadSer={name:"file",showUploadList:!1,action:e.BASE+"/Home/uploadfile",headers:{authorization:"authorization-text"},data:{time:e.getTime()},beforeUpload:function(){e.setState({loading:!0})},onChange:function(t){var a=t.file;t.fileList;void 0===a.status||"uploading"===a.status||("done"===a.status?(e.setState({loading:!1}),e.SearchData(),m.b.success("\u4e0a\u4f20\u6210\u529f")):"error"===a.status&&(e.setState({loading:!1}),m.b.error("\u4e0a\u4f20\u5931\u8d25")))}},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0===a?new FormData:Ze(a),Mt.push({title:"\u64cd\u4f5c",width:25,fixed:"right",dataIndex:"operation",render:function(t,a){return Object(ke.jsxs)("div",{style:{textAlign:"center"},children:[Object(ke.jsx)(la.a,{placement:"top",color:"red",title:"\u5220\u9664",children:Object(ke.jsx)(p.a,{size:"small",icon:Object(ke.jsx)(xa.a,{}),onClick:function(){return e.ModalDel(a,Object(Vt.a)(e))}})}),"\u2003",Object(ke.jsx)(la.a,{placement:"top",title:"\u6253\u5f00",children:Object(ke.jsx)(p.a,{size:"small",icon:Object(ke.jsx)(ha.a,{}),onClick:function(){return e.ModalOpen(a)}})})]})}}),e.setState({loading:!0}),t.next=5,z(a);case 5:0===(n=t.sent).status?(r=n.data.UploadInfo,e.setState({dataSource:r,loading:!1})):(m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),e.setState({loading:!1}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.ModalDel=function(e,t){ga({title:"\u662f\u5426\u5220\u9664\u6570\u636e?",icon:Object(ke.jsx)(xt.a,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){return Object(x.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=new FormData).append("ID",e.ID),n.append("Path",e.Path),a.next=5,je(n);case 5:0===a.sent.status?(m.b.success("\u5220\u9664\u6210\u529f"),at.a.destroyAll(),t.SearchData()):(m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),at.a.destroyAll());case 7:case"end":return a.stop()}}),a)})))()},onCancel:function(){}})},e.ModalOpen=function(e){$e(e.FileName)},e.componentDidMount=function(){e.SearchData()},e.componentWillUnmount=function(){Mt.pop(),e.setState({UploadInfo_columns:Mt})},e}return Object(c.a)(a,[{key:"getTime",value:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),r=e.getHours(),i=e.getMinutes(),o=e.getSeconds();return t+"-"+this.fixed(a)+"-"+this.fixed(n)+" "+this.fixed(r)+":"+this.fixed(i)+":"+this.fixed(o)}},{key:"fixed",value:function(e){return e>9?e:"0"+e}},{key:"render",value:function(){var e=this.state,t=e.dataSource,a=e.loading,n=e.UploadInfo_columns;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{className:"toolArea",children:Object(ke.jsx)(ma.a,Object(ct.a)(Object(ct.a)({},this.uploadSer),{},{children:Object(ke.jsx)(p.a,{icon:Object(ke.jsx)(Oa.a,{}),children:"\u8c03\u5ea6\u5355\u53d1\u5e03"})}))}),Object(ke.jsx)(pt.a,{dataSource:t,bordered:!0,rowKey:"ID",sticky:!0,columns:n,size:"middle",loading:a,pagination:!1})]})}}]),a}(l.Component),wa=at.a.confirm,ya=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.Roles=[],e.state={dataSource:[],BjImp_columns:[],dataTotal:0,loading:!0,isModalEditShow:!1,ModalTitle:"",Fuc_Add:!1,Fuc_Exel:!1,Fuc_Submit:!1},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0===a?new FormData:Ze(a),e.setState({loading:!0}),t.next=4,K(a);case 4:0===(n=t.sent).status?(r=n.data.BjImp,e.setState({dataSource:r,loading:!1,BjImp_columns:yt})):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.Fuc_Add,r=a.Fuc_Exel,i=a.Fuc_Submit,e.SearchData(),o=e.props.location.pathname,t.next=5,We(o);case 5:e.Roles=t.sent,qe(e.Roles,"\u65b0\u5efa")&&(n=!0),qe(e.Roles,"Excel\u5bfc\u5165")&&(r=!0),qe(e.Roles,"\u6267\u884c\u63d0\u4ea4")&&(i=!0),e.setState({Fuc_Add:n,Fuc_Exel:r,Fuc_Submit:i});case 10:case"end":return t.stop()}}),t)}))),e.componentWillUnmount=function(){},e.ModalEdit=function(t){e.setState({isModalEditShow:!0,ModalTitle:"\u7f16\u8f91"},(function(){e.formRef.current.setFieldsValue(t)}))},e.ModalAdd=function(){e.setState({isModalEditShow:!0,ModalTitle:"\u65b0\u5efa"},(function(){e.formRef.current.resetFields()}))},e.ModalDel=function(e){wa({title:"\u662f\u5426\u5220\u9664\u6570\u636e?",icon:Object(ke.jsx)(xt.a,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){var t=new FormData;t.append("ID",e.ID),0===he(t).status?m.b.success("\u7f16\u8f91\u6210\u529f"):m.b.error("\u7f16\u8f91\u5931\u8d25")},onCancel:function(){}})},e.ModalSubmit=function(){wa({title:"\u662f\u5426\u63d0\u4ea4\u6570\u636e?",icon:Object(ke.jsx)(xt.a,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){},onCancel:function(){}})},e.ModalExcel=function(){e.props.history.push({pathname:"/Admin/Upload/ExcelUp",columns:yt,type:1,submitUrl:"BjImp",subTitle:"\u94a3\u91d1\u9700\u6c42\u5206\u89e3"})},e.ModalEditOk=Object(x.a)(b.a.mark((function t(){var a,n,r,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,t.prev=1,t.next=4,a.validateFields();case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),m.b.warn("\u8bf7\u68c0\u67e5\u6570\u636e\u7684\u6b63\u786e\u6027"),t.abrupt("return");case 10:n=a.getFieldsValue(!0),r=Ze(n),"\u7f16\u8f91"===(i=e.state.ModalTitle)?0===re(r).status?m.b.success("\u7f16\u8f91\u6210\u529f"):m.b.error("\u7f16\u8f91\u5931\u8d25"):"\u65b0\u5efa"===i&&(0===Q(r).status?m.b.success("\u6dfb\u52a0\u6210\u529f"):m.b.error("\u6dfb\u52a0\u5931\u8d25")),e.setState({isModalEditShow:!1});case 15:case"end":return t.stop()}}),t,null,[[1,6]])}))),e.ModalEditCancel=function(){e.setState({isModalEditShow:!1})},e.ModalExcelOut=function(){},e.DownLoadDemo=function(){Xe("\u94a3\u91d1\u9700\u6c42\u5206\u89e3\u6a21\u677f.xls")},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.loading,r=t.isModalEditShow,i=t.ModalTitle,o=t.Fuc_Add,c=t.Fuc_Exel;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsxs)("div",{className:"toolArea",children:[o?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalAdd()},children:"\u65b0\u5efa"}):"","\u2003",c?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcel()},children:"Excel\u5bfc\u5165"}):"","\u2003",Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.DownLoadDemo()},children:"\u6a21\u677f\u4e0b\u8f7d"})]}),Object(ke.jsx)(pt.a,{dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,columns:yt,size:"middle",loading:n,pagination:!1}),Object(ke.jsx)(at.a,{title:i,visible:r,onOk:function(){return e.ModalEditOk()},onCancel:function(){return e.ModalEditCancel()},children:Object(ke.jsxs)(O.a,{ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{name:"FirstCode",label:"\u4e00\u5c42\u7f16\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e00\u5c42\u7f16\u7801"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"FirstName",label:"\u4e00\u5c42\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e00\u5c42\u540d\u79f0"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"SecondCode",label:"\u4e8c\u5c42\u7f16\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e8c\u5c42\u7f16\u7801"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"SecondName",label:"\u4e8c\u5c42\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e8c\u5c42\u540d\u79f0"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"ThirdCode",label:"\u4e09\u5c42\u7f16\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e09\u5c42\u7f16\u7801"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"ThirdName",label:"\u4e09\u5c42\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e09\u5c42\u540d\u79f0"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"FourthCode",label:"\u56db\u5c42\u7f16\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u56db\u5c42\u7f16\u7801"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"FourthName",label:"\u56db\u5c42\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u56db\u5c42\u540d\u79f0"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"FifthCode",label:"\u4e94\u5c42\u7f16\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e94\u5c42\u7f16\u7801"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"FifthName",label:"\u4e94\u5c42\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e94\u5c42\u540d\u79f0"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Prooerty",label:"\u5c5e\u6027",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5c5e\u6027"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Menge",label:"\u9700\u6c42\u6570\u91cf",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9700\u6c42\u6570\u91cf"}],children:Object(ke.jsx)(f.a,{type:"number"})})]})})]})}}]),a}(l.Component),va=at.a.confirm,Da=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={dataSource:[],JiImp_columns:[],dataTotal:0,loading:!0,isModalEditShow:!1,ModalTitle:"",Fuc_Exel:!1},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0===a?new FormData:Ze(a),e.setState({loading:!0}),t.next=4,J(a);case 4:0===(n=t.sent).status?(r=n.data.JjImp,e.setState({dataSource:r,loading:!1,JiImp_columns:vt})):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=Object(x.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.Fuc_Exel,e.SearchData(),n=e.props.location.pathname,t.next=5,We(n);case 5:e.Roles=t.sent,qe(e.Roles,"Excel\u5bfc\u5165")&&(a=!0),e.setState({Fuc_Exel:a});case 8:case"end":return t.stop()}}),t)}))),e.componentWillUnmount=function(){},e.ModalEdit=function(t){e.setState({isModalEditShow:!0,ModalTitle:"\u7f16\u8f91"},(function(){e.formRef.current.setFieldsValue(t)}))},e.ModalAdd=function(){e.setState({isModalEditShow:!0,ModalTitle:"\u65b0\u5efa"},(function(){e.formRef.current.resetFields()}))},e.ModalDel=function(e){va({title:"\u662f\u5426\u5220\u9664\u6570\u636e?",icon:Object(ke.jsx)(xt.a,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){console.log("OK")},onCancel:function(){console.log("Cancel")}})},e.ModalExcel=function(){e.props.history.push({pathname:"/Admin/Upload/ExcelUp",columns:vt,type:1,submitUrl:"JjImp",subTitle:"\u673a\u52a0\u9700\u6c42\u5206\u89e3"})},e.ModalEditOk=Object(x.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,t.prev=1,t.next=4,a.validateFields();case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),m.b.warn("\u8bf7\u68c0\u67e5\u6570\u636e\u7684\u6b63\u786e\u6027"),t.abrupt("return");case 10:("\u7f16\u8f91"===(n=e.state.ModalTitle)||"\u65b0\u5efa"===n)&&console.dir(a.getFieldsValue(!0)),e.setState({isModalEditShow:!1});case 13:case"end":return t.stop()}}),t,null,[[1,6]])}))),e.ModalEditCancel=function(){e.setState({isModalEditShow:!1})},e.DownLoadDemo=function(){Xe("\u673a\u52a0\u9700\u6c42\u5206\u89e3\u6a21\u677f.xls")},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.loading,r=t.isModalEditShow,i=t.ModalTitle,o=t.Fuc_Exel;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsxs)("div",{className:"toolArea",children:[o?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcel()},children:"Excel\u5bfc\u5165"}):"","\u2003",Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.DownLoadDemo()},children:"\u6a21\u677f\u4e0b\u8f7d"})]}),Object(ke.jsx)(pt.a,{dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,columns:vt,size:"middle",loading:n,pagination:!1}),Object(ke.jsx)(at.a,{title:i,visible:r,onOk:function(){return e.ModalEditOk()},onCancel:function(){return e.ModalEditCancel()},children:Object(ke.jsxs)(O.a,{ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{name:"Series",label:"\u7cfb\u5217",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7cfb\u5217"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Matnr",label:"\u5b50\u952e\u7269\u6599\u53f7",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5b50\u952e\u7269\u6599\u53f7"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Menge",label:"\u6570\u91cf",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6570\u91cf"}],children:Object(ke.jsx)(f.a,{type:"number"})}),Object(ke.jsx)(O.a.Item,{name:"Group",label:"\u73ed\u7ec4",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u73ed\u7ec4"}],children:Object(ke.jsx)(f.a,{})})]})})]})}}]),a}(l.Component),ka=at.a.confirm,Ca=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={dataSource:[],dataTotal:0,loading:!0,isModalEditShow:!1,ModalTitle:"",CgImp_columns:[],Fuc_Exel:!1},e.SearchData=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0===a?new FormData:Ze(a),e.setState({loading:!0}),t.next=4,H(a);case 4:0===(n=t.sent).status?(r=n.data.CgImp,e.setState({dataSource:r,loading:!1,CgImp_columns:Dt})):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.componentDidMount=Object(x.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.Fuc_Exel,e.SearchData(),n=e.props.location.pathname,t.next=5,We(n);case 5:e.Roles=t.sent,qe(e.Roles,"Excel\u5bfc\u5165")&&(a=!0),e.setState({Fuc_Exel:a});case 8:case"end":return t.stop()}}),t)}))),e.componentWillUnmount=function(){},e.ModalEdit=function(t){e.setState({isModalEditShow:!0,ModalTitle:"\u7f16\u8f91"},(function(){t.Budat=Pe()(t.Budat,"YYYY-MM-DD"),e.formRef.current.setFieldsValue(t)}))},e.ModalAdd=function(){e.setState({isModalEditShow:!0,ModalTitle:"\u65b0\u5efa"},(function(){e.formRef.current.resetFields()}))},e.ModalDel=function(e){ka({title:"\u662f\u5426\u5220\u9664\u6570\u636e?",icon:Object(ke.jsx)(xt.a,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){console.log("OK")},onCancel:function(){console.log("Cancel")}})},e.ModalExcel=function(){e.props.history.push({pathname:"/Admin/Upload/ExcelUp",columns:Dt,type:1,submitUrl:"CgImp",subTitle:"\u91c7\u8d2d\u9700\u6c42\u5206\u89e3"})},e.ModalEditOk=Object(x.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,t.prev=1,t.next=4,a.validateFields();case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),m.b.warn("\u8bf7\u68c0\u67e5\u6570\u636e\u7684\u6b63\u786e\u6027"),t.abrupt("return");case 10:("\u7f16\u8f91"===(n=e.state.ModalTitle)||"\u65b0\u5efa"===n)&&console.dir(a.getFieldsValue(!0)),e.setState({isModalEditShow:!1});case 13:case"end":return t.stop()}}),t,null,[[1,6]])}))),e.ModalEditCancel=function(){e.setState({isModalEditShow:!1})},e.DownLoadDemo=function(){Xe("\u91c7\u8d2d\u9700\u6c42\u5206\u89e3\u6a21\u677f.xls")},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.loading,r=t.isModalEditShow,i=t.ModalTitle,o=t.Fuc_Exel;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsxs)("div",{className:"toolArea",children:[o?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcel()},children:"Excel\u5bfc\u5165"}):"","\u2003",Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.DownLoadDemo()},children:"\u6a21\u677f\u4e0b\u8f7d"})]}),Object(ke.jsx)(pt.a,{dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,columns:Dt,size:"middle",loading:n,pagination:!1}),Object(ke.jsx)(at.a,{title:i,visible:r,onOk:function(){return e.ModalEditOk()},onCancel:function(){return e.ModalEditCancel()},children:Object(ke.jsxs)(O.a,{ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{name:"Maktx",label:"\u7269\u6599\u7f16\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7269\u6599\u7f16\u7801"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Matnr",label:"\u7269\u6599\u63cf\u8ff0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165Matnr"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Budat",label:"\u9700\u6c42\u65e5\u671f",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9700\u6c42\u65e5\u671f"}],children:Object(ke.jsx)(Ht.a,{format:"YYYY-MM-DD"})}),Object(ke.jsx)(O.a.Item,{name:"MRP",label:"MRP\u63a7\u5236\u8005",rules:[{required:!0,message:"\u8bf7\u8f93\u5165MRP\u63a7\u5236\u8005"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Meins",label:"\u5355\u4f4d",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5355\u4f4d"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Lifnr",label:"\u4f9b\u5e94\u5546\u4ee3\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u4ee3\u7801"}],children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Name1",label:"\u4f9b\u5e94\u5546\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f9b\u5e94\u5546\u540d\u79f0"}],children:Object(ke.jsx)(f.a,{})})]})})]})}}]),a}(l.Component),Ia=a(526),Ma=a(527),_a=at.a.confirm,Ta=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).dateFormat="YYYY-MM-DD",e.state={dataSource:[],loading:!1,uploadState:0,type:0,isBaseDate:!1,columns:[],loadExcelUp1:!1,loadExcelUp2:!1,loadExcelUp3:!1},e.key=0,e.attes={name:"file",headers:{authorization:"authorization-text"},showUploadList:!1,beforeUpload:function(t){if(-1===t.name.lastIndexOf(".xls")&&-1===t.name.lastIndexOf(".xlsx"))return m.b.error("\u8bf7\u4e0a\u4f20Excel\u6587\u4ef6"),!1;var a=e.state.columns,n=new FileReader;return n.onload=function(t,n){try{var r=t.target.result,i=Re.a.read(r,{type:"binary",cellDates:!0}),o=[],c=!1;for(var s in i.Sheets){if(i.Sheets.hasOwnProperty(s)&&(o=(o=o.concat(Re.a.utils.sheet_to_json(i.Sheets[s]))).map((function(t,n){var r={};return a.forEach((function(e,a){if(void 0!==t[e.title])if(-1!==e.title.indexOf("\u65e5\u671f")||-1!==e.title.indexOf("\u65f6\u95f4"))if(t[e.title]instanceof Date)r[e.dataIndex]=Pe()(t[e.title]).format("YYYYMMDD");else if("number"===typeof t[e.title])r[e.dataIndex]=t[e.title];else if(-1!==(t[e.title]+"").indexOf("/")){var i=t[e.title].split("/"),o=i[0];1===i[1].length&&(i[1]=0+i[1]),1===i[2].length&&(i[2]=0+i[2]),o+=i[1]+i[2],r[e.dataIndex]=o}else 8===t[e.title].length||8!==(t[e.title]+"").length&&(m.b.error("\u65e5\u671f\u4f4d\u6570\u4e0d\u5bf9,\u65e0\u6cd5\u5bfc\u5165,\u53d1\u751f\u5728\u7b2c"+(n+1)+"\u884c\uff0c"+a+"\u5217"),c=!0),r[e.dataIndex]=t[e.title];else r[e.dataIndex]=t[e.title]})),r.key="key"+e.key++,r})),c))return;break}for(var d=0;d<o.length;d++)if(!0!==o[d].find)for(var l=d+1;l<o.length;l++)!0!==o[l].find&&o[d].Matnr===o[l].Matnr&&(o[d].Menge+=o[l].Menge,o[l].find=!0);var u=o.filter((function(e){return void 0===e.find}));console.dir(u),e.setState({dataSource:u,uploadState:1})}catch(h){return m.b.error("\u8bf7\u4e0a\u4f20Excel\u6587\u4ef6"),!1}},n.readAsBinaryString(t,Object(Vt.a)(e)),!1}},e.handleSubmit=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.loadExcelUp1){t.next=3;break}return m.b.warn("\u8bf7\u52ff\u91cd\u590d\u63d0\u4ea4"),t.abrupt("return");case 3:e.setState({loadExcelUp1:!0},Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=e.state.dataSource,n=e.props.location.submitUrl,r=a.map((function(e){return delete e.key,e})),i=new FormData,o=0;o<r.length;o++)i.append("list[".concat(o,"]"),JSON.stringify(r[o]));i.append("type",0),i.append("Count",o),t.prev=7,t.t0=n,t.next="BjImp"===t.t0?11:"CgImp"===t.t0?15:"JjImp"===t.t0?20:"WBInfo"===t.t0?24:28;break;case 11:return t.next=13,Oe(i);case 13:return c=t.sent,t.abrupt("break",28);case 15:return i.append("BaseDate",e.BaseDate),t.next=18,ge(i);case 18:return c=t.sent,t.abrupt("break",28);case 20:return t.next=22,Se(i);case 22:return c=t.sent,t.abrupt("break",28);case 24:return t.next=26,we(i);case 26:return c=t.sent,t.abrupt("break",28);case 28:0===c.status?_a({icon:Object(ke.jsx)(Ia.a,{twoToneColor:"#52c41a"}),title:"Excel\u4e0a\u4f20\u6210\u529f\uff0c\u8bf7\u52ff\u91cd\u590d\u4e0a\u4f20",okText:"\u786e\u8ba4"}):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),e.setState({dataSource:[],uploadState:2}),t.next=34;break;case 32:t.prev=32,t.t1=t.catch(7);case 34:return t.prev=34,e.setState({loadExcelUp1:!1}),t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[7,32,34,37]])}))));case 4:case"end":return t.stop()}}),t)}))),e.handleSubmit1=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.loadExcelUp2){t.next=3;break}return m.b.warn("\u8bf7\u52ff\u91cd\u590d\u63d0\u4ea4"),t.abrupt("return");case 3:e.setState({loadExcelUp2:!0},Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=e.state.dataSource,n=e.props.location.submitUrl,r=a.map((function(e){return delete e.key,e})),i=new FormData,o=0;o<r.length;o++)i.append("list[".concat(o,"]"),JSON.stringify(r[o]));i.append("type",1),i.append("Count",o),t.prev=7,t.t0=n,t.next="BjImp"===t.t0?11:"CgImp"===t.t0?15:"JjImp"===t.t0?20:"WBInfo"===t.t0?24:28;break;case 11:return t.next=13,Oe(i);case 13:return c=t.sent,t.abrupt("break",28);case 15:return i.append("BaseDate",e.BaseDate),t.next=18,ge(i);case 18:return c=t.sent,t.abrupt("break",28);case 20:return t.next=22,Se(i);case 22:return c=t.sent,t.abrupt("break",28);case 24:return t.next=26,we(i);case 26:return c=t.sent,t.abrupt("break",28);case 28:0===c.status?_a({icon:Object(ke.jsx)(Ia.a,{twoToneColor:"#52c41a"}),title:"Excel\u4e0a\u4f20\u6210\u529f\uff0c\u8bf7\u52ff\u91cd\u590d\u4e0a\u4f20",okText:"\u786e\u8ba4"}):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),e.setState({dataSource:[],uploadState:2}),t.next=34;break;case 32:t.prev=32,t.t1=t.catch(7);case 34:return t.prev=34,e.setState({loadExcelUp2:!1}),t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[7,32,34,37]])}))));case 4:case"end":return t.stop()}}),t)}))),e.handleSubmit2=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.loadExcelUp3){t.next=3;break}return m.b.warn("\u8bf7\u52ff\u91cd\u590d\u63d0\u4ea4"),t.abrupt("return");case 3:e.setState({loadExcelUp3:!0},Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=e.state.dataSource,n=e.props.location.submitUrl,r=a.map((function(e){return delete e.key,e})),i=new FormData,o=0;o<r.length;o++)i.append("list[".concat(o,"]"),JSON.stringify(r[o]));i.append("type",2),i.append("Count",o),t.prev=7,t.t0=n,t.next="BjImp"===t.t0?11:"CgImp"===t.t0?15:"JjImp"===t.t0?20:"WBInfo"===t.t0?24:28;break;case 11:return t.next=13,Oe(i);case 13:return c=t.sent,t.abrupt("break",28);case 15:return i.append("BaseDate",e.BaseDate),t.next=18,ge(i);case 18:return c=t.sent,t.abrupt("break",28);case 20:return t.next=22,Se(i);case 22:return c=t.sent,t.abrupt("break",28);case 24:return t.next=26,we(i);case 26:return c=t.sent,t.abrupt("break",28);case 28:0===c.status?_a({icon:Object(ke.jsx)(Ia.a,{twoToneColor:"#52c41a"}),title:"Excel\u4e0a\u4f20\u6210\u529f\uff0c\u8bf7\u52ff\u91cd\u590d\u4e0a\u4f20",okText:"\u786e\u8ba4"}):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),e.setState({dataSource:[],uploadState:2}),t.next=34;break;case 32:t.prev=32,t.t1=t.catch(7);case 34:return t.prev=34,e.setState({loadExcelUp3:!1}),t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[7,32,34,37]])}))));case 4:case"end":return t.stop()}}),t)}))),e.handleBack=function(){e.props.history.goBack()},e.DtChange=function(t,a){e.BaseDate=a},e.componentDidMount=function(){var t=e.props.location,a=t.type,n=t.submitUrl,r=e.props.location.columns;void 0!==r&&0!==r.length&&(r=r.filter((function(e){return"operation"!==e.dataIndex}))),void 0===a||0===a?void 0!==r&&0!==r.length&&(r=r.filter((function(e){return"status"!==e.key})),e.setState({columns:r})):void 0!==r&&0!==r.length&&(r=r.filter((function(e){return"status"!==e.key})),e.setState({columns:r,type:a})),"CgImp"===n&&e.setState({isBaseDate:!0}),e.BaseDate=Pe()().format(e.dateFormat)},e}return Object(c.a)(a,[{key:"render",value:function(){var e,t=this,a=this.props.location.subTitle,n=this.state,r=n.dataSource,i=n.loading,o=n.columns,c=n.uploadState,s=n.type,d=n.isBaseDate,l=n.loadExcelUp1,u=n.loadExcelUp2,h=n.loadExcelUp3;return void 0!==o&&(e=o.length>8?2600:1400),Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsxs)(ft.a,{children:[Object(ke.jsx)(jt.a,{span:4,className:"toolArea_left",children:Object(ke.jsxs)(st,{onClick:function(){return t.handleBack()},children:[Object(ke.jsx)(Ma.a,{}),"\u8fd4\u56de ",a]})}),Object(ke.jsxs)(jt.a,{span:19,className:"toolArea",children:[d?Object(ke.jsxs)("label",{style:{fontSize:"18px",fontWeight:600},children:["\u5386\u53f2\u5e93\u5b58\u57fa\u51c6\u65e5\u671f\uff1a",Object(ke.jsx)(Ht.a,{onChange:this.DtChange,defaultValue:Pe()(Pe()(),this.dateFormat),showToday:!0,format:this.dateFormat})]}):"","\u2003",Object(ke.jsx)(ma.a,Object(ct.a)(Object(ct.a)({},this.attes),{},{children:Object(ke.jsx)(p.a,{icon:Object(ke.jsx)(Oa.a,{}),disabled:void 0===o?"disabled":"",children:void 0===o?"\u8bf7\u8fd4\u56de\u91cd\u65b0\u63d0\u4ea4":"\u63d0\u4ea4\u9884\u89c8"})})),"\u2003",0===s?Object(ke.jsx)(p.a,{disabled:0===c?"disabled":1===c?"":"disabled",type:"primary",loading:l,onClick:function(){return t.handleSubmit()},children:0===c?"\u8bf7\u5148\u4e0a\u4f20\u6587\u4ef6":1===c?"\u786e\u8ba4\u63d0\u4ea4":"\u4e0a\u4f20\u6210\u529f,\u53ef\u518d\u6b21\u4e0a\u4f20"}):1===s?Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsx)(p.a,{type:"primary",disabled:0===c?"disabled":1===c?"":"disabled",loading:u,onClick:function(){return t.handleSubmit1()},children:"\u5168\u65b0\u6267\u884c"}),"\u2003",Object(ke.jsx)(p.a,{type:"primary",disabled:0===c?"disabled":1===c?"":"disabled",loading:h,onClick:function(){return t.handleSubmit2()},children:"\u8ffd\u52a0\u6267\u884c"})]}):""]})]}),Object(ke.jsx)(pt.a,{dataSource:r,bordered:!0,rowKey:"key",sticky:!0,scroll:{x:e,y:600},columns:o,size:"middle",loading:i,pagination:!1})]})}}]),a}(l.Component),Ea=a(68),Ra=at.a.confirm,Fa=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.formRef2=u.a.createRef(),e.Modal_DID=0,e.statusDt=Pe()(),e.layout={labelCol:{span:4},wrapperCol:{span:16}},e.state={dataSource:[],searchText:"",searchedColumn:"",selectedRowKeys:[],SearchContation:{},Fuc_Del:!0,loading:!0,current:1,dataTotal:0,ModalTitle:"\u7f16\u8f91",isModalEditShow:!1,isModalExeShow:!1,isModalDetStatusShow:!1,isModalMsgShow:!1,DataSource_DetStatus:[],isDetTools:!0,selectedRowKeys2:[],Order:"",SorterContation:"",Fuc_Edit:!1,Fuc_Exe:!1,Fuc_Bj:!1,Fuc_Jj:!1,Fuc_Cg:!1,CgBaseTime:"",Btn_CgBaseload:!1},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.ModalDel=function(){var e=Object(x.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("\u662f"!==t.status){e.next=3;break}return m.b.warn("\u751f\u6548\u8c03\u5ea6\u5355\u4e0d\u53ef\u5220\u9664"),e.abrupt("return");case 3:Ra({title:"\u662f\u5426\u5220\u9664\u6570\u636e?",icon:Object(ke.jsx)(xt.a,{}),okText:"\u662f",okType:"danger",cancelText:"\u5426",onOk:function(){return Object(x.a)(b.a.mark((function e(){var n,r,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("ID",t.ID),e.next=4,xe(n);case 4:0===e.sent.status?(m.b.success("\u5220\u9664\u6210\u529f"),at.a.destroyAll(),r=a.state,i=r.current,o=r.SearchContation,20,a.handleTableChange({current:i,pageSize:20},o)):(m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),at.a.destroyAll());case 6:case"end":return e.stop()}}),e)})))()},onCancel:function(){}});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.ModalEdit=function(e,t){t.setState({isModalEditShow:!0,ModalTitle:"\u7f16\u8f91"},(function(){t.formRef.current.setFieldsValue(e)}))},e.changeStatus=function(){var t=Object(x.a)(b.a.mark((function t(a,n){var r,i,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Ze(a),t.next=3,se(r);case 3:0===t.sent.status?(i=e.state,o=i.current,c=i.SearchContation,20,m.b.success("\u66f4\u6539\u6210\u529f"),e.handleTableChange({current:o,pageSize:20},c)):m.b.error("\u7f51\u7edc\u9519\u8bef");case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.ModalEditCancel=function(){e.setState({isModalEditShow:!1})},e.ModalEditOk=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,t.prev=1,t.next=4,a.validateFields();case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),m.b.warn("\u8bf7\u68c0\u67e5\u6570\u636e\u7684\u6b63\u786e\u6027"),t.abrupt("return");case 10:return n=Ze(a.getFieldsValue(!0)),t.next=13,ce(n);case 13:0===t.sent.status?(r=e.state,i=r.current,o=r.SearchContation,20,m.b.success("\u7f16\u8f91\u6210\u529f"),e.handleTableChange({current:i,pageSize:20},o)):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"),e.setState({isModalEditShow:!1});case 16:case"end":return t.stop()}}),t,null,[[1,6]])}))),e.handleReset=function(t){t(),e.setState({searchText:""})},e.OrderDet=function(){var t=e.props.history,a=e.state.selectedRowKeys;0!==a.length?t.push({pathname:"/Admin/DdOrder/DdOrderDet",IDS:a.join(",")}):m.b.warn("\u8bf7\u5148\u9009\u62e9\u8981\u6c47\u603b\u7684\u8c03\u5ea6\u5355")},e.handleTableChange=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l,u,h,p,f,j=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=j.length>0&&void 0!==j[0]?j[0]:{},n=j.length>1&&void 0!==j[1]?j[1]:{},r=j.length>2&&void 0!==j[2]?j[2]:{},i=e.state.SearchContation,o=e.state.SorterContation,void 0===a.current?(i.page=1,i.pageSize=20):(i.page=a.current,i.pageSize=a.pageSize),n!=={})for(c in n)i[c]=n[c];for(l in"object"===typeof r&&(void 0!==r.length?(s=[],r.forEach((function(e){"descend"===e.order?s.push(" "+e.column.dataIndex+" desc"):s.push(" "+e.column.dataIndex+" ")})),o=s.join(",")):void 0===r.column||(o="descend"===r.order?" "+r.column.dataIndex+" desc":" "+r.column.dataIndex+" ")),d=new FormData,i)null!==i[l]&&d.append(l,i[l]);return d.append("Order",o),e.setState({loading:!0}),t.next=14,L(d);case 14:u=t.sent;try{0===u.status?(console.dir(u),h=u.data,p=h.V_DdOrder,f=h.V_DdOrder_Count,e.setState({loading:!1,dataSource:p,SearchContation:i,dataTotal:f,current:i.page})):(e.setState({loading:!1}),m.b.error("\u7f51\u7edc\u65e0\u54cd\u5e94"))}catch(b){e.setState({loading:!1}),m.b.error("\u7f51\u7edc\u65e0\u54cd\u5e94")}case 16:case"end":return t.stop()}}),t)}))),e.SearchDet=function(){var t=Object(x.a)(b.a.mark((function t(a,n){var r,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("IDS",a),t.next=4,W(r);case 4:0===(i=t.sent).status?function(){var t=i.data.V_DdOrder_Det;e.Modal_DID=a;var r=[];if(t.length>0){r.push(t[0]);for(var o=function(e){var a=r.find((function(a){return a.Datetime1===t[e].Datetime1}));void 0===a?r.push(t[e]):a.ID+=","+t[e].ID},c=1;c<t.length;c++)o(c)}e.setState({isModalDetStatusShow:!0,DataSource_DetStatus:r,isDetTools:n,selectedRowKeys2:[]})}():m.b.error("\u7f51\u7edc\u9519\u8bef");case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.ExcelIn=function(){e.props.history.push({pathname:"/Admin/DdOrder/DdOrderExcel"})},e.demantExe=Object(x.a)(b.a.mark((function t(){var a,n,r,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.selectedRowKeys,r=a.dataSource,1===n.length){t.next=4;break}return m.b.warn("\u4e00\u6b21\u53ea\u80fd\u9009\u62e9\u4e00\u6761\u8c03\u5ea6\u5355"),t.abrupt("return");case 4:if("\u662f"===(i=r.filter((function(e){return e.ID===n[0]})))[0].status){t.next=8;break}return m.b.warn("\u4e0d\u751f\u6548\u7684\u8c03\u5ea6\u5355\u4e0d\u53ef\u6267\u884c\u9700\u6c42\u8ba1\u5212"),t.abrupt("return");case 8:e.setState({isModalExeShow:!0},(function(){var t=i[0].PlanDt.substring(0,4),a=i[0].PlanDt.substring(4,6),r=new Date(t+"-"+a);e.formRef2.current.setFieldsValue({ID:n[0],dt:Pe()(r).startOf("Month")})}));case 9:case"end":return t.stop()}}),t)}))),e.demantExe_Det=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(n=e.state.selectedRowKeys2).length){t.next=4;break}return m.b.warn("\u8bf7\u9009\u62e9\u5148\u9009\u62e9\u660e\u7ec6"),t.abrupt("return");case 4:return r=new FormData,i=De.user,r.append("DID",e.Modal_DID),r.append("IDS",n.join(",")),r.append("type",a),r.append("dt",Pe()(e.statusDt).format("YYYYMMDD")),r.append("UserName",i.UserName),m.b.success("\u9700\u6c42\u8ba1\u5212\u6267\u884c\u4e2d\uff0c\u8bf7\u7b49\u5f85"),t.next=14,ae(r);case 14:0===t.sent.status?e.setState({isModalMsgShow:!0}):m.b.error("\u7f51\u7edc\u9519\u8bef");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.ModalExeOk=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef2.current,t.prev=1,t.next=4,a.validateFields();case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),m.b.warn("\u8bf7\u68c0\u68c0\u67e5\u6570\u636e\u6b63\u786e\u6027"),t.abrupt("return");case 10:return(n=a.getFieldsValue(!0)).newdt=Pe()(n.dt).format("YYYYMMDD"),r=De.user,(i=new FormData).append("ID",n.ID),i.append("dt",n.newdt),i.append("UserName",r.UserName),m.b.success("\u9700\u6c42\u8ba1\u5212\u6267\u884c\u4e2d\uff0c\u8bf7\u7b49\u5f85"),t.next=20,ve(i);case 20:0===(o=t.sent).status?(c=e.state,s=c.current,d=c.SearchContation,20,e.handleTableChange({current:s,pageSize:20},d)):1===o.status&&m.b.error("\u9700\u6c42\u8ba1\u5212\u6267\u884c\u5931\u8d25:"+o.msg),e.setState({isModalExeShow:!1});case 23:case"end":return t.stop()}}),t,null,[[1,6]])}))),e.ModalExeCancel=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({isModalExeShow:!1});case 1:case"end":return t.stop()}}),t)}))),e.ModalDetStatusCancel=function(){e.setState({isModalDetStatusShow:!1})},e.onSelectChange=function(t){e.setState({selectedRowKeys:t})},e.onSelectChange2=function(t){e.setState({selectedRowKeys2:t})},e.onSelectDet_Error=function(t,a){var n=[];t.forEach((function(e){"\u5df2\u5b8c\u6210"!==e[a]&&n.push(e.ID)})),e.setState({selectedRowKeys2:n})},e.demantBj=function(){for(var t=e.state,a=t.dataSource,n=t.selectedRowKeys,r=[],i=a.filter((function(e){for(var t=0;t<n.length;t++)if(n[t]===e.ID)return!0;return!1})),o=0;o<i.length;o++){if("\u5df2\u5b8c\u6210"!==i[o].BjStatus)return void m.b.warn("\u4e0d\u80fd\u9009\u62e9\u672a\u5b8c\u6210\u7684\u8c03\u5ea6\u5355");r.push(i[o].LTOrder)}for(var c=0;c<i.length;c++)for(var s=c+1;s<i.length;s++)if(i[c].PlanDt!==i[s].PlanDt)return void m.b.warn("\u4e0d\u80fd\u9009\u62e9\u8ba1\u5212\u6708\u4efd\u4e0d\u540c\u7684\u8c03\u5ea6\u5355");e.props.history.push({pathname:"/Admin/DdOrder/DdOrder_BjInfo2",DIDS:n.join(","),LTOrders:r.join(",")})},e.demantJj=function(){for(var t=e.state,a=t.dataSource,n=t.selectedRowKeys,r=[],i=a.filter((function(e){for(var t=0;t<n.length;t++)if(n[t]===e.ID)return!0;return!1})),o=0;o<i.length;o++){if("\u5df2\u5b8c\u6210"!==i[o].JjStatus)return void m.b.warn("\u4e0d\u80fd\u9009\u62e9\u672a\u5b8c\u6210\u7684\u8c03\u5ea6\u5355");r.push(i[o].LTOrder)}for(var c=0;c<i.length;c++)for(var s=c+1;s<i.length;s++)if(i[c].PlanDt!==i[s].PlanDt)return void m.b.warn("\u4e0d\u80fd\u9009\u62e9\u8ba1\u5212\u6708\u4efd\u4e0d\u540c\u7684\u8c03\u5ea6\u5355");e.props.history.push({pathname:"/Admin/DdOrder/DdOrder_JjInfo",DIDS:n.join(","),LTOrders:r.join(",")})},e.demantCg=function(){for(var t=e.state,a=t.dataSource,n=t.selectedRowKeys,r=[],i=a.filter((function(e){for(var t=0;t<n.length;t++)if(n[t]===e.ID)return!0;return!1})),o=0;o<i.length;o++){if("\u5df2\u5b8c\u6210"!==i[o].JjStatus)return void m.b.warn("\u4e0d\u80fd\u9009\u62e9<\u672a\u5b8c\u6210>\u7684\u8c03\u5ea6\u5355");r.push(i[o].LTOrder)}for(var c=0;c<i.length;c++)for(var s=c+1;s<i.length;s++)if(i[c].PlanDt!==i[s].PlanDt)return void m.b.warn("\u4e0d\u80fd\u9009\u62e9<\u8ba1\u5212\u6708\u4efd>\u4e0d\u540c\u7684\u8c03\u5ea6\u5355");for(var d=0;d<i.length;d++)if(i[0].CgBaseTime!==i[d].CgBaseTime)return void m.b.warn("\u8bf7\u9009\u62e9<\u91c7\u8d2d\u5e93\u5b58\u57fa\u51c6\u65e5\u671f>\u76f8\u540c\u7684\u8c03\u5ea6\u5355");var l="";""!==i[0].CgBaseTime&&(l=Pe()(i[0].CgBaseTime).format("YYYY/MM/DD")),e.props.history.push({pathname:"/Admin/DdOrder/DdOrder_CgInfo",DIDS:n.join(","),LTOrders:r.join(","),BaseTime:l})},e.demantCgBaseTime=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.CgBaseTime,r=a.selectedRowKeys,i=a.dataSource,""!==n){t.next=4;break}return m.b.warn("\u8bf7\u9009\u62e9\u91c7\u8d2d\u5e93\u5b58\u57fa\u51c6\u65e5\u671f"),t.abrupt("return");case 4:if(""!==r&&0!==r.length){t.next=7;break}return m.b.warn("\u8bf7\u9009\u62e9\u8981\u66f4\u65b0\u91c7\u8d2d\u57fa\u51c6\u65e5\u671f\u7684\u8c03\u5ea6\u5355"),t.abrupt("return");case 7:if(o=i.filter((function(e){return r.find((function(t){return t===e.ID}))})),c=n.format("YYYYMMDD"),void 0===(o=o.find((function(e){return"\u5df2\u5b8c\u6210"!==e.CgStatus})))){t.next=13;break}return m.b.warn("\u8bf7\u9009\u62e9\u91c7\u8d2d\u72b6\u6001\u5df2\u5b8c\u6210\u7684\u8c03\u5ea6\u5355"),t.abrupt("return");case 13:return(s=new FormData).append("strKcDate",c),s.append("iDID",r.join(",")),e.setState({Btn_CgBaseload:!0}),t.next=19,le(s);case 19:0===t.sent.status?(e.setState({Btn_CgBaseload:!1}),m.b.success("\u5e93\u5b58\u66f4\u65b0\u6210\u529f")):(e.setState({Btn_CgBaseload:!1}),m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"));case 21:case"end":return t.stop()}}),t)}))),e.ModalMsgHide=function(){e.setState({isModalMsgShow:!1})},e.componentDidMount=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.handleTableChange(),a=!1,n=!1,r=!1,i=!1,o=!1,l=e.props.location.pathname,t.next=6,We(l);case 6:e.Roles=t.sent,qe(e.Roles,"\u7f16\u8f91")&&(a=!0),qe(e.Roles,"\u9700\u6c42\u8ba1\u5212\u6267\u884c")&&(n=!0),qe(e.Roles,"\u94a3\u91d1\u9700\u6c42\u62a5\u8868")&&(r=!0),qe(e.Roles,"\u673a\u52a0\u9700\u6c42\u62a5\u8868")&&(i=!0),qe(e.Roles,"\u91c7\u8d2d\u9700\u6c42\u62a5\u8868")&&(o=!0),qe(e.Roles,"\u94a3\u91d1\u6267\u884c")&&(c=!0),qe(e.Roles,"\u673a\u52a0\u6267\u884c")&&(s=!0),qe(e.Roles,"\u91c7\u8d2d\u6267\u884c")&&(d=!0),e.setState({Fuc_Edit:a,Fuc_Exe:n,Fuc_Bj:r,Fuc_Jj:i,Fuc_Cg:o,Fuc_BjExe:c,Fuc_JiExe:s,Fuc_CgExe:d});case 16:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=function(e){var t=e.state,a=t.Fuc_Bj,n=t.Fuc_Jj,r=t.Fuc_Cg,i=[Object(ct.a)(Object(ct.a)({title:"\u8c03\u5ea6\u5355\u53f7",dataIndex:"LTOrder",key:"LTOrder",width:30},Qe("LTOrder",e)),{},{sorter:{multiple:2}}),{title:"\u7248\u672c\u53f7",dataIndex:"TbCount",key:"TbCount",width:20},Object(ct.a)({title:"\u4ea7\u7ebf",dataIndex:"Faline",key:"Faline",width:25},Qe("Faline",e)),{title:"\u4e0a\u4f20\u65f6\u95f4",dataIndex:"UpTime",key:"UpTime",width:30,defaultSortOrder:"descend",sorter:{multiple:1},render:function(e){return e}},{title:"\u751f\u6548",dataIndex:"status",key:"status",width:25,filters:[{text:"\u662f",value:"\u662f"},{text:"\u5426",value:"\u5426"}],render:function(e){return"\u662f"===e?Object(ke.jsx)(Ot.a,{color:"green",children:e}):Object(ke.jsx)(Ot.a,{color:"red",children:e})}},{title:"\u94a3\u91d1\u72b6\u6001",dataIndex:"BjStatus1",key:"BjStatus1",width:28,render:function(t,a){var n=!0;return"\u5f85\u6267\u884c"!==a.BjStatus&&"\u5f85\u6267\u884c"!==a.JjStatus&&"\u5f85\u6267\u884c"!==a.CgStatus||(n=!1),"\u5f85\u6267\u884c"===t?Object(ke.jsx)(st,{onClick:function(){return e.SearchDet(a.ID,n)},children:Object(ke.jsx)(Ot.a,{color:"blue",children:t})}):"\u5df2\u5b8c\u6210"===t?Object(ke.jsx)(st,{onClick:function(){return e.SearchDet(a.ID,n)},children:Object(ke.jsx)(Ot.a,{color:"green",children:t})}):Object(ke.jsx)(st,{onClick:function(){return e.SearchDet(a.ID,n)},children:Object(ke.jsx)(Ot.a,{color:"magenta",children:t})})}},{title:"\u94a3\u91d1\u6267\u884c\u4eba",dataIndex:"BjPer",key:"BjPer",width:28},{title:"\u94a3\u91d1\u6267\u884c\u65f6\u95f4",dataIndex:"BjTime",key:"BjTime",width:28},{title:"\u673a\u52a0\u72b6\u6001",dataIndex:"JjStatus1",key:"JjStatus1",width:28,render:function(t,a){var n=!0;return"\u5f85\u6267\u884c"!==a.BjStatus&&"\u5f85\u6267\u884c"!==a.JjStatus&&"\u5f85\u6267\u884c"!==a.CgStatus||(n=!1),"\u5f85\u6267\u884c"===t?Object(ke.jsx)(st,{onClick:function(){return e.SearchDet(a.ID,n)},children:Object(ke.jsx)(Ot.a,{color:"blue",children:t})}):"\u5df2\u5b8c\u6210"===t?Object(ke.jsx)(st,{onClick:function(){return e.SearchDet(a.ID,n)},children:Object(ke.jsx)(Ot.a,{color:"green",children:t})}):Object(ke.jsx)(st,{onClick:function(){return e.SearchDet(a.ID,n)},children:Object(ke.jsx)(Ot.a,{color:"magenta",children:t})})}},{title:"\u673a\u52a0\u6267\u884c\u4eba",dataIndex:"JjPer",key:"JjPer",width:28},{title:"\u673a\u52a0\u6267\u884c\u65f6\u95f4",dataIndex:"JjTime",key:"JjTime",width:28},{title:"\u91c7\u8d2d\u72b6\u6001",dataIndex:"CgStatus1",key:"CgStatus1",width:28,render:function(t,a){var n=!0;return"\u5f85\u6267\u884c"!==a.BjStatus&&"\u5f85\u6267\u884c"!==a.JjStatus&&"\u5f85\u6267\u884c"!==a.CgStatus||(n=!1),"\u5f85\u6267\u884c"===t?Object(ke.jsx)(st,{onClick:function(){return e.SearchDet(a.ID,n)},children:Object(ke.jsx)(Ot.a,{color:"blue",children:t})}):"\u5df2\u5b8c\u6210"===t?Object(ke.jsx)(st,{onClick:function(){return e.SearchDet(a.ID,n)},children:Object(ke.jsx)(Ot.a,{color:"green",children:t})}):Object(ke.jsx)(st,{onClick:function(){return e.SearchDet(a.ID,n)},children:Object(ke.jsx)(Ot.a,{color:"magenta",children:t})})}},{title:"\u91c7\u8d2d\u6267\u884c\u4eba",dataIndex:"CgPer",key:"CgPer",width:28},{title:"\u91c7\u8d2d\u6267\u884c\u65f6\u95f4",dataIndex:"CgTime",key:"CgTime",width:28},{title:"\u91c7\u8d2d\u5e93\u5b58\u57fa\u51c6\u65e5\u671f",dataIndex:"CgBaseTime",key:"CgBaseTime",width:28,render:function(e){return e}},{title:"\u8ba1\u5212\u6708\u4efd",dataIndex:"PlanDt",key:"PlanDt  ",width:25,sorter:{multiple:3},render:function(e){return e}},{title:"\u64cd\u4f5c",width:41,fixed:"right",dataIndex:"operation",render:function(t,a){return Object(ke.jsxs)("div",{style:{textAlign:"center"},children:[e.state.Fuc_Edit?Object(ke.jsx)(p.a,{size:"small",type:"primary",onClick:function(){return e.ModalDel(a,e)},danger:!0,children:"\u5220\u9664"}):"","\u2003",e.state.Fuc_Edit?Object(ke.jsx)(p.a,{size:"small",type:"primary",onClick:function(){return e.ModalEdit(a,e)},children:"\u7f16\u8f91"}):""]})}}];return i.filter((function(e){return!!(a||"BjStatus1"!==e.key&&"BjPer"!==e.key&&"BjTime"!==e.key)&&!!(n||"JjStatus1"!==e.key&&"JjPer"!==e.key&&"JjTime"!==e.key)&&!!(r||"CgStatus1"!==e.key&&"CgPer"!==e.key&&"CgTime"!==e.key&&"CgBaseTime"!==e.key)}))}(this),a=this.state,n=a.dataSource,r=(a.Btn_CgBaseload,a.loading),i=a.SearchContation,o=a.ModalTitle,c=a.isModalEditShow,s=a.current,d=a.dataTotal,l=a.selectedRowKeys,u=a.selectedRowKeys2,h=a.isModalExeShow,j=a.isModalDetStatusShow,b=a.DataSource_DetStatus,m=a.isDetTools,x=a.isModalMsgShow,g=a.Fuc_Edit,S=a.Fuc_Exe,w=a.Fuc_Bj,y=a.Fuc_Jj,v=a.Fuc_Cg,D=a.Fuc_BjExe,k=a.Fuc_JiExe,C=a.Fuc_CgExe,I={selectedRowKeys:l,columnWidth:15,onChange:this.onSelectChange},M={selectedRowKeys:u,onChange:this.onSelectChange2,selections:[{key:"SELECT_ALL",text:"\u5168\u9009",onSelect:function(t){e.setState({selectedRowKeys2:t})}},{key:"SELECT_INVERT",text:"\u53cd\u9009",onSelect:function(t){var a=e.state.selectedRowKeys2,n=[];b.forEach((function(e){void 0===a.find((function(t){return t===e.ID}))&&n.push(e.ID)})),e.setState({selectedRowKeys2:n})}},{key:"SELECT_BJ",text:"\u94a3\u91d1\u5f02\u5e38\u5168\u9009",onSelect:function(t){e.onSelectDet_Error(b,"BjStatus")}},{key:"SELECT_JJ",text:"\u673a\u52a0\u5f02\u5e38\u5168\u9009",onSelect:function(t){e.onSelectDet_Error(b,"JjStatus")}},{key:"SELECT_CG",text:"\u91c7\u8d2d\u5f02\u5e38\u5168\u9009",onSelect:function(t){e.onSelectDet_Error(b,"CgStatus")}}]};return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsxs)("div",{className:"toolArea",children:[g?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ExcelIn()},children:"\u5bfc\u5165\u8c03\u5ea6\u5355"}):"",g?" ":"",Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.OrderDet()},children:"\u8c03\u5ea6\u5355\u660e\u7ec6"}),"\u2003",S?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.demantExe()},children:"\u9700\u6c42\u8ba1\u5212\u6267\u884c"}):"",S?" ":"",w?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.demantBj()},children:"\u94a3\u91d1\u9700\u6c42\u62a5\u8868"}):"",w?" ":"",y?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.demantJj()},children:"\u673a\u52a0\u9700\u6c42\u62a5\u8868"}):"",y?" ":"",v?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.demantCg()},children:"\u91c7\u8d2d\u9700\u6c42\u62a5\u8868"}):"",Object(ke.jsxs)("p",{style:{textAlign:"left",fontSize:"22px"},children:["\u5f53\u524d\u67e5\u8be2\u6761\u4ef6:",i.LTOrder?"\u8ba2\u5355\u53f7:"+i.LTOrder:"","\u2003",i.Faline?"\u4ea7\u7ebf:"+i.Faline:"","\u2003",i.status?"\u662f\u5426\u751f\u6548:"+i.status:""]})]}),Object(ke.jsx)(pt.a,{rowSelection:I,dataSource:n,bordered:!0,rowKey:"ID",sticky:!0,columns:t,size:"middle",loading:r,pagination:{position:["bottomCenter"],pageSizeOptions:[20],current:s,total:d,showTotal:function(e,t){return"\u4e00\u5171 ".concat(e," \u6761\u6570\u636e")},pageSize:20},onChange:this.handleTableChange}),Object(ke.jsx)(at.a,{title:o,visible:c,onOk:function(){return e.ModalEditOk()},onCancel:function(){return e.ModalEditCancel()},children:Object(ke.jsxs)(O.a,Object(ct.a)(Object(ct.a)({ref:this.formRef},this.layout),{},{children:[Object(ke.jsx)(O.a.Item,{name:"LTOrder",label:"\u8c03\u5ea6\u5355\u53f7",children:Object(ke.jsx)(f.a,{readOnly:!0})}),Object(ke.jsx)(O.a.Item,{name:"Faline",label:"\u4ea7\u7ebf",defaultValue:"\u5357\u7ebf",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ea7\u7ebf"}],children:Object(ke.jsxs)(Kt.a,{children:[Object(ke.jsx)(Kt.a.Option,{value:"\u5357\u7ebf",children:"\u5357\u7ebf"}),Object(ke.jsx)(Kt.a.Option,{value:"\u5317\u7ebf",children:"\u5317\u7ebf"})]})})]}))}),Object(ke.jsx)(at.a,{title:"\u9700\u6c42\u8ba1\u5212\u6267\u884c",visible:h,onOk:function(){return e.ModalExeOk()},onCancel:function(){return e.ModalExeCancel()},children:Object(ke.jsx)(O.a,{ref:this.formRef2,children:Object(ke.jsx)(O.a.Item,{name:"dt",label:"\u671f\u521d\u5e93\u5b58\u65e5\u671f",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u671f\u521d\u5e93\u5b58\u65e5\u671f"}],children:Object(ke.jsx)(Ht.a,{locale:Ea.a,format:"YYYYMMDD"})})})}),Object(ke.jsx)(at.a,{title:"",width:1e3,visible:j,onOk:function(){return e.ModalDetStatusCancel()},onCancel:function(){return e.ModalDetStatusCancel()},children:Object(ke.jsxs)("div",{style:{maxHeight:"700px",overflowY:"scroll"},children:[m?Object(ke.jsxs)("div",{style:{textAlign:"right",marginBottom:"10px",marginTop:"10px"},children:[Object(ke.jsx)(Ht.a,{locale:Ea.a,onChange:function(t){return e.statusDt=t},format:"YYYYMMDD",defaultValue:Pe()(),placeholder:"\u9009\u62e9\u8ba1\u5212\u65e5\u671f"}),"\xa0",D?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.demantExe_Det("BJ")},children:"\u94a3\u91d1\u9700\u6c42\u8ba1\u5212\u6267\u884c"}):"","\xa0",k?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.demantExe_Det("JJ")},children:"\u673a\u52a0\u9700\u6c42\u8ba1\u5212\u6267\u884c"}):"","\xa0",C?Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.demantExe_Det("CG")},children:"\u91c7\u8d2d\u9700\u6c42\u8ba1\u5212\u6267\u884c"}):"","\xa0"]}):Object(ke.jsx)("div",{style:{textAlign:"right",marginBottom:"10px",marginTop:"10px"},children:Object(ke.jsx)("h1",{children:"\u9700\u6c42\u8ba1\u5212\u6267\u884c\u4e2d\u3002"})}),Object(ke.jsx)(pt.a,{rowSelection:M,sticky:!0,rowKey:"ID",bordered:!0,dataSource:b,columns:Tt(this),size:"middle",pagination:!1})]})}),Object(ke.jsx)(at.a,{visible:x,onOk:function(){return e.ModalMsgHide()},onCancel:function(){return e.ModalMsgHide()},children:"\u9700\u6c42\u8ba1\u5212\u6267\u884c\u4e2d"})]})}}]),a}(l.Component),Na=(a(102),a(66)),Aa=(a(133),at.a.confirm),Ya=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={dataSource:[],loading:!1,uploading:!1,uploadState:0},e.key=0,e.loadExcelUp=!1,e.attes={name:"file",headers:{authorization:"authorization-text"},showUploadList:!1,beforeUpload:function(t){if(-1===t.name.lastIndexOf(".xls")&&-1===t.name.lastIndexOf(".xlsx"))return m.b.error("\u8bf7\u4e0a\u4f20Excel\u6587\u4ef6"),!1;var a=[{title:"\u5e8f\u53f7",dataIndex:"TbIndex",key:"TbIndex",width:18,render:function(e,t,a){return"".concat(a+1)}},{title:"\u6295\u4ea7\u65e5\u671f",dataIndex:"Datetime1",key:"Datetime1",width:25},{title:"\u6574\u673a\u7f16\u7801",dataIndex:"ZjNo",key:"ZjNo",width:35},{title:"\u7269\u6599\u7f16\u7801",dataIndex:"Matnr",key:"Matnr",width:30},{title:"\u7cfb\u5217",dataIndex:"Series",key:"Series",width:20},{title:"\u578b\u53f7",dataIndex:"Model",key:"Model",width:20},{title:"\u5206\u52a8\u7bb1",dataIndex:"Box",key:"Box",width:20},{title:"\u6570\u91cf",dataIndex:"Num",key:"Num",width:18},{title:"\u914d\u7f6e",dataIndex:"Config",key:"Config",width:45,ellipsis:!0},{title:"\u4ea4\u5e93\u65f6\u95f4",dataIndex:"Datetime2",key:"Datetime2",width:25},{title:"\u5907\u6ce8",dataIndex:"Bz",key:"Bz",width:45,ellipsis:!0}],n=new FileReader;return e.setState({loading:!0}),n.onload=function(t,n){try{var r=t.target.result,i=Re.a.read(r,{type:"binary",cellDates:!0}),o=[],c=!1;for(var s in i.Sheets){if(i.Sheets.hasOwnProperty(s)&&(o=(o=o.concat(Re.a.utils.sheet_to_json(i.Sheets[s]))).map((function(t,n){var r={};for(var i in t){var o=i.replaceAll(" ",""),s=t[i];delete t[i],t[o]=s}return a.forEach((function(e,a){if(void 0!==t[e.title])if(-1!==e.title.indexOf("\u65e5\u671f")||-1!==e.title.indexOf("\u65f6\u95f4"))if(t[e.title]instanceof Date)r[e.dataIndex]=Pe()(t[e.title]).format("YYYYMMDD");else if(-1!==(t[e.title]+"").indexOf("/")){var i=t[e.title].split("/"),o=i[0];1===i[1].length&&(i[1]=0+i[1]),1===i[2].length&&(i[2]=0+i[2]),o+=i[1]+i[2],r[e.dataIndex]=o}else 8!==(t[e.title]+"").length&&(console.dir(t[e.title]+","+n),m.b.error("\u65e5\u671f\u4f4d\u6570\u4e0d\u5bf9,\u65e0\u6cd5\u5bfc\u5165,\u53d1\u751f\u5728\u7b2c"+(n+1)+"\u884c,"+(a+1)+"\u5217"),c=!0),r[e.dataIndex]=t[e.title];else r[e.dataIndex]=t[e.title]})),r.key="key"+e.key++,r})),c))return;break}e.setState({dataSource:o,uploadState:1})}catch(d){throw m.b.error("\u8bf7\u4e0a\u4f20Excel\u6587\u4ef6"),d}},e.setState({loading:!0}),n.readAsBinaryString(t,Object(Vt.a)(e)),!1}},e.DdExcelUp=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.loadExcelUp){t.next=3;break}return m.b.warn("\u6587\u4ef6\u4e0a\u4f20\u4e2d,\u8bf7\u52ff\u91cd\u590d\u63d0\u4ea4"),t.abrupt("return");case 3:if(!((a=e.state.dataSource).length<=0)){t.next=7;break}return m.b.warn("\u8bf7\u5148\u63d0\u4ea4Excel"),t.abrupt("return");case 7:return n=e.formRef.current,t.prev=8,t.next=11,n.validateFields();case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(8),console.dir(t.t0),m.b.warn("\u8bf7\u9a8c\u8bc1\u6570\u636e\u5b8c\u6574\u6027"),t.abrupt("return");case 18:for(r=Object(ct.a)({},n.getFieldsValue(!0)),i=new FormData,r.PlanDt=Pe()(r.PlanDt).format("YYYYMM"),i.append("HeadData",JSON.stringify(r)),o=a.map((function(e){return e})),c=0;c<o.length;c++)delete o[c].TbIndex,i.append("list[".concat(c,"]"),JSON.stringify(o[c]));return i.append("Count",c),e.loadExcelUp=!0,e.setState({uploading:!0}),t.prev=28,t.next=31,ye(i);case 31:0===(s=t.sent).status?(Aa({icon:Object(ke.jsx)(Ia.a,{twoToneColor:"#52c41a"}),title:"Excel\u4e0a\u4f20\u6210\u529f\uff0c\u8bf7\u52ff\u91cd\u590d\u4e0a\u4f20",okText:"\u786e\u8ba4"}),e.setState({dataSource:[]}),e.loadExcelUp=!1):2===s.status?(m.b.error("SAP\u63a5\u53e3\u9519\u8bef"),e.loadExcelUp=!1):3===s.status?(console.dir(s.msg),m.b.error("\u7269\u6599\u7f16\u7801\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5:"+JSON.stringify(s.msg)),e.loadExcelUp=!1):(m.b.error("\u7f51\u7edc\u9519\u8bef"),e.loadExcelUp=!1),t.next=39;break;case 35:t.prev=35,t.t1=t.catch(28),e.loadExcelUp=!1,e.setState({uploading:!1});case 39:return t.prev=39,e.loadExcelUp=!1,e.setState({uploading:!1}),t.finish(39);case 43:case"end":return t.stop()}}),t,null,[[8,13],[28,35,39,43]])}))),e.DownLoadDemo=function(){Xe("\u8c03\u5ea6\u5355\u6a21\u677f.xls")},e.handleBack=function(){e.props.history.goBack()},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.uploading;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{className:"toolArea",children:Object(ke.jsxs)(O.a,{ref:this.formRef,layout:"inline",initialValues:{Faline:"\u5357\u7ebf"},children:[Object(ke.jsx)(O.a.Item,{children:Object(ke.jsxs)(st,{onClick:function(){return e.handleBack()},children:[Object(ke.jsx)(Ma.a,{}),"\u8fd4\u56de\u8c03\u5ea6\u5355"]})}),Object(ke.jsx)(O.a.Item,{label:"\u8ba1\u5212\u6708\u4efd:",name:"PlanDt",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8ba1\u5212\u6708\u4efd"}],children:Object(ke.jsx)(Ht.a,{locale:Ea.a,picker:"month"})}),Object(ke.jsx)(O.a.Item,{label:"\u5e8f\u53f7",name:"NO",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e8f\u53f7"}],children:Object(ke.jsx)(f.a,{type:"number"})}),Object(ke.jsx)(O.a.Item,{label:"\u4ea7\u7ebf",name:"Faline",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ea7\u7ebf"}],children:Object(ke.jsxs)(Kt.a,{children:[Object(ke.jsx)(Kt.a.Option,{value:"\u5357\u7ebf",children:"\u5357\u7ebf"}),Object(ke.jsx)(Kt.a.Option,{value:"\u5317\u7ebf",children:"\u5317\u7ebf"})]})}),Object(ke.jsx)(O.a.Item,{children:Object(ke.jsx)(ma.a,Object(ct.a)(Object(ct.a)({},this.attes),{},{children:Object(ke.jsx)(p.a,{icon:Object(ke.jsx)(Oa.a,{}),children:"Excel\u5bfc\u5165"})}))}),Object(ke.jsxs)(O.a.Item,{children:[Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.DdExcelUp()},children:"\u751f\u5355"}),"\xa0",Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.DownLoadDemo()},children:"\u6a21\u677f\u4e0b\u8f7d"})]})]})}),Object(ke.jsx)(pt.a,{dataSource:a,rowKey:"key",bordered:!0,columns:[{title:"\u5e8f\u53f7",dataIndex:"TbIndex",key:"TbIndex",width:18,render:function(e,t,a){return"".concat(a+1)}},{title:"\u6295\u4ea7\u65e5\u671f",dataIndex:"Datetime1",key:"Datetime1",width:25},{title:"\u6574\u673a\u7f16\u7801",dataIndex:"ZjNo",key:"ZjNo",width:35},{title:"\u7269\u6599\u7f16\u7801",dataIndex:"Matnr",key:"Matnr",width:30},{title:"\u7cfb\u5217",dataIndex:"Series",key:"Series",width:20},{title:"\u578b\u53f7",dataIndex:"Model",key:"Model",width:20},{title:"\u5206\u52a8\u7bb1",dataIndex:"Box",key:"Box",width:20},{title:"\u6570\u91cf",dataIndex:"Num",key:"Num",width:18},{title:"\u914d\u7f6e",dataIndex:"Config",key:"Config",width:45,ellipsis:!0},{title:"\u4ea4\u5e93\u65f6\u95f4",dataIndex:"Datetime2",key:"Datetime2",width:25},{title:"\u5907\u6ce8",dataIndex:"Bz",key:"Bz",width:45,ellipsis:!0}],pagination:!1,size:"small"}),Object(ke.jsx)(Na.a,{style:{position:"absolute",left:"48%",top:"47%"},tip:"\u6570\u636e\u4e0a\u4f20\u4e2d...",spinning:n})]})}}]),a}(l.Component),Ua=(a(442),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={dataSource:[],loading:!0,isModalEditShow:!1},e.componentDidMount=Object(x.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.SearchData(),a=!1,n=e.props.location.pathname,t.next=5,We(n);case 5:e.Roles=t.sent,qe(e.Roles,"\u660e\u7ec6\u7f16\u8f91")&&(a=!0),console.dir("pathname:"+n),e.setState({Fuc_Edit:a});case 9:case"end":return t.stop()}}),t)}))),e.SearchData=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===(a=e.props.location.IDS)?a=I.a.get("DdOrderDet_IDS"):I.a.set("DdOrderDet_IDS",a),(n=new FormData).append("IDS",a),t.next=6,W(n);case 6:0===(r=t.sent).status?(i=r.data.V_DdOrder_Det,o=[],c={},s="",d="",l="",i.forEach((function(e,t){0!==t&&s===e.LTOrder&&d===e.NO&&l===e.TbCount||(c={ID:e.ID,LTOrder:e.LTOrder,TbCount:e.TbCount,NO:e.NO,status:e.status,Faline:e.Faline,PlanDt:e.PlanDt,DetCount:0,Det:[]},o.push(c),s=e.LTOrder,d=e.NO,l=e.TbCount),c.Det.push({ID:"Det"+e.ID,ZjNo:e.ZjNo,Matnr:e.Matnr,Series:e.Series,Model:e.Model,Box:e.Box,Num:e.Num,Config:e.Config,Datetime1:e.Datetime1,Datetime2:e.Datetime2,Bz:e.Bz}),c.DetCount++})),e.setState({loading:!1,dataSource:o})):(m.b.error("\u7f51\u7edc\u9519\u8bef"),e.setState({loading:!1}));case 8:case"end":return t.stop()}}),t)}))),e.handleBack=function(){e.props.history.goBack()},e.ModalExcelOut=function(){var t=e.state.dataSource,a=Et(Object(Vt.a)(e)),n=Rt(),r=[],i=[],o=[];a.forEach((function(e){i.push(e.title)})),n.forEach((function(e){o.push(e.title)})),o.unshift(""),r.push(i),t.forEach((function(e){var t=[],a=[];for(var n in e)"Det"!==n&&"ID"!==n?t.push(e[n]):"Det"===n&&e.Det.forEach((function(e){var t=["",e.ZjNo,e.Matnr,e.Series,e.Box,e.Num,e.Config,e.Datetime1,e.Datetime2,e.Bz];a.push(t)}));r.push(t),a.length>0&&(r.push(o),r=r.concat(a))}));var c=Re.a.utils.book_new(),s=Re.a.utils.aoa_to_sheet(r);s["!cols"]=[{wch:15},{wch:18},{wch:18},{wch:12},{wch:15},{wch:12},{wch:80},{wch:12},{wch:12},{wch:12},{wch:25}],Re.a.utils.book_append_sheet(c,s,"Sheet1"),Re.a.writeFile(c,"\u8c03\u5ea6\u5355"+Pe()().format("YYYYMMDD")+".xlsx")},e.ModalEdit=Object(x.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0!==(a=Object(ct.a)({},e.formRef.current.getFieldsValue(!0))).Datetime2&&""!==a.Datetime2?a.Datetime2=Pe()(a.Datetime2).format("YYYYMMDD"):a.Datetime2=Pe()().format("YYYYMMDD"),n=Ze(a),t.next=5,de(n);case 5:0===t.sent.status?(e.SearchData(),m.b.success("\u7f16\u8f91\u6210\u529f")):m.b.error("\u7f51\u7edc\u9519\u8bef"),e.setState({isModalEditShow:!1});case 8:case"end":return t.stop()}}),t)}))),e.ModalCancel=function(){e.setState({isModalEditShow:!1})},e.ModalEditShow=function(t){void 0!==t.Datetime2&&""!==t.Datetime2?t.Datetime2=Pe()(tt(t.Datetime2)):t.Datetime2=Pe()(),e.setState({isModalEditShow:!0},(function(){e.formRef.current.setFieldsValue(t)}))},e.expandedRowRender=function(t,a){var n=t.Det,r=Rt(),i=Object(Vt.a)(e);return e.state.Fuc_Edit&&r.push({title:"\u7f16\u8f91",dataIndex:"edit",key:"edit",width:10,render:function(e,t){return Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return i.ModalEditShow(t)},children:"\u7f16\u8f91"})}}),Object(ke.jsx)(pt.a,{bordered:!0,size:"small",rowKey:"ID",columns:r,dataSource:n,pagination:!1})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.loading,r=t.isModalEditShow,i=this.expandedRowRender;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsxs)("div",{className:"toolArea",children:[Object(ke.jsx)("div",{style:{float:"left"},children:Object(ke.jsxs)(st,{onClick:function(){return e.handleBack()},children:[Object(ke.jsx)(Ma.a,{}),"\u8fd4\u56de\u8c03\u5ea6\u5355"]})}),Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcelOut()},children:"Excel\u5bfc\u51fa"})]}),Object(ke.jsx)(pt.a,{dataSource:a,bordered:!0,rowKey:"ID",sticky:!0,size:"middle",columns:Et(this),loading:n,pagination:!1,expandable:{expandedRowRender:i,columnWidth:10}}),Object(ke.jsx)(at.a,{title:"\u8c03\u5ea6\u5355\u660e\u7ec6\u7f16\u8f91",visible:r,onOk:function(){return e.ModalEdit()},onCancel:function(){return e.ModalCancel()},children:Object(ke.jsxs)(O.a,{ref:this.formRef,layout:"horizontal",children:[Object(ke.jsx)(O.a.Item,{name:"ZjNo",label:"\u6574\u673a\u7f16\u7801",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Matnr",label:"\u7269\u6599\u7f16\u7801",children:Object(ke.jsx)(f.a,{readOnly:!0})}),Object(ke.jsx)(O.a.Item,{name:"Series",label:"\u7cfb  \u5217",children:Object(ke.jsx)(f.a,{readOnly:!0,disabled:!0})}),Object(ke.jsx)(O.a.Item,{name:"Box",label:"\u5206 \u52a8 \u7bb1",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Num",label:"\u6570  \u91cf",children:Object(ke.jsx)(f.a,{readOnly:!0})}),Object(ke.jsx)(O.a.Item,{name:"Config",label:"\u914d\u7f6e",children:Object(ke.jsx)(f.a.TextArea,{})}),Object(ke.jsx)(O.a.Item,{name:"Datetime1",label:"\u6295\u4ea7\u65e5\u671f",children:Object(ke.jsx)(f.a,{readOnly:!0})}),Object(ke.jsx)(O.a.Item,{name:"Datetime2",label:"\u4ea4\u5e93\u65e5\u671f",children:Object(ke.jsx)(Ht.a,{format:"YYYYMMDD"})}),Object(ke.jsx)(O.a.Item,{name:"Bz",label:"\u5907\u6ce8",children:Object(ke.jsx)(f.a,{})})]})})]})}}]),a}(l.Component)),Ba=Ht.a.RangePicker,Pa=function(e,t){var a=e.Det;if(void 0===a||0===a.length)return"";var n=[],r=[],i=null,o=null;return a.forEach((function(e,t){var a=[],c=new Date(e.Datetime1),s=Pe()(c);if(s.add(1,"m"),0===n.length||!Pe()(s).isBetween(i,o)){var d={};i=Pe()(c).startOf("month"),o=Pe()(c).endOf("month");var l=Pe()(c).startOf("month");a.push({title:"\u65e5\u671f",dataIndex:"\u65e5\u671f"}),d[Pe()(i).format("YYYYMM")]=0,d.ID=Pe()(i).format("YYYYMM"),l.add(1,"s");for(var u=1;u<=31;u++){var h=u<10?"0"+u:""+u;a.push({title:h,dataIndex:h}),d[h]=0}d.dt=Pe()(s),d["\u65e5\u671f"]=Pe()(s).format("YYYYMM"),n.push(a),r.push(d)}n.forEach((function(t,a){var n=Pe()(r[a].dt).startOf("month"),i=Pe()(r[a].dt).endOf("month");Pe()(s).isBetween(n,i)&&(r[a][Pe()(s).format("DD")]+=1*e.Menge)}))})),Object(ke.jsx)(pt.a,{bordered:!0,size:"small",rowKey:"ID",columns:n[0],dataSource:r,pagination:!1})},La=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={dataSource:[],loading:!0,DIDS:"",LTOrders:"",ExcelLoading:!1,model:0,expandRowKeys:[]},e.ModalExcelOut=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l,u,h,p,f,j,x,O,g,S,w,y,v,D,k,C,I,M,_,T,E,R;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.DIDS,r=a.ExcelLoading,i=a.LTOrders,o=a.model,!r){t.next=4;break}return m.b.warn("\u6570\u636e\u6253\u5305\u4e2d\uff0c\u8bf7\u52ff\u91cd\u590d\u70b9\u51fb"),t.abrupt("return");case 4:return c=e.formRef.current,s=c.getFieldsValue(!0),d=[],s.DIDS=n,s.page=1,s.pageSize=99999,l=Ze(s),e.setState({ExcelLoading:!0}),t.next=14,q(l);case 14:if(0!==(u=t.sent).status){t.next=51;break}h=u.jo_V_JjInfo.V_JjInfo,p=u.jo_V_JiInfoSum.V_JjInfo,f=Ft(o),j=0,x=0,e.setState({ExcelLoading:!1});case 22:if(!(j<p.length)){t.next=37;break}p[j].ID="ID"+j;case 24:if(!(x<h.length)){t.next=34;break}if(p[j].Matnr!==h[x].Matnr){t.next=30;break}O=new Date(h[x].Datetime1),void 0!==p[j][Pe()(O).format("YYYYMMDD")]?p[j][Pe()(O).format("YYYYMMDD")]+=1*h[x].Menge:p[j][Pe()(O).format("YYYYMMDD")]=1*h[x].Menge,t.next=31;break;case 30:return t.abrupt("break",34);case 31:x++,t.next=24;break;case 34:j++,t.next=22;break;case 37:for(g=[],S=0;S<p.length;S++){for(w={},y=0;y<f.length;y++)w[f[y].title]=p[S][f[y].dataIndex];for(D in v=function(e){isNaN(Number(e))||(w[e+" "]=p[S][e],void 0===g.find((function(t){return t===Number(e)}))&&g.push(Number(e)))},p[S])v(D);d.push(w)}for(k=0;k<g.length;k++)for(C=k;C<g.length;C++)g[k]>g[C]&&(I=g[k],g[k]=g[C],g[C]=I);for(M=Re.a.utils.book_new(),_={},T=0;T<f.length;T++)_[f[T].title]=p[0][f[T].dataIndex];for(E=0;E<g.length;E++)_[g[E]+" "]=d[0][g[E]+" "];d[0]=_,(R=Re.a.utils.json_to_sheet(d))["!cols"]=[{wch:15},{wch:30},{wch:10},{wch:10},{wch:10},{wch:10}],Re.a.utils.book_append_sheet(M,R,"Sheet1"),Re.a.writeFile(M,"\u673a\u52a0\u9700\u6c42\u5355 ".concat(i," ")+Pe()().format("YYYYMMDD")+".xlsx"),t.next=53;break;case 51:m.b.error("\u7f51\u7edc\u9519\u8bef"),e.setState({ExcelLoading:!1});case 53:case"end":return t.stop()}}),t)}))),e.handleBack=function(){e.props.history.goBack()},e.componentDidMount=function(){var t=e.props.location,a=t.DIDS,n=t.LTOrders;void 0===a||void 0===n?(a=I.a.get("DdOrder_JjInfo_DIDS"),n=I.a.get("DdOrder_JjInfo_LTOrders")):(I.a.set("DdOrder_JjInfo_DIDS",a),I.a.set("DdOrder_JjInfo_LTOrders",n)),e.setState({DIDS:a,LTOrders:n},(function(){e.SearchData()}))},e.SearchData=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.DIDS,n=e.formRef.current,""!==a&&void 0!==a||(a="0"),(r=n.getFieldsValue(!0)).DIDS=a,void 0!==r.model&&(i=r.model[0],delete r.model,r.model=i),o=Ze(r),e.setState({loading:!0}),t.next=10,q(o);case 10:if(0!==(c=t.sent).status){t.next=43;break}s=c.jo_V_JjInfo.V_JjInfo,d=c.jo_V_JiInfoSum.V_JjInfo,l=0,u=0;case 16:if(!(l<d.length)){t.next=40;break}d[l].ID="ID"+l;case 18:if(!(u<s.length)){t.next=37;break}if("1"!==r.model){t.next=28;break}if(d[l].Matnr!==s[u].Matnr||d[l].Series!==s[u].Series){t.next=25;break}void 0===d[l].Det&&(d[l].Det=[]),d[l].Det.push(s[u]),t.next=26;break;case 25:return t.abrupt("break",37);case 26:t.next=34;break;case 28:if(d[l].Matnr!==s[u].Matnr){t.next=33;break}void 0===d[l].Det&&(d[l].Det=[]),d[l].Det.push(s[u]),t.next=34;break;case 33:return t.abrupt("break",37);case 34:u++,t.next=18;break;case 37:l++,t.next=16;break;case 40:e.setState({loading:!1,dataSource:d,model:r.model}),t.next=45;break;case 43:e.setState({loading:!1}),m.b.error("\u7f51\u7edc\u9519\u8bef");case 45:case"end":return t.stop()}}),t)}))),e.OpenOrCloseAll=function(){var t=e.state,a=t.expandRowKeys,n=t.dataSource;if(a.length>0)e.setState({expandRowKeys:[]});else{for(var r=[],i=0;i<n.length;i++)r.push(n[i].ID);e.setState({expandRowKeys:r})}},e.OpenOrCloseSingle=function(t,a){var n=e.state.expandRowKeys;a?n.push(t.ID):n=n.filter((function(e){return e!==t.ID})),e.setState({expandRowKeys:n})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.dataSource,r=t.LTOrders,i=t.ExcelLoading,o=t.model,c=t.expandRowKeys;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{className:"toolArea",children:Object(ke.jsxs)(O.a,{layout:"inline",ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{children:Object(ke.jsxs)(st,{onClick:function(){return e.handleBack()},children:[Object(ke.jsx)(Ma.a,{}),"\u8fd4\u56de\u8c03\u5ea6\u5355"]})}),Object(ke.jsx)(O.a.Item,{name:"Datetime1",label:"\u65f6\u95f4",children:Object(ke.jsx)(Ba,{locale:Ea.a})}),Object(ke.jsx)(O.a.Item,{name:"Series",label:"\u7cfb\u5217",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Matnr",label:"\u7269\u6599\u7f16\u7801",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Maktx",label:"\u7269\u6599\u63cf\u8ff0",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"bz",label:"\u73ed\u7ec4",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"model",label:"\u533a\u5206\u7cfb\u5217",children:Object(ke.jsx)(bt.a.Group,{children:Object(ke.jsx)(bt.a,{value:"1"})})}),Object(ke.jsx)(O.a.Item,{children:Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.SearchData()},children:"\u67e5\u8be2"})})]})}),Object(ke.jsxs)("div",{children:[Object(ke.jsx)("div",{style:{width:"75%",float:"left"},children:Object(ke.jsxs)("h1",{style:{fontSize:"20px",paddingLeft:"20px",lineHeight:"35px"},children:[Object(ke.jsx)(p.a,{onClick:function(){return e.OpenOrCloseAll()},children:"\u5c55\u5f00/\u5173\u95ed\u6240\u6709\u884c"}),"\u5355\u53f7:",r]})}),Object(ke.jsx)("div",{style:{width:"24%",float:"left",textAlign:"right"},children:Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcelOut()},children:"Excel\u5bfc\u51fa"})})]}),Object(ke.jsx)(pt.a,{dataSource:n,bordered:!0,rowKey:"ID",sticky:!0,size:"middle",columns:Ft(o),loading:a,pagination:!1,expandable:{expandRowByClick:!0,expandedRowRender:Pa,columnWidth:4,indentSize:0,expandedRowKeys:c,onExpand:function(t,a){e.OpenOrCloseSingle(a,t)}}}),Object(ke.jsx)(Na.a,{style:{position:"absolute",left:"48%",top:"47%"},tip:"\u6570\u636e\u6253\u5305Excel...",spinning:i})]})}}]),a}(l.Component),za=(a(443),Ht.a.RangePicker),Va=function(e,t){var a=e.Det;if(void 0===a||0===a.length)return"";var n=[],r=[],i=null,o=null;return a.forEach((function(e,t){var a=[],c=new Date(e.Datetime1),s=Pe()(c);if(s.add(1,"m"),0===n.length||!Pe()(s).isBetween(i,o)){var d={};i=Pe()(c).startOf("month"),o=Pe()(c).endOf("month");var l=Pe()(c).startOf("month");a.push({title:"\u65e5\u671f",dataIndex:"\u65e5\u671f"}),d[Pe()(i).format("YYYYMM")]=0,d.ID=Pe()(i).format("YYYYMM"),l.add(1,"s");for(var u=1;u<=31;u++){var h=u<10?"0"+u:""+u;a.push({title:h,dataIndex:h}),d[h]=0}d.dt=Pe()(s),d["\u65e5\u671f"]=Pe()(s).format("YYYYMM"),n.push(a),r.push(d)}n.forEach((function(t,a){var n=Pe()(r[a].dt).startOf("month"),i=Pe()(r[a].dt).endOf("month");Pe()(s).isBetween(n,i)&&(r[a][Pe()(s).format("DD")]+=1*e.Menge)}))})),Object(ke.jsx)(pt.a,{bordered:!0,size:"small",rowKey:"ID",columns:n[0],dataSource:r,pagination:!1})},Ka=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={dataSource:[],ViewMode:"V_CgInfo",loading:!0,Btn_CgBaseload:!1,DIDS:"",SearchContation:{},current:1,dataTotal:0,LTOrders:"",BaseTime:"",CgBaseTime:"",ExcelLoading:!1,SpinTip:"",model:0,expandRowKeys:[]},e.TablerepetClassName=function(e,t){return!0===e.repeat?"Tablerepet":""},e.ModalExcelOut=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l,u,h,p,f,j,x,O,g,S,w,y,v,D,k,C,I,M,_,T,E,R,F,N;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.DIDS,r=a.ExcelLoading,i=a.LTOrders,o=a.model,c=a.ViewMode,!r){t.next=4;break}return m.b.warn("\u6570\u636e\u6253\u5305\u4e2d\uff0c\u8bf7\u52ff\u91cd\u590d\u70b9\u51fb"),t.abrupt("return");case 4:return s=e.formRef.current,d=s.getFieldsValue(!0),l=[],d.DIDS=n,d.page=1,d.pageSize=99999,void 0!==d.model&&void 0!==d.model.length&&(d.model=d.model[0]),d.ViewMode=c,u=Ze(d),e.setState({ExcelLoading:!0,SpinTip:"Excel\u6570\u636e\u6253\u5305\u4e2d"}),t.next=16,Z(u);case 16:if(0!==(h=t.sent).status){t.next=43;break}if(p=h.jo_V_CgInfo.V_CgInfo,f=h.jo_V_CgInfoSum.V_CgInfo,0!==h.jo_V_CgInfo.V_CgInfo_Count){t.next=25;break}return m.b.warn("\u65e0\u6570\u636e\u53ef\u5bfc\u51fa"),e.setState({ExcelLoading:!1}),t.abrupt("return");case 25:for(j=Nt(d.model),e.setState({ExcelLoading:!1}),x=0;x<f.length;x++)for(f[x].ID="ID"+x,O=0;O<p.length;O++)"1"===o?f[x].Matnr===p[O].Matnr&&f[x].Series===p[O].Series&&(g=new Date(p[O].Datetime1),void 0!==f[x][Pe()(g).format("YYYYMMDD")]?f[x][Pe()(g).format("YYYYMMDD")]+=1*p[O].Menge:f[x][Pe()(g).format("YYYYMMDD")]=1*p[O].Menge):f[x].Matnr===p[O].Matnr&&f[x].Lifnr===p[O].Lifnr&&(S=new Date(p[O].Datetime1),void 0!==f[x][Pe()(S).format("YYYYMMDD")]?f[x][Pe()(S).format("YYYYMMDD")]+=1*p[O].Menge:f[x][Pe()(S).format("YYYYMMDD")]=1*p[O].Menge);for(w=[],y=0;y<f.length;y++){for(v={},D=0;D<j.length;D++)v[j[D].title]=f[y][j[D].dataIndex];for(C in k=function(e){isNaN(Number(e))||(v[e+" "]=f[y][e],void 0===w.find((function(t){return t===Number(e)}))&&w.push(Number(e)))},f[y])k(C);l.push(v)}for(I=0;I<w.length;I++)for(M=I;M<w.length;M++)w[I]>w[M]&&(_=w[I],w[I]=w[M],w[M]=_);for(T=Re.a.utils.book_new(),E={},R=0;R<j.length;R++)E[j[R].title]=f[0][j[R].dataIndex];for(F=0;F<w.length;F++)E[w[F]+" "]=l[0][w[F]+" "];l[0]=E,(N=Re.a.utils.json_to_sheet(l))["!cols"]=[{wch:15},{wch:20},{wch:10},{wch:8},{wch:12},{wch:30},{wch:12},{wch:12},{wch:15},{wch:15}],Re.a.utils.book_append_sheet(T,N,"Sheet1"),Re.a.writeFile(T,"\u91c7\u8d2d\u9700\u6c42\u5355 ".concat(i," ")+Pe()().format("YYYYMMDD")+".xlsx"),t.next=45;break;case 43:e.setState({ExcelLoading:!1}),m.b.error("\u7f51\u7edc\u9519\u8bef");case 45:case"end":return t.stop()}}),t)}))),e.handleBack=function(){e.props.history.goBack()},e.demantCgBaseTime=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.CgBaseTime,r=a.DIDS,""!==n){t.next=4;break}return m.b.warn("\u8bf7\u9009\u62e9\u91c7\u8d2d\u5e93\u5b58\u57fa\u51c6\u65e5\u671f"),t.abrupt("return");case 4:return i=n.format("YYYYMMDD"),o=n.format("YYYY/MM/DD"),(c=new FormData).append("strKcDate",i),c.append("iDID",r),e.setState({Btn_CgBaseload:!0}),t.next=12,le(c);case 12:"200"===t.sent.code?(e.setState({Btn_CgBaseload:!1,BaseTime:o,ViewMode:"V_CgInfo_kc"},(function(){e.SearchData()})),m.b.success("\u5e93\u5b58\u66f4\u65b0\u6210\u529f,\u7b49\u5f85\u67e5\u8be2\u6570\u636e...")):(e.setState({Btn_CgBaseload:!1}),m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"));case 14:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){var t=e.props.location,a=t.DIDS,n=t.LTOrders,r=t.BaseTime;void 0===a||void 0===n?(a=I.a.get("DdOrder_JjInfo_DIDS"),n=I.a.get("DdOrder_JjInfo_LTOrders"),r=I.a.get("DdOrder_JjInfo_BaseTime")):(I.a.set("DdOrder_JjInfo_DIDS",a),I.a.set("DdOrder_JjInfo_LTOrders",n),I.a.set("DdOrder_JjInfo_BaseTime",r)),e.setState({DIDS:a,LTOrders:n,BaseTime:r},(function(){e.SearchData()}))},e.SearchData=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l,u,h,p,f,j,x,O=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=O.length>0&&void 0!==O[0]?O[0]:{},n=e.state,r=n.DIDS,i=n.SearchContation,o=n.ViewMode,c=e.formRef.current,void 0===a.page?(i.page=1,i.pageSize=100):(i.page=a.page,i.pageSize=a.pageSize),""!==r&&void 0!==r||(r="0"),(s=c.getFieldsValue(!0)).DIDS=r,void 0!==s.model&&(d=s.model[0],delete s.model,s.model=d),s.page=i.page,s.pageSize=i.pageSize,s.ViewMode=o,l=Ze(s),e.setState({loading:!0}),t.next=15,Z(l);case 15:if(0===(u=t.sent).status){for(h=u.jo_V_CgInfo.V_CgInfo,p=u.jo_V_CgInfoSum.V_CgInfo,f=0,j={};f<p.length;f++){for(0===f&&(j=Object(ct.a)({},p[0])),p[f].ID="D"+f,x=0;x<h.length;x++)"1"===s.model?p[f].Matnr===h[x].Matnr&&p[f].Series===h[x].Series&&(void 0===p[f].Det&&(p[f].Det=[]),p[f].Det.push(h[x]),console.dir("Series")):p[f].Matnr===h[x].Matnr&&p[f].Lifnr===h[x].Lifnr&&(void 0===p[f].Det&&(p[f].Det=[]),p[f].Det.push(h[x]),console.dir("Not Series"));0!==f&&j.Matnr===p[f].Matnr&&"1"!==s.model||0!==f&&j.Matnr===p[f].Matnr&&0!==f&&j.Series===p[f].Series&&"1"===s.model?(p[f].Det=[],p[f].repeat=!0):j=p[f]}console.dir(p),e.setState({loading:!1,dataSource:p,current:s.page,dataTotal:u.jo_V_CgInfoSum.V_CgInfo_Count,model:s.model,Btn_CgBaseload:!1})}else e.setState({loading:!1}),m.b.error("\u7f51\u7edc\u9519\u8bef");case 17:case"end":return t.stop()}}),t)}))),e.OpenOrCloseAll=function(){var t=e.state,a=t.expandRowKeys,n=t.dataSource;if(a.length>0)e.setState({expandRowKeys:[]});else{for(var r=[],i=0;i<n.length;i++)r.push(n[i].ID);e.setState({expandRowKeys:r})}},e.OpenOrCloseSingle=function(t,a){var n=e.state.expandRowKeys;a?n.push(t.ID):n=n.filter((function(e){return e!==t.ID})),e.setState({expandRowKeys:n})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.Btn_CgBaseload,r=t.dataSource,i=t.LTOrders,o=t.BaseTime,c=t.current,s=t.dataTotal,d=t.ExcelLoading,l=t.model,u=t.expandRowKeys,h=t.SpinTip;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{className:"toolArea",children:Object(ke.jsxs)(O.a,{layout:"inline",ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{children:Object(ke.jsxs)(st,{onClick:function(){return e.handleBack()},children:[Object(ke.jsx)(Ma.a,{}),"\u8fd4\u56de\u8c03\u5ea6\u5355"]})}),Object(ke.jsx)(O.a.Item,{name:"Datetime1",label:"\u65f6\u95f4",children:Object(ke.jsx)(za,{locale:Ea.a})}),Object(ke.jsx)(O.a.Item,{name:"Series",label:"\u7cfb\u5217",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Matnr",label:"\u7269\u6599\u7f16\u7801",children:Object(ke.jsx)(f.a,{style:{width:"130px"}})}),Object(ke.jsx)(O.a.Item,{name:"Maktx",label:"\u7269\u6599\u63cf\u8ff0",children:Object(ke.jsx)(f.a,{style:{width:"100px"}})}),Object(ke.jsx)(O.a.Item,{name:"MRP",label:"MRP\u63a7\u5236\u8005",children:Object(ke.jsx)(f.a,{style:{width:"50px"}})}),Object(ke.jsx)(O.a.Item,{name:"Lifnr",label:"\u4f9b\u5e94\u5546\u4ee3\u7801",children:Object(ke.jsx)(f.a,{style:{width:"60px"}})}),Object(ke.jsx)(O.a.Item,{name:"Name1",label:"\u4f9b\u5e94\u5546\u540d\u79f0",children:Object(ke.jsx)(f.a,{style:{width:"100px"}})}),Object(ke.jsx)(O.a.Item,{name:"model",label:"\u533a\u5206\u7cfb\u5217",children:Object(ke.jsx)(bt.a.Group,{children:Object(ke.jsx)(bt.a,{value:"1"})})}),Object(ke.jsxs)(O.a.Item,{children:[Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.SearchData()},children:"\u67e5\u8be2"}),"\xa0\xa0"]})]})}),Object(ke.jsxs)("div",{children:[Object(ke.jsx)("div",{style:{width:"59%",float:"left"},children:Object(ke.jsxs)("h1",{style:{fontSize:"18px",paddingLeft:"15px",lineHeight:"35px"},children:[Object(ke.jsx)(p.a,{onClick:function(){return e.OpenOrCloseAll()},children:"\u5c55\u5f00/\u5173\u95ed\u6240\u6709\u884c"}),"\xa0\u5355\u53f7:",i,",\u5e93\u5b58\u57fa\u51c6\u65e5\u671f:",o]})}),Object(ke.jsxs)("div",{style:{width:"40%",float:"left",textAlign:"right",lineHeight:"35px"},children:[Object(ke.jsx)(p.a,{type:"primary",loading:n,onClick:function(){return e.demantCgBaseTime()},children:"\u66f4\u65b0\u5e93\u5b58\u57fa\u51c6\u65e5\u671f"}),"\u2003",Object(ke.jsx)(Ht.a,{locale:Ea.a,format:"YYYYMMDD",onChange:function(t){return e.setState({CgBaseTime:t})}}),"\u2003",Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcelOut()},children:"Excel\u5bfc\u51fa"})]})]}),Object(ke.jsx)(pt.a,{dataSource:r,bordered:!0,rowKey:"ID",sticky:!0,scroll:{y:560},size:"middle",columns:Nt(l),loading:a,rowClassName:this.TablerepetClassName,pagination:{position:["bottomCenter"],pageSizeOptions:[20],current:c,total:s,showTotal:function(e,t){return"\u4e00\u5171 ".concat(e," \u6761\u6570\u636e")},pageSize:100,onChange:function(t,a){e.SearchData({page:t,pageSize:a})}},expandable:{expandRowByClick:!0,expandedRowRender:Va,columnWidth:8,indentSize:0,expandedRowKeys:u,onExpand:function(t,a){e.OpenOrCloseSingle(a,t)}}}),Object(ke.jsx)(Na.a,{style:{position:"absolute",left:"48%",top:"47%"},tip:h,spinning:d})]})}}]),a}(l.Component),Ja=Ht.a.RangePicker,Ha=Kt.a.Option,Wa=function(e,t){var a=e.Det;if(void 0===a||0===a.length)return"";for(var n=[],r={},i=0;i<a.length;i++)void 0===r[a[i].Datetime1]&&(console.dir(a[i].Datetime1),r[a[i].Datetime1]=0);for(var o in r)for(var c=0;c<a.length;c++)o===a[c].Datetime1&&(r[o]+=1*a[c].Num1);return n.push(Object(ct.a)({ID:1},r)),Object(ke.jsx)(pt.a,{bordered:!0,size:"small",rowKey:"ID",columns:At(r),dataSource:n,pagination:!1})},qa=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={dataSource:[],loading:!0,DIDS:"",SearchContation:{},current:1,dataTotal:0,LTOrders:"",ExcelLoading:!1,model:0},e.ModalExcelOut=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l,u,h,p,f,j,x,O,g,S,w,y;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.DIDS,r=a.ExcelLoading,i=a.LTOrders,!r){t.next=4;break}return m.b.warn("\u6570\u636e\u6253\u5305\u4e2d\uff0c\u8bf7\u52ff\u91cd\u590d\u70b9\u51fb"),t.abrupt("return");case 4:return o=e.formRef.current,c=o.getFieldsValue(!0),s=[],c.DIDS=n,c.page=1,c.pageSize=99999,d=Ze(c),e.setState({ExcelLoading:!0}),t.next=14,G(d);case 14:if(0!==(l=t.sent).status){t.next=90;break}u=l.V_BjInfo_Sum.V_BjInfo,h=l.V_BjInfo_Det.V_BjInfo,p=Yt(),f=0,j=0;case 21:if(!(f<u.length)){t.next=35;break}u[f].ID="D"+f;case 23:if(!(j<h.length)){t.next=32;break}if(u[f].FirstCode!==h[j].FirstCode||u[f].SecondCode!==h[j].SecondCode||u[f].ThirdCode!==h[j].ThirdCode||u[f].FourthCode!==h[j].FourthCode||u[f].FifthCode!==h[j].FifthCode){t.next=28;break}void 0!==u[f][h[j]]?u[f][h[j]]+=1*h[j].Num1:u[f][h[j]]=1*h[j].Num1,t.next=29;break;case 28:return t.abrupt("break",32);case 29:j++,t.next=23;break;case 32:f++,t.next=21;break;case 35:x=0;case 36:if(!(x<u.length)){t.next=71;break}for(O={},g=0;g<p.length;g++)O[p[g].title]=u[x][p[g].dataIndex];for(S in u[x])isNaN(Number(S))||(O[S+" "]=u[x][S]);t.t0=c.level,t.next="4"===t.t0?43:"3"===t.t0?46:"2"===t.t0?51:"1"===t.t0?58:67;break;case 43:return delete O.\u4e94\u5c42\u7f16\u7801,delete O.\u4e94\u5c42\u540d\u79f0,t.abrupt("break",67);case 46:return delete O.\u4e94\u5c42\u7f16\u7801,delete O.\u4e94\u5c42\u540d\u79f0,delete O.\u56db\u5c42\u7f16\u7801,delete O.\u56db\u5c42\u540d\u79f0,t.abrupt("break",67);case 51:return delete O.\u4e94\u5c42\u7f16\u7801,delete O.\u4e94\u5c42\u540d\u79f0,delete O.\u56db\u5c42\u7f16\u7801,delete O.\u56db\u5c42\u540d\u79f0,delete O.\u4e09\u5c42\u7f16\u7801,delete O.\u4e09\u5c42\u540d\u79f0,t.abrupt("break",67);case 58:return delete O.\u4e94\u5c42\u7f16\u7801,delete O.\u4e94\u5c42\u540d\u79f0,delete O.\u56db\u5c42\u7f16\u7801,delete O.\u56db\u5c42\u540d\u79f0,delete O.\u4e09\u5c42\u7f16\u7801,delete O.\u4e09\u5c42\u540d\u79f0,delete O.\u4e8c\u5c42\u7f16\u7801,delete O.\u4e8c\u5c42\u540d\u79f0,t.abrupt("break",67);case 67:s.push(O);case 68:x++,t.next=36;break;case 71:w=Re.a.utils.book_new(),y=Re.a.utils.json_to_sheet(s),t.t1=c.level,t.next="1"===t.t1?76:"2"===t.t1?78:"3"===t.t1?80:"4"===t.t1?82:"5"===t.t1?84:86;break;case 76:return y["!cols"]=[{wch:8},{wch:20},{wch:36},{wch:10}],t.abrupt("break",86);case 78:return y["!cols"]=[{wch:8},{wch:20},{wch:36},{wch:20},{wch:36},{wch:10}],t.abrupt("break",86);case 80:return y["!cols"]=[{wch:8},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:10}],t.abrupt("break",86);case 82:return y["!cols"]=[{wch:8},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:10}],t.abrupt("break",86);case 84:return y["!cols"]=[{wch:8},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:10}],t.abrupt("break",86);case 86:Re.a.utils.book_append_sheet(w,y,"Sheet1"),Re.a.writeFile(w,"\u94a3\u91d1\u9700\u6c42\u5355 ".concat(i," ")+Pe()().format("YYYYMMDD")+".xlsx"),t.next=91;break;case 90:m.b.error("\u7f51\u7edc\u9519\u8bef");case 91:e.setState({ExcelLoading:!1});case 92:case"end":return t.stop()}}),t)}))),e.handleBack=function(){e.props.history.goBack()},e.componentDidMount=function(){var t=e.props.location,a=t.DIDS,n=t.LTOrders;void 0===a||void 0===n?(a=I.a.get("DdOrder_JjInfo_DIDS"),n=I.a.get("DdOrder_JjInfo_LTOrders")):(I.a.set("DdOrder_JjInfo_DIDS",a),I.a.set("DdOrder_JjInfo_LTOrders",n)),e.setState({DIDS:a,LTOrders:n},(function(){e.SearchData()}))},e.SearchData=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l,u,h,p,f,j,x=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=x.length>0&&void 0!==x[0]?x[0]:{},n=e.state,r=n.DIDS,i=n.SearchContation,o=e.formRef.current,void 0===a.current?(i.page=1,i.pageSize=100):(i.page=a.current,i.pageSize=a.pageSize),(c=o.getFieldsValue(!0)).DIDS=r,void 0!==c.model&&(s=c.model[0],delete c.model,c.model=s),c.page=i.page,c.pageSize=i.pageSize,d=Ze(c),e.setState({loading:!0}),t.next=13,G(d);case 13:if(0!==(l=t.sent).status){t.next=47;break}u=l.V_BjInfo_Sum.V_BjInfo,h=l.V_BjInfo_Sum.V_BjInfo_Count,p=l.V_BjInfo_Det.V_BjInfo,f=0,j=0;case 20:if(!(f<u.length)){t.next=44;break}u[f].ID="D"+f;case 22:if(!(j<p.length)){t.next=41;break}if("1"!==c.model){t.next=32;break}if(u[f].FirstCode!==p[j].FirstCode||u[f].SecondCode!==p[j].SecondCode||u[f].ThirdCode!==p[j].ThirdCode||u[f].FourthCode!==p[j].FourthCode||u[f].FifthCode!==p[j].FifthCode||u[f].Series!==p[j].Series){t.next=29;break}void 0===u[f].Det&&(u[f].Det=[]),u[f].Det.push(p[j]),t.next=30;break;case 29:return t.abrupt("break",41);case 30:t.next=38;break;case 32:if(u[f].FirstCode!==p[j].FirstCode||u[f].SecondCode!==p[j].SecondCode||u[f].ThirdCode!==p[j].ThirdCode||u[f].FourthCode!==p[j].FourthCode||u[f].FifthCode!==p[j].FifthCode){t.next=37;break}void 0===u[f].Det&&(u[f].Det=[]),u[f].Det.push(p[j]),t.next=38;break;case 37:return t.abrupt("break",41);case 38:j++,t.next=22;break;case 41:f++,t.next=20;break;case 44:e.setState({loading:!1,dataSource:u,current:c.page,dataTotal:h,model:c.model}),t.next=49;break;case 47:e.setState({loading:!1}),m.b.error("\u7f51\u7edc\u9519\u8bef");case 49:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.dataSource,r=t.LTOrders,i=t.current,o=t.dataTotal,c=t.ExcelLoading,s=t.model;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{className:"toolArea",children:Object(ke.jsxs)(O.a,{layout:"inline",ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{children:Object(ke.jsxs)(st,{onClick:function(){return e.handleBack()},children:[Object(ke.jsx)(Ma.a,{}),"\u8fd4\u56de\u8c03\u5ea6\u5355"]})}),Object(ke.jsx)(O.a.Item,{name:"Datetime1",label:"\u65f6\u95f4",children:Object(ke.jsx)(Ja,{locale:Ea.a})}),Object(ke.jsx)(O.a.Item,{name:"Series",label:"\u7cfb\u5217",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"model",label:"\u533a\u5206\u7cfb\u5217",children:Object(ke.jsx)(bt.a.Group,{children:Object(ke.jsx)(bt.a,{value:"1"})})}),Object(ke.jsx)(O.a.Item,{name:"level",label:"\u5c42\u7ea7",initialValue:"1",children:Object(ke.jsxs)(Kt.a,{children:[Object(ke.jsx)(Ha,{value:"1",children:"1"}),Object(ke.jsx)(Ha,{value:"2",children:"2"}),Object(ke.jsx)(Ha,{value:"3",children:"3"}),Object(ke.jsx)(Ha,{value:"4",children:"4"}),Object(ke.jsx)(Ha,{value:"5",children:"5"})]})}),Object(ke.jsx)(O.a.Item,{children:Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.SearchData()},children:"\u67e5\u8be2"})})]})}),Object(ke.jsxs)("div",{children:[Object(ke.jsx)("div",{style:{width:"75%",float:"left"},children:Object(ke.jsxs)("h1",{style:{fontSize:"20px",paddingLeft:"20px",lineHeight:"35px"},children:["\u5355\u53f7:",r]})}),Object(ke.jsx)("div",{style:{width:"24%",float:"left",textAlign:"right"},children:Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcelOut()},children:"Excel\u5bfc\u51fa"})})]}),Object(ke.jsx)(pt.a,{dataSource:n,bordered:!0,rowKey:"ID",sticky:!0,scroll:{y:560},size:"middle",columns:Yt(s),loading:a,pagination:{position:["bottomCenter"],pageSizeOptions:[20],current:i,total:o,showTotal:function(e,t){return"\u4e00\u5171 ".concat(e," \u6761\u6570\u636e")},pageSize:100,onChange:function(t,a){e.SearchData({page:t,pageSize:a})}},expandable:{expandedRowRender:Wa,columnWidth:10}}),Object(ke.jsx)(Na.a,{style:{position:"absolute",left:"48%",top:"47%"},tip:"\u6570\u636e\u6253\u5305Excel...",spinning:c})]})}}]),a}(l.Component),Za=a(79),Ga=(a(444),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).formRef=u.a.createRef(),n.handleSearch=function(e,t,a){var r=n.state.SearchContation;t({closeDropdown:!1});var i={};void 0!==e[0]?(i[a]=e[0],n.handleTableChange({},i,{},0)):(r[a]="",n.handleTableChange({},{},{},0))},n.handleReset=function(e){e(),n.setState({searchText:""})},n.handleTableChange=Object(x.a)(b.a.mark((function e(){var t,a,r,i,o,c,s,d,l,u,h,p,f=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:{},a=f.length>1&&void 0!==f[1]?f[1]:{},f.length>2&&void 0!==f[2]?f[2]:{},f.length>3?f[3]:void 0,r=n.state,i=r.SearchContation,o=r.DIDS,console.dir(a),void 0===t.current?(i.page=1,i.pageSize=100):(i.page=t.current,i.pageSize=t.pageSize),a!=={})for(c in a)i[c]=a[c];return s=n.formRef.current,d=s.getFieldsValue(!0),i.DIDS=o,""!==d.Series&&void 0!==d.Series&&(i.model=1),i=Object(ct.a)(Object(ct.a)({},i),d),l=Ze(i),n.setState({loading:!0}),e.next=17,$(l);case 17:0===(u=e.sent).status&&(h=u.data.V_BjInfo,console.dir(h),0===h.length?n.setState({dataSource:[],current:1,dataTotal:0,loading:!1}):(h.forEach((function(e){e.FirstCode=e.FirstCode.replace(/\b(0+)/gi,""),e.SecondCode=e.SecondCode.replace(/\b(0+)/gi,""),e.ThirdCode=e.ThirdCode.replace(/\b(0+)/gi,""),e.FourthCode=e.FourthCode.replace(/\b(0+)/gi,""),e.FifthCode=e.FifthCode.replace(/\b(0+)/gi,"")})),n.Arr=[],n.expandRowKeys2=[],n.deepTree(h,0,{}),p=n.Arr.slice(0,9),n.setState({dataSource:p,current:1,dataTotal:n.Arr.length,loading:!1,expandRowKeys:n.expandRowKeys2,SearchContation:i})));case 19:case"end":return e.stop()}}),e)}))),n.handleBack=function(){n.props.history.goBack()},n.Codes=["FirstCode","SecondCode","ThirdCode","FourthCode","FifthCode","SixthCode"],n.CodesName=["FirstName","SecondName","ThirdName","FourthName","FifthName","SixthName"],n.Arr=[],n.expandRowKeys2=[],n.OpenOrCloseSingle=function(e,t){var a=n.state.expandRowKeys;t?a.push(e.Code):a=a.filter((function(t){return t!==e.Code})),n.setState({expandRowKeys:a})},n.ExpandRow=function(e){for(var t=n.state.dataSource,a=[],r=0;r<e;r++){if(0===r&&(a=[]),1===r){var i=t.map((function(e){return e.Code}));a=[].concat(Object(Za.a)(a),Object(Za.a)(i))}2===r&&function(){var e=[];t.forEach((function(t){t.children.forEach((function(t){e.push(t.Code)}))})),a=[].concat(Object(Za.a)(a),e)}(),3===r&&function(){var e=[];t.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){return e.push(t.Code)}))}))})),a=[].concat(Object(Za.a)(a),e)}(),4===r&&function(){var e=[];t.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){return e.push(t.Code)}))}))}))})),a=[].concat(Object(Za.a)(a),e)}(),5===r&&function(){var e=[];t.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){return e.push(t.Code)}))}))}))}))})),a=[].concat(Object(Za.a)(a),e)}()}n.setState({expandRowKeys:a})},n.ExcelOut=Object(x.a)(b.a.mark((function e(){var t,a,r,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.SearchContation,a=[{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:10}],n.setState({SpinTip:"Excel\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7b49\u5f85",ExcelLoading:!0}),t.page=1,t.pageSize=999999,r=Ze(t),e.next=8,U(r);case 8:0===(i=e.sent).status&&((o=i.data.V_BjInfo).forEach((function(e){e.Datetime1=Pe()(e.Datetime1).format("YYYYMMDD")})),console.dir(o),Ge(o,kt,a,"\u94a3\u91d1\u9700\u6c42\u5355"),n.setState({SpinTip:"Excel\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7b49\u5f85",ExcelLoading:!1}));case 10:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.handleTableChange();case 1:case"end":return e.stop()}}),e)})));var r=n.props.location,i=r.DIDS,c=r.LTOrders;return void 0===i||void 0===c?(i=I.a.get("DdOrder_BjInfo_DIDS"),c=I.a.get("DdOrder_BjInfo_LTOrders")):(I.a.set("DdOrder_BjInfo_DIDS",i),I.a.set("DdOrder_BjInfo_LTOrders",c)),n.state={DIDS:i,LTOrders:c,dataSource:[],loading:!0,SearchContation:{},current:1,dataTotal:0,ExcelLoading:!1,model:0,expandRowKeys:[],searchText:"",SpinTip:""},n}return Object(c.a)(a,[{key:"deepTree",value:function(e,t,a){if(!(t>=e.length)){var n,r,i=e[t],o=0,c={},s={},d=!1;if(a==={}){for(;o<this.Codes.length;o++){n=this.Codes[o],r=this.CodesName[o];var l={Code:i[n],Code2:o+1+"\u5c42\u7269\u6599\u7f16\u7801:"+i[n],Num:i["Num"+(o+1)],Name:i[r],Pline1:i.Pline1,children:[]};0===o?(a=l,c=l,this.Arr.push(c),this.expandRowKeys2.push(c.Code)):(c.children.push(l),c=l)}o=0,i=e[t+=1]}if(n=this.Codes[0],r=this.CodesName[0],i[n]!==a.Code)s={Code:i[n],Code2:"1\u5c42\u7269\u6599\u7f16\u7801:"+i[n],Num:i.Num1,Name:i[r],Pline1:i.Pline1,children:[]},this.Arr.push(s),this.expandRowKeys2.push(s.Code),d=!0;if(d){for(o=1;o<this.Codes.length;o++)if(n=this.Codes[o],r=this.CodesName[o],""!==i[n]){var u={Code:i[n],Code2:o+1+"\u5c42\u7269\u6599\u7f16\u7801:"+i[n],Num:i["Num"+(o+1)],Name:i[r],Pline1:i["Pline"+(o+1)],Pline2:i.Pline2,Pline3:i.Pline3,Pline4:i.Pline4,Pline5:i.Pline5,children:[]};s.children.push(u),this.expandRowKeys2.push(u.Code),s=u}}else for(o=1;o<this.Codes.length&&(n=this.Codes[o],r=this.CodesName[o],""!==i[n]);o++)if(d){if(""===i[n])break;var h={Code:i[n],Code2:o+1+"\u5c42\u7269\u6599\u7f16\u7801:"+i[n],Num:i["Num"+(o+1)],Name:i[r],Pline1:i["Pline"+(o+1)],children:[]};this.expandRowKeys2.push(h.Code),a.children.push(h),a=h}else{var p=a.children.find((function(e){return""!==e.Code&&i[n]===e.Code}));if(void 0===p){if(""===i[n])break;p={Code:i[n],Code2:o+1+"\u5c42\u7269\u6599\u7f16\u7801:"+i[n],Num:i["Num"+(o+1)],Name:i[r],Pline1:i["Pline"+(o+1)],children:[]},this.expandRowKeys2.push(p.Code),a.children.push(p),a=p,d=!0}else a=p}this.deepTree(e,t+1,this.Arr[this.Arr.length-1])}}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.loading,r=t.expandRowKeys,i=t.SearchContation,o=t.current,c=t.dataTotal,s=t.SpinTip,d=t.ExcelLoading,l=t.LTOrders;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{style:{margin:"10px",float:"left",width:"80%"},children:Object(ke.jsxs)(O.a,{layout:"inline",ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{children:Object(ke.jsxs)(st,{onClick:function(){return e.handleBack()},children:[Object(ke.jsx)(Ma.a,{}),"\u8fd4\u56de\u8c03\u5ea6\u5355"]})}),Object(ke.jsx)(O.a.Item,{label:"\u7cfb\u5217",name:"Series",style:{width:"160px"},children:Object(ke.jsx)(f.a,{placeholder:"\u9ed8\u8ba4\u6240\u6709\u7cfb\u5217"})}),Object(ke.jsx)(O.a.Item,{children:Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.handleTableChange({},{},{},1)},children:"\u67e5\u8be2"})}),Object(ke.jsxs)(O.a.Item,{children:[Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(1)},children:"\u67e5\u770b\u7b2c\u4e00\u5c42"}),"\u2002",Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(2)},children:"\u67e5\u770b\u7b2c\u4e8c\u5c42"}),"\u2002",Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(3)},children:"\u67e5\u770b\u7b2c\u4e09\u5c42"}),"\u2002",Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(4)},children:"\u67e5\u770b\u7b2c\u56db\u5c42"}),"\u2002",Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(5)},children:"\u67e5\u770b\u7b2c\u4e94\u5c42"}),"\u2002",Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(6)},children:"\u67e5\u770b\u7b2c\u516d\u5c42"})]})]})}),Object(ke.jsx)("div",{style:{float:"left",textAlign:"right",width:"16%"},children:Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ExcelOut()},children:"\u5bfc\u51faExcel"})}),Object(ke.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(ke.jsxs)("h2",{style:{float:"left"},children:["\u8c03\u5ea6\u5355:",l]}),""===i.FirstCode||void 0===i.FirstCode?"":Object(ke.jsxs)("h2",{style:{float:"left"},children:["\u7269\u6599\u7f16\u7801:",i.FirstCode,"\xa0"]}),""===i.FirstName||void 0===i.FirstName?"":Object(ke.jsxs)("h2",{style:{float:"left"},children:["\u7269\u6599\u540d\u79f0:",i.FirstName]}),""===i.Pline||void 0===i.Pline?"":Object(ke.jsxs)("h2",{style:{float:"left"},children:["\u72b6\u6001:",i.Pline]})]}),Object(ke.jsx)(pt.a,{dataSource:a,bordered:!0,rowKey:"Code",sticky:!0,scroll:{y:600},size:"small",columns:Ut(this),loading:n,indentSize:15,onRow:function(e){return{onMouseEnter:function(e){},onMouseLeave:function(e){}}},expandable:{expandedRowKeys:r,onExpand:function(t,a){e.OpenOrCloseSingle(a,t)}},pagination:{position:["bottomCenter"],pageSizeOptions:[10],current:o,total:c,showTotal:function(e,t){return"\u4e00\u5171 ".concat(e," \u6761\u6570\u636e")},pageSize:10,onChange:function(t,a){var n=(t-1)*a,r=t*a;if(0!==e.Arr.length){r>e.Arr.length&&(r=e.Arr.length);var i=e.Arr.slice(n,r-1);e.setState({dataSource:i,current:t})}}}}),Object(ke.jsx)(Na.a,{style:{position:"absolute",left:"48%",top:"47%"},tip:s,spinning:d})]})}}]),a}(l.Component)),$a=(a(445),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).formRef=u.a.createRef(),n.handleSearch=function(e,t,a){var r=n.state.SearchContation;t({closeDropdown:!1});var i={};void 0!==e[0]?(i[a]=e[0],n.handleTableChange({},i,{},0)):(r[a]="",n.handleTableChange({},{},{},0))},n.handleReset=function(e){e(),n.setState({searchText:""})},n.handleTableChange=Object(x.a)(b.a.mark((function e(){var t,a,r,i,o,c,s,d,l,u,h=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:{},a=h.length>1&&void 0!==h[1]?h[1]:{},h.length>2&&void 0!==h[2]?h[2]:{},h.length>3?h[3]:void 0,r=n.state.SearchContation,console.dir(a),void 0===t.current?(r.page=1,r.pageSize=100):(r.page=t.current,r.pageSize=t.pageSize),a!=={})for(i in a)r[i]=a[i];return void 0!==n.SearchSelect&&void 0!==n.SearchSelect.value&&(r.level=n.SearchSelect.value),void 0!==n.SearchSelect2&&void 0!==n.SearchSelect2.value&&(r.level2=n.SearchSelect2.value),o=n.formRef.current,""!==(c=o.getFieldsValue(!0)).Series&&void 0!==c.Series&&(r.model=1),r=Object(ct.a)(Object(ct.a)({},r),c),s=Ze(r),n.setState({loading:!0}),e.next=18,$(s);case 18:0===(d=e.sent).status&&(0===(l=d.data.V_BjInfo).length?n.setState({dataSource:[],current:1,dataTotal:0,loading:!1}):(l.forEach((function(e){e.FirstCode=e.FirstCode.replace(/\b(0+)/gi,""),e.SecondCode=e.SecondCode.replace(/\b(0+)/gi,""),e.ThirdCode=e.ThirdCode.replace(/\b(0+)/gi,""),e.FourthCode=e.FourthCode.replace(/\b(0+)/gi,""),e.FifthCode=e.FifthCode.replace(/\b(0+)/gi,"")})),n.Arr=[],n.expandRowKeys2=[],n.deepTree(l,0,{}),u=n.Arr.slice(0,9),n.setState({dataSource:u,current:1,dataTotal:n.Arr.length,loading:!1,expandRowKeys:n.expandRowKeys2,level:r.level,level2:r.level2,SearchContation:r})));case 20:case"end":return e.stop()}}),e)}))),n.Codes=["FirstCode","SecondCode","ThirdCode","FourthCode","FifthCode","SixthCode"],n.CodesName=["FirstName","SecondName","ThirdName","FourthName","FifthName","SixthName"],n.Arr=[],n.expandRowKeys2=[],n.OpenOrCloseSingle=function(e,t){var a=n.state.expandRowKeys;t?a.push(e.Code):a=a.filter((function(t){return t!==e.Code})),n.setState({expandRowKeys:a})},n.ExpandRow=function(e){for(var t=n.state.dataSource,a=[],r=0;r<e;r++){if(0===r&&(a=[]),1===r){var i=t.map((function(e){return e.Code}));a=[].concat(Object(Za.a)(a),Object(Za.a)(i))}2===r&&function(){var e=[];t.forEach((function(t){t.children.forEach((function(t){e.push(t.Code)}))})),a=[].concat(Object(Za.a)(a),e)}(),3===r&&function(){var e=[];t.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){return e.push(t.Code)}))}))})),a=[].concat(Object(Za.a)(a),e)}(),4===r&&function(){var e=[];t.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){return e.push(t.Code)}))}))}))})),a=[].concat(Object(Za.a)(a),e)}(),5===r&&function(){var e=[];t.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){return e.push(t.Code)}))}))}))}))})),a=[].concat(Object(Za.a)(a),e)}()}n.setState({expandRowKeys:a})},n.ExcelOut=Object(x.a)(b.a.mark((function e(){var t,a,r,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.SearchContation,a=[{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:20},{wch:45},{wch:10},{wch:10},{wch:10}],n.setState({SpinTip:"Excel\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7b49\u5f85",ExcelLoading:!0}),t.page=1,t.pageSize=999999,r=Ze(t),e.next=8,U(r);case 8:0===(i=e.sent).status&&((o=i.data.V_BjInfo).forEach((function(e){e.Datetime1=Pe()(e.Datetime1).format("YYYYMMDD")})),Ge(o,kt,a,"\u94a3\u91d1\u9700\u6c42\u5355"),n.setState({SpinTip:"Excel\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7b49\u5f85",ExcelLoading:!1}));case 10:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.handleTableChange();case 1:case"end":return e.stop()}}),e)}))),n.state={dataSource:[],loading:!0,SearchContation:{},current:1,dataTotal:0,ExcelLoading:!1,model:0,expandRowKeys:[],searchText:"",SpinTip:"",level:"",level2:""},n}return Object(c.a)(a,[{key:"deepTree",value:function(e,t,a){if(!(t>=e.length)){var n,r,i=e[t],o=0,c={},s={},d=!1;if(a==={}){for(;o<this.Codes.length;o++){n=this.Codes[o],r=this.CodesName[o];var l={Code:i[n],Code2:o+1+"\u5c42\u7269\u6599\u7f16\u7801:"+i[n],Num:i["Num"+(o+1)],Name:i[r],Pline1:i.Pline1,children:[]};0===o?(a=l,c=l,this.Arr.push(c),this.expandRowKeys2.push(c.Code)):(c.children.push(l),c=l)}o=0,i=e[t+=1]}if(n=this.Codes[0],r=this.CodesName[0],i[n]!==a.Code)s={Code:i[n],Code2:"1\u5c42\u7269\u6599\u7f16\u7801:"+i[n],Num:i.Num1,Name:i[r],Pline1:i.Pline1,children:[]},this.Arr.push(s),this.expandRowKeys2.push(s.Code),d=!0;if(d){for(o=1;o<this.Codes.length;o++)if(n=this.Codes[o],r=this.CodesName[o],""!==i[n]){var u={Code:i[n],Code2:o+1+"\u5c42\u7269\u6599\u7f16\u7801:"+i[n],Num:i["Num"+(o+1)],Name:i[r],Pline1:i["Pline"+(o+1)],Pline2:i.Pline2,Pline3:i.Pline3,Pline4:i.Pline4,Pline5:i.Pline5,children:[]};s.children.push(u),this.expandRowKeys2.push(u.Code),s=u}}else for(o=1;o<this.Codes.length&&(n=this.Codes[o],r=this.CodesName[o],""!==i[n]);o++)if(d){if(""===i[n])break;var h={Code:i[n],Code2:o+1+"\u5c42\u7269\u6599\u7f16\u7801:"+i[n],Num:i["Num"+(o+1)],Name:i[r],Pline1:i["Pline"+(o+1)],children:[]};this.expandRowKeys2.push(h.Code),a.children.push(h),a=h}else{var p=a.children.find((function(e){return""!==e.Code&&i[n]===e.Code}));if(void 0===p){if(""===i[n])break;p={Code:i[n],Code2:o+1+"\u5c42\u7269\u6599\u7f16\u7801:"+i[n],Num:i["Num"+(o+1)],Name:i[r],Pline1:i["Pline"+(o+1)],children:[]},this.expandRowKeys2.push(p.Code),a.children.push(p),a=p,d=!0}else a=p}this.deepTree(e,t+1,this.Arr[this.Arr.length-1])}}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.loading,r=t.expandRowKeys,i=t.SearchContation,o=t.current,c=t.dataTotal,s=t.SpinTip,d=t.ExcelLoading,l=t.level,u=t.level2;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{style:{margin:"10px",float:"left",width:"80%"},children:Object(ke.jsxs)(O.a,{layout:"inline",ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{label:"\u7cfb\u5217",name:"Series",style:{width:"160px"},children:Object(ke.jsx)(f.a,{placeholder:"\u9ed8\u8ba4\u6240\u6709\u7cfb\u5217"})}),Object(ke.jsx)(O.a.Item,{children:Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.handleTableChange({},{},{},1)},children:"\u67e5\u8be2"})}),Object(ke.jsxs)(O.a.Item,{children:[Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(1)},children:"\u67e5\u770b\u7b2c\u4e00\u5c42"}),"\u2002",Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(2)},children:"\u67e5\u770b\u7b2c\u4e8c\u5c42"}),"\u2002",Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(3)},children:"\u67e5\u770b\u7b2c\u4e09\u5c42"}),"\u2002",Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(4)},children:"\u67e5\u770b\u7b2c\u56db\u5c42"}),"\u2002",Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(5)},children:"\u67e5\u770b\u7b2c\u4e94\u5c42"}),"\u2002",Object(ke.jsx)(p.a,{onClick:function(){e.ExpandRow(6)},children:"\u67e5\u770b\u7b2c\u516d\u5c42"})]})]})}),Object(ke.jsx)("div",{style:{float:"left",textAlign:"right",width:"16%"},children:Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ExcelOut()},children:"\u5bfc\u51faExcel"})}),Object(ke.jsxs)("div",{style:{float:"left",width:"100%"},children:[""===i.FirstCode||void 0===i.FirstCode?"":Object(ke.jsxs)("h2",{style:{float:"left"},children:["\u7269\u6599\u7f16\u7801:",null===l||void 0===l?"1":l,"\u5c42,",i.FirstCode,"\xa0"]}),""===i.FirstName||void 0===i.FirstName?"":Object(ke.jsxs)("h2",{style:{float:"left"},children:["\u7269\u6599\u540d\u79f0:",null===u||void 0===u?"1":u,"\u5c42,",i.FirstName]})]}),Object(ke.jsx)(pt.a,{dataSource:a,bordered:!0,rowKey:"Code",sticky:!0,scroll:{y:600},size:"small",columns:Ut(this),loading:n,indentSize:15,onRow:function(e){return{onMouseEnter:function(e){},onMouseLeave:function(e){}}},expandable:{expandedRowKeys:r,onExpand:function(t,a){e.OpenOrCloseSingle(a,t)}},pagination:{position:["bottomCenter"],pageSizeOptions:[10],current:o,total:c,showTotal:function(e,t){return"\u4e00\u5171 ".concat(e," \u6761\u6570\u636e")},pageSize:10,onChange:function(t,a){var n=(t-1)*a,r=t*a;if(0!==e.Arr.length){r>e.Arr.length&&(r=e.Arr.length);var i=e.Arr.slice(n,r-1);e.setState({dataSource:i,current:t})}}}}),Object(ke.jsx)(Na.a,{style:{position:"absolute",left:"48%",top:"47%"},tip:s,spinning:d})]})}}]),a}(l.Component)),Xa=Ht.a.RangePicker,Qa=function(e,t){var a=e.Det;if(void 0===a||0===a.length)return"";var n=[],r=[],i=null,o=null;return a.forEach((function(e,t){var a=[],c=new Date(e.Datetime1),s=Pe()(c);if(s.add(1,"m"),0===n.length||!Pe()(s).isBetween(i,o)){var d={};i=Pe()(c).startOf("month"),o=Pe()(c).endOf("month");var l=Pe()(c).startOf("month");a.push({title:"\u65e5\u671f",dataIndex:"\u65e5\u671f"}),d[Pe()(i).format("YYYYMM")]=0,d.ID=Pe()(i).format("YYYYMM"),l.add(1,"s");for(var u=1;u<=31;u++){var h=u<10?"0"+u:""+u;a.push({title:h,dataIndex:h}),d[h]=0}d.dt=Pe()(s),d["\u65e5\u671f"]=Pe()(s).format("YYYYMM"),n.push(a),r.push(d)}n.forEach((function(t,a){var n=Pe()(r[a].dt).startOf("month"),i=Pe()(r[a].dt).endOf("month");Pe()(s).isBetween(n,i)&&(r[a][Pe()(s).format("DD")]+=1*e.Menge)}))})),Object(ke.jsx)(pt.a,{bordered:!0,size:"small",rowKey:"ID",columns:n[0],dataSource:r,pagination:!1})},en=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={dataSource:[],loading:!0,ExcelLoading:!1,model:0,expandRowKeys:[]},e.ModalExcelOut=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l,u,h,p,f,j,x,O,g,S,w,y,v,D,k,C,I,M,_;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.ExcelLoading,r=a.model,!n){t.next=4;break}return m.b.warn("\u6570\u636e\u6253\u5305\u4e2d\uff0c\u8bf7\u52ff\u91cd\u590d\u70b9\u51fb"),t.abrupt("return");case 4:return i=e.formRef.current,o=i.getFieldsValue(!0),c=[],o.page=1,o.pageSize=99999,s=Ze(o),e.setState({ExcelLoading:!0}),t.next=13,q(s);case 13:if(0!==(d=t.sent).status){t.next=50;break}l=d.jo_V_JjInfo.V_JjInfo,u=d.jo_V_JiInfoSum.V_JjInfo,h=Ft(r),p=0,f=0,e.setState({ExcelLoading:!1});case 21:if(!(p<u.length)){t.next=36;break}u[p].ID="ID"+p;case 23:if(!(f<l.length)){t.next=33;break}if(u[p].Matnr!==l[f].Matnr){t.next=29;break}j=new Date(l[f].Datetime1),void 0!==u[p][Pe()(j).format("YYYYMMDD")]?u[p][Pe()(j).format("YYYYMMDD")]+=1*l[f].Menge:u[p][Pe()(j).format("YYYYMMDD")]=1*l[f].Menge,t.next=30;break;case 29:return t.abrupt("break",33);case 30:f++,t.next=23;break;case 33:p++,t.next=21;break;case 36:for(x=[],O=0;O<u.length;O++){for(g={},S=0;S<h.length;S++)g[h[S].title]=u[O][h[S].dataIndex];for(w in u[O])isNaN(Number(w))||(g[w+" "]=u[O][w]);c.push(g)}for(y=0;y<x.length;y++)for(v=y;v<x.length;v++)x[y]>x[v]&&(D=x[y],x[y]=x[v],x[v]=D);for(k=Re.a.utils.book_new(),C={},I=0;I<h.length;I++)C[h[I].title]=u[0][h[I].dataIndex];for(M=0;M<x.length;M++)C[x[M]+" "]=c[0][x[M]+" "];c[0]=C,(_=Re.a.utils.json_to_sheet(c))["!cols"]=[{wch:15},{wch:30},{wch:10},{wch:10},{wch:10},{wch:10}],Re.a.utils.book_append_sheet(k,_,"Sheet1"),Re.a.writeFile(k,"\u673a\u52a0\u9700\u6c42\u5355 "+Pe()().format("YYYYMMDD")+".xlsx"),t.next=52;break;case 50:m.b.error("\u7f51\u7edc\u9519\u8bef"),e.setState({ExcelLoading:!1});case 52:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.SearchData()},e.SearchData=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formRef.current,void 0!==(n=a.getFieldsValue(!0)).model&&(r=n.model[0],delete n.model,n.model=r),i=Ze(n),e.setState({loading:!0}),t.next=7,q(i);case 7:if(0!==(o=t.sent).status){t.next=40;break}c=o.jo_V_JjInfo.V_JjInfo,s=o.jo_V_JiInfoSum.V_JjInfo,d=0,l=0;case 13:if(!(d<s.length)){t.next=37;break}s[d].ID="ID"+d;case 15:if(!(l<c.length)){t.next=34;break}if("1"!==n.model){t.next=25;break}if(s[d].Matnr!==c[l].Matnr||s[d].Series!==c[l].Series){t.next=22;break}void 0===s[d].Det&&(s[d].Det=[]),s[d].Det.push(c[l]),t.next=23;break;case 22:return t.abrupt("break",34);case 23:t.next=31;break;case 25:if(s[d].Matnr!==c[l].Matnr){t.next=30;break}void 0===s[d].Det&&(s[d].Det=[]),s[d].Det.push(c[l]),t.next=31;break;case 30:return t.abrupt("break",34);case 31:l++,t.next=15;break;case 34:d++,t.next=13;break;case 37:e.setState({loading:!1,dataSource:s,model:n.model}),t.next=42;break;case 40:e.setState({loading:!1}),m.b.error("\u7f51\u7edc\u9519\u8bef");case 42:case"end":return t.stop()}}),t)}))),e.OpenOrCloseAll=function(){var t=e.state,a=t.expandRowKeys,n=t.dataSource;if(a.length>0)e.setState({expandRowKeys:[]});else{for(var r=[],i=0;i<n.length;i++)r.push(n[i].ID);e.setState({expandRowKeys:r})}},e.OpenOrCloseSingle=function(t,a){var n=e.state.expandRowKeys;a?n.push(t.ID):n=n.filter((function(e){return e!==t.ID})),e.setState({expandRowKeys:n})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.dataSource,r=t.ExcelLoading,i=t.model,o=t.expandRowKeys;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{className:"toolArea",children:Object(ke.jsxs)(O.a,{layout:"inline",ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{name:"Datetime1",label:"\u65f6\u95f4",children:Object(ke.jsx)(Xa,{locale:Ea.a})}),Object(ke.jsx)(O.a.Item,{name:"Series",label:"\u7cfb\u5217",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Matnr",label:"\u7269\u6599\u7f16\u7801",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"Maktx",label:"\u7269\u6599\u63cf\u8ff0",children:Object(ke.jsx)(f.a,{})}),Object(ke.jsx)(O.a.Item,{name:"model",label:"\u533a\u5206\u7cfb\u5217",children:Object(ke.jsx)(bt.a.Group,{children:Object(ke.jsx)(bt.a,{value:"1"})})}),Object(ke.jsx)(O.a.Item,{children:Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.SearchData()},children:"\u67e5\u8be2"})})]})}),Object(ke.jsxs)("div",{children:[Object(ke.jsx)("div",{style:{width:"75%",float:"left"},children:Object(ke.jsx)("h1",{style:{fontSize:"20px",paddingLeft:"20px",lineHeight:"35px"},children:Object(ke.jsx)(p.a,{onClick:function(){return e.OpenOrCloseAll()},children:"\u5c55\u5f00/\u5173\u95ed\u6240\u6709\u884c"})})}),Object(ke.jsx)("div",{style:{width:"24%",float:"left",textAlign:"right"},children:Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcelOut()},children:"Excel\u5bfc\u51fa"})})]}),Object(ke.jsx)(pt.a,{dataSource:n,bordered:!0,rowKey:"ID",sticky:!0,size:"middle",columns:Ft(i),loading:a,pagination:!1,expandable:{expandRowByClick:!0,expandedRowRender:Qa,columnWidth:4,indentSize:0,expandedRowKeys:o,onExpand:function(t,a){e.OpenOrCloseSingle(a,t)}}}),Object(ke.jsx)(Na.a,{style:{position:"absolute",left:"48%",top:"47%"},tip:"\u6570\u636e\u6253\u5305Excel...",spinning:r})]})}}]),a}(l.Component),tn=(a(446),Ht.a.RangePicker),an=function(e,t){var a=e.Det;if(void 0===a||0===a.length)return"";var n=[],r=[],i=null,o=null;return a.forEach((function(e,t){var a=[],c=new Date(e.Datetime1),s=Pe()(c);if(s.add(1,"m"),0===n.length||!Pe()(s).isBetween(i,o)){var d={};i=Pe()(c).startOf("month"),o=Pe()(c).endOf("month");var l=Pe()(c).startOf("month");a.push({title:"\u65e5\u671f",dataIndex:"\u65e5\u671f"}),d[Pe()(i).format("YYYYMM")]=0,d.ID=Pe()(i).format("YYYYMM"),l.add(1,"s");for(var u=1;u<=31;u++){var h=u<10?"0"+u:""+u;a.push({title:h,dataIndex:h}),d[h]=0}d.dt=Pe()(s),d["\u65e5\u671f"]=Pe()(s).format("YYYYMM"),n.push(a),r.push(d)}n.forEach((function(t,a){var n=Pe()(r[a].dt).startOf("month"),i=Pe()(r[a].dt).endOf("month");Pe()(s).isBetween(n,i)&&(r[a][Pe()(s).format("DD")]+=1*e.Menge)}))})),Object(ke.jsx)(pt.a,{bordered:!0,size:"small",rowKey:"ID",columns:n[0],dataSource:r,pagination:!1})},nn=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={dataSource:[],ViewMode:"V_CgInfo",loading:!0,Btn_CgBaseload:!1,SearchContation:{},current:1,dataTotal:0,ExcelLoading:!1,SpinTip:"",model:0,expandRowKeys:[]},e.TablerepetClassName=function(e,t){return!0===e.repeat?"Tablerepet":""},e.ModalExcelOut=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l,u,h,p,f,j,x,O,g,S,w,y,v,D,k,C,I,M,_,T,E,R;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.ExcelLoading,r=a.model,i=a.ViewMode,!n){t.next=4;break}return m.b.warn("\u6570\u636e\u6253\u5305\u4e2d\uff0c\u8bf7\u52ff\u91cd\u590d\u70b9\u51fb"),t.abrupt("return");case 4:return o=e.formRef.current,c=o.getFieldsValue(!0),s=[],c.page=1,c.pageSize=99999,void 0!==c.model&&void 0!==c.model.length&&(c.model=c.model[0]),c.ViewMode=i,console.dir(c),d=Ze(c),e.setState({ExcelLoading:!0,SpinTip:"Excel\u6570\u636e\u6253\u5305\u4e2d"}),t.next=16,Z(d);case 16:if(0!==(l=t.sent).status){t.next=43;break}if(u=l.jo_V_CgInfo.V_CgInfo,h=l.jo_V_CgInfoSum.V_CgInfo,0!==l.jo_V_CgInfo.V_CgInfo_Count){t.next=25;break}return m.b.warn("\u65e0\u6570\u636e\u53ef\u5bfc\u51fa"),e.setState({ExcelLoading:!1}),t.abrupt("return");case 25:for(p=Nt(c.model),e.setState({ExcelLoading:!1}),f=0;f<h.length;f++)for(h[f].ID="ID"+f,j=0;j<u.length;j++)"1"===r?h[f].Matnr===u[j].Matnr&&h[f].Series===u[j].Series&&(x=new Date(u[j].Datetime1),void 0!==h[f][Pe()(x).format("YYYYMMDD")]?h[f][Pe()(x).format("YYYYMMDD")]+=1*u[j].Menge:h[f][Pe()(x).format("YYYYMMDD")]=1*u[j].Menge):h[f].Matnr===u[j].Matnr&&h[f].Lifnr===u[j].Lifnr&&(O=new Date(u[j].Datetime1),void 0!==h[f][Pe()(O).format("YYYYMMDD")]?h[f][Pe()(O).format("YYYYMMDD")]+=1*u[j].Menge:h[f][Pe()(O).format("YYYYMMDD")]=1*u[j].Menge);for(g=[],S=0;S<h.length;S++){for(w={},y=0;y<p.length;y++)w[p[y].title]=h[S][p[y].dataIndex];for(D in v=function(e){isNaN(Number(e))||(w[e+" "]=h[S][e],void 0===g.find((function(t){return t===Number(e)}))&&g.push(Number(e)))},h[S])v(D);s.push(w)}for(k=0;k<g.length;k++)for(C=k;C<g.length;C++)g[k]>g[C]&&(I=g[k],g[k]=g[C],g[C]=I);for(M=Re.a.utils.book_new(),_={},T=0;T<p.length;T++)_[p[T].title]=h[0][p[T].dataIndex];for(E=0;E<g.length;E++)_[g[E]+" "]=s[0][g[E]+" "];s[0]=_,(R=Re.a.utils.json_to_sheet(s))["!cols"]=[{wch:15},{wch:20},{wch:10},{wch:8},{wch:12},{wch:30},{wch:12},{wch:12},{wch:15},{wch:15}],Re.a.utils.book_append_sheet(M,R,"Sheet1"),Re.a.writeFile(M,"\u91c7\u8d2d\u9700\u6c42\u5355"+Pe()().format("YYYYMMDD")+".xlsx"),t.next=45;break;case 43:e.setState({ExcelLoading:!1}),m.b.error("\u7f51\u7edc\u9519\u8bef");case 45:case"end":return t.stop()}}),t)}))),e.demantCgBaseTime=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,n=a.CgBaseTime,r=a.dataSource,console.dir(n),""!==n){t.next=5;break}return m.b.warn("\u8bf7\u9009\u62e9\u91c7\u8d2d\u5e93\u5b58\u57fa\u51c6\u65e5\u671f"),t.abrupt("return");case 5:if(0!==r.length){t.next=8;break}return m.b.warn("\u6ca1\u6709\u91c7\u8d2d\u6570\u636e,\u65e0\u6cd5\u66f4\u65b0\u5e93\u5b58"),t.abrupt("return");case 8:return i=n.format("YYYYMMDD"),n.format("YYYY/MM/DD"),(o=new FormData).append("strKcDate",i),e.setState({Btn_CgBaseload:!0}),t.next=15,le(o);case 15:"200"===t.sent.code?(e.setState({Btn_CgBaseload:!1,ViewMode:"V_CgInfo_kc"},(function(){e.SearchData()})),m.b.success("\u5e93\u5b58\u66f4\u65b0\u6210\u529f,\u7b49\u5f85\u67e5\u8be2\u6570\u636e...")):(e.setState({Btn_CgBaseload:!1}),m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94"));case 17:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.SearchData()},e.SearchData=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l,u,h,p,f,j,x=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=x.length>0&&void 0!==x[0]?x[0]:{},n=e.state,r=n.SearchContation,i=n.ViewMode,o=e.formRef.current,void 0===a.page?(r.page=1,r.pageSize=100):(r.page=a.page,r.pageSize=a.pageSize),void 0!==(c=o.getFieldsValue(!0)).model&&(s=c.model[0],delete c.model,c.model=s),c.page=r.page,c.pageSize=r.pageSize,c.ViewMode=i,d=Ze(c),e.setState({loading:!0}),t.next=13,Z(d);case 13:if(0===(l=t.sent).status){for(u=l.jo_V_CgInfo.V_CgInfo,h=l.jo_V_CgInfoSum.V_CgInfo,p=0,f={};p<h.length;p++){for(0===p&&(f=Object(ct.a)({},h[0])),h[p].ID="D"+p,j=0;j<u.length;j++)"1"===c.model?h[p].Matnr===u[j].Matnr&&h[p].Series===u[j].Series&&(void 0===h[p].Det&&(h[p].Det=[]),h[p].Det.push(u[j])):h[p].Matnr===u[j].Matnr&&h[p].Lifnr===u[j].Lifnr&&(void 0===h[p].Det&&(h[p].Det=[]),h[p].Det.push(u[j]));0!==p&&f.Matnr===h[p].Matnr&&"1"!==c.model||0!==p&&f.Matnr===h[p].Matnr&&0!==p&&f.Series===h[p].Series&&"1"===c.model?(h[p].Det=[],h[p].repeat=!0):f=h[p]}e.setState({loading:!1,dataSource:h,current:c.page,dataTotal:l.jo_V_CgInfoSum.V_CgInfo_Count,model:c.model,Btn_CgBaseload:!1})}else e.setState({loading:!1}),m.b.error("\u7f51\u7edc\u9519\u8bef");case 15:case"end":return t.stop()}}),t)}))),e.OpenOrCloseAll=function(){var t=e.state,a=t.expandRowKeys,n=t.dataSource;if(a.length>0)e.setState({expandRowKeys:[]});else{for(var r=[],i=0;i<n.length;i++)r.push(n[i].ID);e.setState({expandRowKeys:r})}},e.OpenOrCloseSingle=function(t,a){var n=e.state.expandRowKeys;a?n.push(t.ID):n=n.filter((function(e){return e!==t.ID})),e.setState({expandRowKeys:n})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.Btn_CgBaseload,r=t.dataSource,i=t.current,o=t.dataTotal,c=t.ExcelLoading,s=t.model,d=t.expandRowKeys,l=t.SpinTip;return Object(ke.jsxs)("div",{className:"main",children:[Object(ke.jsx)("div",{className:"toolArea",children:Object(ke.jsxs)(O.a,{layout:"inline",ref:this.formRef,children:[Object(ke.jsx)(O.a.Item,{name:"Datetime1",label:"\u65f6\u95f4",children:Object(ke.jsx)(tn,{locale:Ea.a,style:{width:"220px"}})}),Object(ke.jsx)(O.a.Item,{name:"Series",label:"\u7cfb\u5217",children:Object(ke.jsx)(f.a,{style:{width:"50px"}})}),Object(ke.jsx)(O.a.Item,{name:"Matnr",label:"\u7269\u6599\u7f16\u7801",children:Object(ke.jsx)(f.a,{style:{width:"130px"}})}),Object(ke.jsx)(O.a.Item,{name:"Maktx",label:"\u7269\u6599\u63cf\u8ff0",children:Object(ke.jsx)(f.a,{style:{width:"100px"}})}),Object(ke.jsx)(O.a.Item,{name:"MRP",label:"MRP\u63a7\u5236\u8005",children:Object(ke.jsx)(f.a,{style:{width:"50px"}})}),Object(ke.jsx)(O.a.Item,{name:"Lifnr",label:"\u4f9b\u5e94\u5546\u4ee3\u7801",children:Object(ke.jsx)(f.a,{style:{width:"60px"}})}),Object(ke.jsx)(O.a.Item,{name:"Name1",label:"\u4f9b\u5e94\u5546\u540d\u79f0",children:Object(ke.jsx)(f.a,{style:{width:"100px"}})}),Object(ke.jsx)(O.a.Item,{name:"model",label:"\u533a\u5206\u7cfb\u5217",children:Object(ke.jsx)(bt.a.Group,{children:Object(ke.jsx)(bt.a,{value:"1"})})}),Object(ke.jsxs)(O.a.Item,{children:[Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.SearchData()},children:"\u67e5\u8be2"}),"\xa0\xa0"]})]})}),Object(ke.jsxs)("div",{children:[Object(ke.jsx)("div",{style:{width:"59%",float:"left"},children:Object(ke.jsx)("h1",{style:{fontSize:"20px",paddingLeft:"20px",lineHeight:"35px"},children:Object(ke.jsx)(p.a,{onClick:function(){return e.OpenOrCloseAll()},children:"\u5c55\u5f00/\u5173\u95ed\u6240\u6709\u884c"})})}),Object(ke.jsxs)("div",{style:{width:"40%",float:"left",textAlign:"right"},children:[Object(ke.jsx)(p.a,{type:"primary",loading:n,onClick:function(){return e.demantCgBaseTime()},children:"\u66f4\u65b0\u5e93\u5b58\u57fa\u51c6\u65e5\u671f"}),"\u2003",Object(ke.jsx)(Ht.a,{locale:Ea.a,format:"YYYYMMDD",onChange:function(t){return e.setState({CgBaseTime:t})}}),"\u2003",Object(ke.jsx)(p.a,{type:"primary",onClick:function(){return e.ModalExcelOut()},children:"Excel\u5bfc\u51fa"})]})]}),Object(ke.jsx)(pt.a,{dataSource:r,bordered:!0,rowKey:"ID",sticky:!0,scroll:{y:560},size:"middle",columns:Nt(s),loading:a,rowClassName:this.TablerepetClassName,pagination:{position:["bottomCenter"],pageSizeOptions:[20],current:i,total:o,showTotal:function(e,t){return"\u4e00\u5171 ".concat(e," \u6761\u6570\u636e")},pageSize:100,onChange:function(t,a){e.SearchData({page:t,pageSize:a})}},expandable:{expandRowByClick:!0,expandedRowRender:an,columnWidth:8,indentSize:0,expandedRowKeys:d,onExpand:function(t,a){e.OpenOrCloseSingle(a,t)}}}),Object(ke.jsx)(Na.a,{style:{position:"absolute",left:"48%",top:"47%"},tip:l,spinning:c})]})}}]),a}(l.Component),rn=_e.a.Sider,on=_e.a.Content,cn=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={menuList:[]},e.componentDidMount=function(){var t=De.user;t&&t.ID||(t=_.getUser()),t&&t.ID&&e.getAuth()},e.getAuth=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.history,n=De.user,(r=new FormData).append("AuthConfig",n.Roles),t.next=6,R(r);case 6:0===(i=t.sent).status?(o=i.data.Site_Roles,c=Ke(o,0),c=(c=Je(c)).filter((function(e){return!e.isMobile})),e.setState({menuList:c})):(a.push({pathname:"/Login",redict:!0}),m.b.error("\u8d26\u53f7\u8fd8\u6ca1\u6709\u8bbe\u7f6e\u6743\u9650"));case 8:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(a,[{key:"render",value:function(){var e=De.user,t=this.state.menuList;return e&&e.ID||(e=_.getUser()),e&&e.ID?Object(ke.jsxs)(_e.a,{style:{height:"936px"},children:[Object(ke.jsx)(rn,{children:Object(ke.jsx)(ot,{menuList:t})}),Object(ke.jsxs)(_e.a,{style:{height:"936px"},children:[Object(ke.jsx)(ut,{UserName:e.UserName}),Object(ke.jsx)(on,{style:{margin:"20px",backgroundColor:"#fff",overflow:"auto"},children:Object(ke.jsxs)(h.d,{children:[Object(ke.jsx)(h.a,{from:"/Admin",exact:!0,to:"/Admin/Deskop"}),Object(ke.jsx)(h.b,{path:"/Admin/Deskop",component:Fa}),Object(ke.jsx)(h.b,{path:"/Admin/ReportSearch/Report1",component:pa}),Object(ke.jsx)(h.b,{path:"/Admin/ReportSearch/Report2",component:fa}),Object(ke.jsx)(h.b,{path:"/Admin/ReportSearch/Report3",component:ja}),Object(ke.jsx)(h.b,{path:"/Admin/ReportSearch/Report4",component:ba}),Object(ke.jsx)(h.b,{path:"/Admin/ReportSearch/Report2_1",component:$a}),Object(ke.jsx)(h.b,{path:"/Admin/ReportSearch/Report3_1",component:en}),Object(ke.jsx)(h.b,{path:"/Admin/ReportSearch/Report4_1",component:nn}),Object(ke.jsx)(h.b,{path:"/Admin/Service/Service1",component:Sa}),Object(ke.jsx)(h.b,{path:"/Admin/Service/Service2",component:ya}),Object(ke.jsx)(h.b,{path:"/Admin/Service/Service3",component:Da}),Object(ke.jsx)(h.b,{path:"/Admin/Service/Service4",component:Ca}),Object(ke.jsx)(h.b,{path:"/Admin/Admin/MRP",component:da}),Object(ke.jsx)(h.b,{path:"/Admin/Admin/Matrial",component:oa}),Object(ke.jsx)(h.b,{path:"/Admin/Admin/AdminUserConfig",component:zt}),Object(ke.jsx)(h.b,{path:"/Admin/Admin/AdminOptLog",component:ht}),Object(ke.jsx)(h.b,{path:"/Admin/Upload/ExcelUp",component:Ta}),Object(ke.jsx)(h.b,{path:"/Admin/Admin/OptRecord",component:ua}),Object(ke.jsx)(h.b,{path:"/Admin/DdOrder/DdOrder",component:Fa}),Object(ke.jsx)(h.b,{path:"/Admin/DdOrder/DdOrderExcel",component:Ya}),Object(ke.jsx)(h.b,{path:"/Admin/DdOrder/DdOrderDet",component:Ua}),Object(ke.jsx)(h.b,{path:"/Admin/DdOrder/DdOrder_JjInfo",component:La}),Object(ke.jsx)(h.b,{path:"/Admin/DdOrder/DdOrder_CgInfo",component:Ka}),Object(ke.jsx)(h.b,{path:"/Admin/DdOrder/DdOrder_BjInfo",component:qa}),Object(ke.jsx)(h.b,{path:"/Admin/DdOrder/DdOrder_BjInfo2",component:Ga})]})})]})]}):Object(ke.jsx)(h.a,{to:"/Login"})}}]),a}(l.Component),sn=Object(h.g)(cn),dn=(a(447),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).formRef=u.a.createRef(),e.state={},e.handleSubmit=function(){var t=Object(x.a)(b.a.mark((function t(a){var n,r,i,o,c,s,d,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.formRef.current,r=n.getFieldsValue(!0),i=r.username,o=r.password,(c=new FormData).append("username",i),c.append("password",o),!n.getFieldsError().find((function(e){return e.errors.length>0}))){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,E(c);case 11:if(0!==(s=t.sent).status){t.next=34;break}if(null!=s.data&&0!==s.data.UserInfo.length){t.next=16;break}return m.b.warn("\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef"),t.abrupt("return");case 16:if("NULL"!==s.data.UserInfo[0].Roles&&void 0!==s.data.UserInfo[0].Roles&&""!==s.data.UserInfo[0].Roles){t.next=19;break}return m.b.warn("\u8d26\u53f7\u8fd8\u6ca1\u6709\u8bbe\u7f6e\u6743\u9650"),t.abrupt("return");case 19:m.b.success("\u767b\u5f55\u6210\u529f"),t.t0=b.a.keys(s.data);case 21:if((t.t1=t.t0()).done){t.next=29;break}if(l=t.t1.value,"object"!==typeof s.data[l][0]){t.next=27;break}return d=s.data[l][0],t.abrupt("break",29);case 27:t.next=21;break;case 29:De.user=d,_.saveUser(d),e.props.history.replace("/Mobile_Admin"),t.next=35;break;case 34:1===s.status?m.b.warn("\u8d26\u53f7\u5bc6\u7801\u9519\u8bef"):m.b.error("\u670d\u52a1\u5668\u65e0\u54cd\u5e94");case 35:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(a,[{key:"render",value:function(){var e=_.getUser(),t=this.props.location.redict;return e&&e.ID&&!0!==t?(De.user=e,Object(ke.jsx)(h.a,{to:"/Mobile_Admin"})):Object(ke.jsx)("div",{className:"container",children:Object(ke.jsxs)("div",{className:"wrapper",children:[Object(ke.jsx)("div",{className:"left-top-sign",children:"\u5e38\u53d1\u519c\u88c5"}),Object(ke.jsx)("div",{className:"welcome",children:"\u8f6e\u62d6\u6392\u4ea7\u7cfb\u7edf"}),Object(ke.jsx)("div",{className:"InputArea",children:Object(ke.jsxs)(O.a,{ref:this.formRef,layout:"vertical",onSubmitCapture:this.handleSubmit,children:[Object(ke.jsx)(O.a.Item,{label:"\u8d26\u53f7",name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u3001"},{whitespace:!0,message:"\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a\u683c"}],children:Object(ke.jsx)(f.a,{placeholder:"\u8d26\u53f7"})}),Object(ke.jsx)(O.a.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{pattern:/^[a-zA-Z0-9_@]+$/,message:"\u5bc6\u7801\u540d\u5fc5\u987b\u662f\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u4e0b\u5212\u7ebf\u3001@\u7b26\u53f7"},{whitespace:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a\u683c"}],children:Object(ke.jsx)(f.a,{type:"password",placeholder:"\u5bc6\u7801"})}),Object(ke.jsx)(p.a,{type:"primary",shape:"round",className:"loginBtn",htmlType:"submit",children:"\u767b\u5f55"})]})})]})})}}]),a}(l.Component)),ln=Object(h.g)(dn),un=a(50),hn=(a(514),un.g.Item),pn=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={dataSource:[],Count:0,btmHidden:!0,Faline:[],PlantDt:"",FalineList:[],BtmToolsShow:!0,loading:!1},e.showActionSheet=function(){e.setState({BtmToolsShow:!e.state.BtmToolsShow})},e.SearchData=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s,d,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.Faline,r=a.PlantDt,void 0===n.length||0===n.length?"":n[0],i=""===r?"":Pe()(r).format("YYYYMM"),(o=new FormData).append("PlantDt",i),o.append("Faline",n),e.setState({loading:!0}),t.next=9,L(o);case 9:0===(c=t.sent).status?(s=c.data,d=s.V_DdOrder,s.V_DdOrder_Count,d=d.filter((function(e){return"\u662f"===e.status})),l=void 0===d.length?0:d.length,e.setState({loading:!1,dataSource:d,Count:l})):e.setState({loading:!1});case 11:case"end":return t.stop()}}),t)}))),e.RedirectToDet=function(t,a,n,r){e.props.history.push({pathname:"/Mobile_Admin/Menu1/Mobile_DdOrderDet",ID:t,LTOrder:a,TbCount:n,Faline:r})},e.componentDidMount=function(){e.SearchData()},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=(t.btmHidden,t.BtmToolsShow),n=t.PlantDt,r=t.Faline,i=t.loading,o=t.Count,c=t.dataSource,s=[{label:"\u5357\u7ebf",value:"\u5357\u7ebf"},{label:"\u5317\u7ebf",value:"\u5317\u7ebf"}],d=Object(ke.jsx)("div",{style:{borderTop:"2px solid #ddd",position:"fixed",bottom:"0px",backgroundColor:"#fff",height:"13rem",paddingTop:"0.5rem",width:"100%"},children:Object(ke.jsxs)(un.g,{renderHeader:"\u5171\u627e\u5230".concat(o,"\u6761\u6570\u636e"),children:[Object(ke.jsx)(un.c,{mode:"month",format:"YYYY-MM-DD",onChange:function(t){return e.setState({PlantDt:t})},value:n,children:Object(ke.jsx)(hn,{arrow:"horizontal",children:"\u8ba1\u5212\u6708\u4efd"})}),Object(ke.jsx)(un.i,{data:s,title:"\u4ea7\u7ebf",value:r,onChange:function(t){return e.setState({Faline:t})},onOk:function(t){return e.setState({Faline:t})},children:Object(ke.jsx)(hn,{arrow:"horizontal",children:"\u4ea7\u7ebf"})}),Object(ke.jsx)(hn,{children:Object(ke.jsx)(un.b,{type:"primary",onClick:function(){return e.SearchData()},children:"\u67e5\u8be2"})})]})});return Object(ke.jsxs)("div",{children:[Object(ke.jsx)("div",{children:c.map((function(t){return Object(ke.jsxs)(hn,{className:"data-item",onClick:function(){e.RedirectToDet(t.ID,t.LTOrder,t.TbCount,t.Faline)},arrow:"horizontal",children:[Object(ke.jsxs)("h3",{children:["\u8c03\u5ea6\u5355:",t.LTOrder]}),Object(ke.jsxs)("p",{children:["\u7248\u672c\u53f7:",1===t.TbCount.length?"0"+t.TbCount:t.TbCount,",\u4ea7\u7ebf:",t.Faline]})]},t.ID)}))}),a?Object(ke.jsx)("div",{style:{height:"14rem"}}):"",a?d:"",Object(ke.jsx)(un.e,{type:a?"down":"up",size:"lg",color:"#fff",onClick:this.showActionSheet,style:{position:"fixed",right:"1.5rem",padding:"0rem",bottom:a?"12.9rem":"0.2rem",backgroundColor:"#108ee9",borderRadius:"0rem"},children:"\u6d4b\u8bd5"}),Object(ke.jsx)(un.a,{toast:!0,text:"\u6570\u636e\u52a0\u8f7d\u4e2d",animating:i})]})}}]),a}(l.Component),fn=(a(515),un.g.Item),jn=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={dataSource:[],FilterData:[],Count:0,BtmToolsShow:!0,ID:0,LTOrder:"",TbCount:"",Faline:"",Datetime1:"",Series:"",loading:!1,Det_Show:!1,Det_Index:0,Det_ZjNo:"",Det_Matnr:"",Det_Series:"",Det_Box:"",Det_Num:"",Det_Datetime1:"",Det_Datetime2:"",Det_Config:""},e.showActionSheet=function(){var t=e.state.BtmToolsShow;e.setState({BtmToolsShow:!t})},e.Back=function(){e.props.history.replace("/Mobile_Admin/Menu1/Mobile_DdOrder")},e.SearchData=Object(x.a)(b.a.mark((function t(){var a,n,r,i,o,c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.ID,a.LTOrder,a.TbCount,a.Faline,(r=new FormData).append("IDS",n),e.setState({loading:!0}),t.next=6,W(r);case 6:0===(i=t.sent).status?(o=i.data,c=o.V_DdOrder_Det,s=o.V_DdOrder_Det_Count,e.setState({loading:!1,dataSource:c,FilterData:c,Count:s})):e.setState({loading:!1});case 8:case"end":return t.stop()}}),t)}))),e.filterData=function(){var t=e.state,a=t.dataSource,n=t.Series,r=t.Datetime1,i="",o="";""!==r&&(i=Pe()(r).format("YYYYMMDD")),""!==n&&(o=n.toUpperCase());var c=a.filter((function(e){return!(""!==o&&e.Series!==o||""!==i&&i!==e.Datetime1)}));e.setState({FilterData:c})},e.resetSearch=function(){var t=e.state.dataSource;console.dir(t),e.setState({FilterData:t,Datetime1:"",Series:""})},e.showDets=function(t,a){e.setState({Det_Show:!0,Det_Index:a,Det_ZjNo:t.ZjNo,Det_Matnr:t.Matnr,Det_Series:t.Series,Det_Box:t.Box,Det_Num:t.Num,Det_Datetime1:t.Datetime1,Det_Datetime2:t.Datetime2,Det_Config:t.Config})},e.backToList=function(){e.setState({Det_Show:!1})},e.componentDidMount=function(){var t=e.props.location,a=t.ID,n=t.LTOrder,r=t.TbCount,i=t.Faline;void 0===a||""===a||0===a?(a=I.a.get("Mobile_DdOrderDet_ID"),n=I.a.get("Mobile_DdOrderDet_LTOrder"),r=I.a.get("Mobile_DdOrderDet_TbCount"),i=I.a.get("Mobile_DdOrderDet_Faline")):(I.a.set("Mobile_DdOrderDet_ID",a),I.a.set("Mobile_DdOrderDet_LTOrder",n),I.a.set("Mobile_DdOrderDet_TbCount",r),I.a.set("Mobile_DdOrderDet_Faline",i)),e.setState({ID:a,LTOrder:n,TbCount:r,Faline:i},(function(){e.SearchData()}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.BtmToolsShow,n=t.Datetime1,r=t.LTOrder,i=t.Faline,o=t.TbCount,c=t.Series,s=t.FilterData,d=t.Count,l=t.loading,u=t.Det_Show,h=t.Det_Index,p=t.Det_ZjNo,f=t.Det_Matnr,j=t.Det_Series,b=t.Det_Box,m=t.Det_Num,x=t.Det_Config,O=Object(ke.jsx)("div",{style:{position:"fixed",borderBottom:"2px solid #ddd",backgroundColor:"#fff",height:"14rem",paddingTop:"0.5rem",width:"100%",zIndex:9},children:Object(ke.jsxs)(un.g,{renderHeader:"\u5171\u627e\u5230".concat(d,"\u6761\u6570\u636e"),children:[Object(ke.jsx)("h2",{style:{position:"fixed",top:"4.2rem",left:"2rem",color:"#1DA57A"},onClick:this.Back,children:"\u8fd4\u56de"}),Object(ke.jsx)(fn,{children:Object(ke.jsxs)("span",{style:{fontWeight:600},children:["\u8c03\u5ea6\u5355:",r,",\u4ea7\u7ebf:",i,",\u7248\u672c:",o]})}),Object(ke.jsx)(un.c,{mode:"date",format:"YYYY-MM-DD",value:n,onChange:function(t){return e.setState({Datetime1:t})},children:Object(ke.jsx)(fn,{arrow:"horizontal",children:"\u6295\u4ea7\u65e5\u671f"})}),Object(ke.jsx)(un.f,{value:c,arrow:"horizontal",onChange:function(t){return e.setState({Series:t})},placeholder:"\u8bf7\u8f93\u5165\u7cfb\u5217",children:"\u7cfb\u5217"}),Object(ke.jsxs)(fn,{children:[Object(ke.jsx)(un.b,{type:"primary",size:"small",onClick:function(){return e.filterData()},children:"\u67e5\u8be2"}),Object(ke.jsx)("p",{}),Object(ke.jsx)(un.b,{type:"ghost",size:"small",onClick:function(){return e.resetSearch()},children:"\u91cd\u7f6e"}),Object(ke.jsx)("p",{})]})]})}),g=Object(ke.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(ke.jsxs)("h2",{children:["\u660e\u7ec6\xa0",h]}),Object(ke.jsxs)(un.g,{className:"my-list",children:[Object(ke.jsxs)(fn,{children:["\u8c03\u5ea6\u5355\u53f7:",r]}),Object(ke.jsxs)(fn,{children:["\u6574\u673a\u7f16\u7801:",p]}),Object(ke.jsxs)(fn,{children:["\u7269\u6599\u7f16\u7801:",f]}),Object(ke.jsxs)(fn,{children:["\u7cfb\u5217:",j,"\u2003\u5206\u52a8\u7bb1:",b,"\u2003\u6570\u91cf:",m]}),Object(ke.jsxs)(fn,{arrow:"horizontal",wrap:!0,children:["\u914d\u7f6e:",x]})]}),Object(ke.jsx)(un.b,{type:"primary",style:{marginTop:"1rem"},onClick:function(){return e.backToList()},children:"\u8fd4\u56de\u5217\u8868"})]});return Object(ke.jsx)("div",{children:u?g:Object(ke.jsxs)("div",{children:[a?O:"",a?Object(ke.jsx)("div",{style:{height:"19rem"}}):"",Object(ke.jsx)("div",{style:{zIndex:1},children:s.length>0?s.map((function(t,a){return Object(ke.jsxs)(fn,{style:{margin:"10px"},arrow:"horizontal",onClick:function(){return e.showDets(t,a+1)},children:[Object(ke.jsxs)("p",{children:[a+1,".\u6295\u4ea7\u65e5\u671f:",t.Datetime1,",\u7cfb\u5217:",t.Series]}),Object(ke.jsxs)("p",{children:["\u7269\u6599\u53f7:",t.Matnr,",\u6570\u91cf:",t.Num]})]},t.ID)})):Object(ke.jsx)("h2",{children:"\u6ca1\u6709\u67e5\u5230\u6570\u636e"})}),Object(ke.jsx)(un.e,{type:a?"down":"up",size:"lg",color:"#fff",onClick:this.showActionSheet,style:{position:"fixed",right:"1.5rem",padding:"0rem",top:"23rem",backgroundColor:"#108ee9",borderRadius:"0rem"}}),Object(ke.jsx)(un.a,{toast:!0,text:"\u6570\u636e\u52a0\u8f7d\u4e2d",animating:l})]})})}}]),a}(l.Component),bn=(a(516),a(517),un.g.Item),mn=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={HeadTitle:"",DrawerOpen:!1,DrawerListEle:"",PopoverVisianle:!1},e.onOpenChange=function(){var t=e.state.DrawerOpen;e.setState({DrawerOpen:!t})},e.handleVisibleChange=function(t){e.setState({PopoverVisianle:t})},e.onSelect=function(t){switch(t.props.value){case"exit":De.user={},_.removeUser(),e.props.history.replace("/Mobile_Login")}},e.getSideBar=Object(x.a)(b.a.mark((function t(){var a,n,r,o,c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=De.user,(n=new FormData).append("AuthConfig",a.Roles),t.next=5,R(n);case 5:0===(r=t.sent).status&&(o=r.data.Site_Roles,c=Ke(o,0),c=(c=Je(c)).filter((function(e){return e.isMobile})),console.dir(c),s=Object(ke.jsx)("div",{children:c.map((function(t){return Object(ke.jsx)(un.g,{renderHeader:t.title,children:void 0===t.children?"":t.children.map((function(a){return Object(ke.jsx)(bn,{onClick:function(){return e.setState({HeadTitle:a.title})},children:Object(ke.jsx)(i.c,{to:t.key,style:{color:"black"},children:a.title})},a.key)}))},t.key)}))}),e.setState({DrawerListEle:s,HeadTitle:c[0].children[0].title}));case 7:case"end":return t.stop()}}),t)}))),e.componentDidMount=function(){e.getSideBar()},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.HeadTitle,n=t.DrawerOpen,r=t.DrawerListEle,i=t.PopoverVisianle;return Object(ke.jsxs)("div",{children:[Object(ke.jsx)(un.h,{icon:Object(ke.jsx)(un.e,{type:"ellipsis"}),onLeftClick:function(){return e.onOpenChange()},rightContent:Object(ke.jsx)(un.j,{mask:!0,overlayStyle:{color:"currentColor"},visible:i,overlay:[Object(ke.jsx)(un.j.Item,{value:"exit",icon:Object(ke.jsx)(un.e,{type:"cross"}),"data-seed":"logId",children:"\u9000\u51fa\u767b\u5f55"},"4")],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect,children:Object(ke.jsx)("div",{style:{height:"100%",padding:"0 10px",marginRight:"-10px",display:"flex",alignItems:"center"},children:Object(ke.jsx)(un.e,{type:"down"})})}),children:a}),Object(ke.jsx)(un.d,{className:"my-drawer",style:{minHeight:document.documentElement.clientHeight},enableDragHandle:!0,contentStyle:{color:"",textAlign:"center",paddingTop:"3rem"},sidebar:r,open:n,onOpenChange:this.onOpenChange,children:Object(ke.jsxs)(h.d,{children:[Object(ke.jsx)(h.a,{from:"/Mobile_Admin",exact:!0,to:"/Mobile_Admin/Menu1/Mobile_DdOrder"}),Object(ke.jsx)(h.b,{path:"/Mobile_Admin/Menu1/Mobile_DdOrder",component:pn}),Object(ke.jsx)(h.b,{path:"/Mobile_Admin/Menu1/Mobile_DdOrderDet",component:jn})]})})]})}}]),a}(l.Component),xn=Object(h.g)(mn),On=(a(518),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e,t=navigator.userAgent;return"PC"===((e=t).match(/AppleWebKit.*Mobile.*/)||e.indexOf("Android")>-1||e.indexOf("Linux")>-1?"Mobile":"PC")?Object(ke.jsx)(i.b,{children:Object(ke.jsxs)(h.d,{children:[Object(ke.jsx)(h.b,{path:"/Admin",component:sn}),Object(ke.jsx)(h.b,{path:"/Login",component:Me}),Object(ke.jsx)(h.a,{to:"/Login"})]})}):Object(ke.jsx)(i.b,{children:Object(ke.jsxs)(h.d,{children:[Object(ke.jsx)(h.b,{path:"/Mobile_Login",component:ln}),Object(ke.jsx)(h.b,{path:"/Mobile_Admin",component:xn}),Object(ke.jsx)(h.a,{to:"/Mobile_Login"})]})})}}]),a}(l.Component)),gn=_.getUser();De.user=gn,r.a.render(Object(ke.jsx)(i.a,{children:Object(ke.jsx)(On,{})}),document.getElementById("root"))}},[[519,1,2]]]);
//# sourceMappingURL=main.f5097759.chunk.js.map