{"version":3,"sources":["assets/images/999.png","pages/Login/images/联图二维码.png","api/ajax.js","utils/storageUtils.js","api/index.js","utils/memoryUtils.js","pages/Login/index.jsx","utils/StaticSet.js","utils/index.js","components/left-nav/index.jsx","components/link-button/index.jsx","config/left-menu-list.js","components/header/index.jsx","pages/AdminOptLog/index.jsx","config/table-columns.js","pages/AdminUserConfig/index.jsx","components/AdvancedSearchForm/index.jsx","config/form-Fields.js","pages/Matrial/index.jsx","pages/MRP/index.jsx","pages/OptRecord/index.jsx","pages/Report1/index.jsx","pages/Report2/index.jsx","pages/Report3/index.jsx","pages/Report4/index.jsx","pages/Service1/index.jsx","pages/Service2/index.jsx","pages/Service3/index.jsx","pages/Service4/index.jsx","pages/ExcelUp/index.jsx","pages/DdOrder/index.jsx","pages/DdOrderExcel/index.jsx","pages/DdOrderDet/index.jsx","pages/DdOrder_JjInfo/index.jsx","pages/DdOrder_CgInfo/index.jsx","pages/DdOrder_BjInfo/index.jsx","pages/DdOrder_BjInfo2/index.jsx","pages/Report2_1/index.jsx","pages/Report3_1/index.jsx","pages/Report4_1/index.jsx","pages/Admin/index.jsx","pages/Mobile_Login/index.jsx","pages/Mobile_DdOrder/index.jsx","pages/Mobile_DdOrderDet/index.jsx","pages/Mobile_Admin/index.jsx","App.js","index.js"],"names":["ajax","url","data","type","Promise","resolve","reject","axios","get","params","post","headers","then","response","catch","error","message","USER_KEY","localStore","saveUser","user","store","set","getUser","removeUser","remove","BASE","window","location","origin","reqLogin","formData","getSite_Roles","formdata","getUserList","getWBInfo","getV_MRPInfo","getTypeInfo","getV_BjInfo","append","UserCode","getV_JjInfo","getV_CgInfo","getDdOrder","getUploadInfo","getLogInfo","getBjImp","getJjImp","getCgImp","getV_DdOrder_Det","getV_Sum_Num_JiInfo","getV_Sum_Num_CgInfo","getV_Sum_Num_BjInfo","getV_Sum_Num_BjInfo2","addUser","addBjInfo","addWBInfo","addMRPInfo","DdOrder_DetExt","editUser","editBjInfo","editWBInfo","editMRPInfo","editDdOrder","editDdOrder_status","editDdOrderDet","updateCgBaseBum","delUser","delBjInfo","delWBInfo","delMRPInfo","delUploadInfo","delMRPInfos","delWBInfos","delDdOrder","submitBjImp","submitCgImp","submitJjImp","submitWBInfo","submitDdOrder","demantExe","Memory","Item","Login","formRef","React","createRef","handleSubmit","event","a","preventDefault","form","current","getFieldsValue","username","password","FormData","getFieldsError","find","item","errors","length","result","status","UserInfo","warn","Roles","undefined","success","key","memoryUtils","storageUtils","props","history","replace","redict","this","ID","to","className","src","logo","alt","style","width","float","textAlign","QrCode","height","margin","ref","onSubmitCapture","name","rules","required","pattern","whitespace","placeholder","prefix","UserOutlined","color","Password","autoComplete","LockOutlined","htmlType","Component","withRouter","SERVER_ADDRESS_FILEPATH","SERVER_ADDRESS_DEMOPATH","depTree","parentId","items","flg","i","UrlKey","push","createMenuObj","children","id","OrderTree","j","cOrder","temp","obj","rtObj","title","isOpt","isMenu","isAuth","isSubMenu","isMobile","getPageRoles","mapKey","Site_Roles","Arr","ConvertFomrData","jsons","formData1","Object","keys","forEach","format","downloadExcel","json","Header","ColumsWch","fileName","datas","Colums","ExcelDatas","ExcelData","Colum","JsonTOexcelData","workbook","XLSX","utils","book_new","ws","json_to_sheet","book_append_sheet","wbout","write","bookType","bookSST","FileSaver","saveAs","Blob","moment","downloadUpFile","open","downloadDemoFile","getColumnSearchProps","dataIndex","_this","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","padding","node","searchInput","value","onChange","e","target","onPressEnter","handleSearch","marginBottom","display","onClick","icon","SearchOutlined","size","handleReset","filterIcon","filtered","onFilterDropdownVisibleChange","visible","setTimeout","select","render","text","state","searchedColumn","highlightStyle","backgroundColor","searchWords","searchText","autoEscape","textToHighlight","toString","getColumnSearchPropsSelect","YYYYMMDD_To_Datetime","Str","SubMenu","LeftNav","isModalEditShow","PawEdit","setState","setFieldsValue","PWD","PWDAGAIN","ModalPwdEditOk","validateFields","values","console","log","ModalPwdEditCancel","getSideMenu_Map","menuList","pathname","reduce","pre","cItem","indexOf","openKey","callback","cfmPwd","getFieldValue","Error","loginpass","MenuList","mode","theme","defaultOpenKeys","onOk","onCancel","label","validator","_","LinkButton","isPublic","cTime","UserName","componentDidMount","handleExit","okText","cancelText","TopTitle","fontSize","AdminOptLog","UserConfig_columns","ellipsis","V_MRPInfo_columns","val","toUpperCase","WBInfo_columns","BjImp_columns","NewVal","JiImp_columns","CgImp_columns","V_BjInfo_columns","V_JjInfo_columns","V_CgInfo_columns","dt","Date","UploadInfo_columns","V_LogInfo_columns","GetDdOrder_Det_Status","Fuc_Bj","Fuc_Jj","Fuc_Cg","column","record","filter","DdOrder_Sum_columns","filters","DdOrder_Det_Sum_columns","editable","DdOrder_JjInfo_columns","model","DdOrder_CgInfo_columns","DdOrder_CgInfo_Det_columns","Dets","columns","Dt","DdOrder_BjInfo_columns","DdOrder_BjInfo_First","Search","TabPane","AdminUserConfig","load_Add","dataSource","dataTotal","selectedRowKeys","CopyRowKeys","myTabs","loading","checkList","ModalTitle","load_Edit","RefFormData","SearchData","NewData","slice","onSelectChange","onRow","split","onSearch","list","CheckOnchange","oldCheckList","valueProp","checked","dir","submitChange","List","join","substr","ModalEdit","stopPropagation","ModalAdd","resetFields","ModalDel","ExclamationCircleOutlined","okType","ModalEditOk","ModalEditCancel","getTabs","defaultActiveKey","map","tab","item2","checked1","it","fontWeight","item3","checked2","pageMode","ModalCopy","ModalPaste","componentWillUnmount","pop","rowSelection","columnWidth","checkStrictly","fixed","danger","span","enterButton","bordered","rowKey","sticky","scroll","y","pagination","Option","RangePicker","AdvancedSearchForm","Fielsds","useState","expand","setExpand","useForm","getInput","defaultValue","getOpts","Options","showSearch","optionFilterProp","opt","gutter","count","t","getFields","UpOutlined","DownOutlined","TypeList","TypeInfo","Name","MRPFielsds","WBInfoFielsds","V_JjInfoFielsds","V_CgInfoFielsds","V_LogInfoFielsds","Matrial","isModalDelShow","Fuc_Exel","Fuc_Add","Fuc_Edit","Fuc_Del","WBInfo","layout","labelCol","wrapperCol","app","destroyAll","ModalDels","IDS","ModalExcel","submitUrl","subTitle","getOptions","options","DownLoadDemo","MRP","result2","V_MRPInfo","OptRecord","SearchDataTemp","isModalShow","ModalData","page","pageSize","placement","ModalOpen","V_LogInfo","V_LogInfo_Count","ModalOK","ModalCancel","position","pageSizeOptions","total","showTotal","range","TypeName","DateTime1","Contents","Report1","dataSourceAll","FolderOpenOutlined","UploadInfo","SearchDataForm","FileName","Budat","isBefore","formItemLayout","marginLeft","Report2","Fuc_ExelOut","V_BjInfo","V_BjInfo_Count","ModalExcelOut","wch","Datetime1","x","Report3","V_JjInfo","V_JjInfo_Count","Report4","V_CgInfo","V_CgInfo_Count","Service1","uploadSer","showUploadList","action","authorization","time","getTime","beforeUpload","file","fileList","DeleteOutlined","Path","today","Year","getFullYear","Month","getMonth","Day","getDate","Hour","getHours","Minu","getMinutes","Second","getSeconds","num","UploadOutlined","Service2","Fuc_Submit","BjImp","ModalSubmit","Service3","JjImp","Service4","CgImp","ExcelUp","dateFormat","uploadState","isBaseDate","loadExcelUp1","loadExcelUp2","loadExcelUp3","attes","lastIndexOf","fileReader","FileReader","onload","read","cellDates","sheet","Sheets","hasOwnProperty","concat","sheet_to_json","index","single","index2","dts","YYYYMMDD","Matnr","Menge","new_Data","readAsBinaryString","SubmitData","JSON","stringify","BaseDate","CheckCircleTwoTone","twoToneColor","handleSubmit1","handleSubmit2","handleBack","goBack","DtChange","date","dateString","ArrowLeftOutlined","showToday","disabled","DdOrder","formRef2","Modal_DID","statusDt","SearchContation","isModalExeShow","isModalDetStatusShow","isModalMsgShow","DataSource_DetStatus","isDetTools","selectedRowKeys2","Order","SorterContation","Fuc_Exe","CgBaseTime","Btn_CgBaseload","handleTableChange","changeStatus","OrderDet","sorter","Sorts","order","V_DdOrder","V_DdOrder_Count","SearchDet","DID","V_DdOrder_Det","newData","ExcelIn","PlanDt","substring","startOf","demantExe_Det","ModalExeOk","newdt","msg","ModalExeCancel","ModalDetStatusCancel","onSelectChange2","onSelectDet_Error","newSelects","demantBj","LTOrders","newRecord","BjStatus","LTOrder","DIDS","demantJj","JjStatus","demantCg","BaseTime","demantCgBaseTime","strKcDate","CgStatus","ModalMsgHide","Fuc_BjExe","Fuc_JiExe","Fuc_CgExe","DdOrder_columns","multiple","defaultSortOrder","GetDdOrder_columns","rowSelection2","selections","onSelect","changableRowKeys","newSels","Faline","readOnly","locale","maxHeight","overflowY","marginTop","DdOrderExcel","uploading","loadExcelUp","newKey","replaceAll","newVal","DdExcelUp","HeadData","fomrData","TbIndex","initialValues","picker","left","top","tip","spinning","DdOrderDet","DdOrderObj","NO","TbCount","DetCount","Det","ZjNo","Series","Model","Box","Num","Config","Datetime2","Bz","keys1","keys2","sheetArray","HeadTitle","SubHeadTitle","unshift","singleArray","subsingleArray","singleArray2","book","aoa_to_sheet","writeFile","ModalEditShow","expandedRowRender","App","expandable","TextArea","newColums","dt1","dt2","singleColums","dt3","add","isBetween","singleArr","endOf","dt4","dt5","dt6","DdOrder_JjInfo","ExcelLoading","expandRowKeys","tempFormData","ExcelJson","jo_V_JjInfo","jo_V_JiInfoSum","colums","timeCol","k","l","key2","isNaN","Number","newRow","tepModel","OpenOrCloseAll","newArr","OpenOrCloseSingle","Group","paddingLeft","lineHeight","expandRowByClick","indentSize","expandedRowKeys","onExpand","expanded","DdOrder_CgInfo","ViewMode","SpinTip","TablerepetClassName","repeat","jo_V_CgInfo","jo_V_CgInfoSum","Lifnr","code","preSum","rowClassName","DetVal","Num1","DdOrder_BjInfo","V_BjInfo_Sum","V_BjInfo_Det","FirstCode","SecondCode","ThirdCode","FourthCode","FifthCode","level","五层编码","五层名称","四层编码","四层名称","三层编码","三层名称","二层编码","二层名称","initialValue","DdOrder_BjInfo2","closeDropdown","formReftemp","expandRowKeys2","deepTree","tempSource","Codes","CodesName","Code","ExpandRow","tempKeys","item4","item5","ExcelOut","NameKey","Current","keyIndex","nowNode","CurrentNode","tempNode","Code2","Pline1","Pline2","Pline3","Pline4","Pline5","FirstName","Pline","onMouseEnter","onMouseLeave","start","end","tempArr","Report2_1","SearchSelect","SearchSelect2","level2","Report3_1","Report4_1","Sider","Content","Admin","getAuth","overflow","from","exact","path","component","Mobile_Login","shape","Mobile_DdOrder","Count","btmHidden","PlantDt","FalineList","BtmToolsShow","showActionSheet","new_PlantDt","RedirectToDet","OrderId","btnToolsEle","borderTop","bottom","paddingTop","renderHeader","v","arrow","right","borderRadius","toast","animating","Mobile_DdOrderDet","FilterData","Det_Show","Det_Index","Det_ZjNo","Det_Matnr","Det_Series","Det_Box","Det_Num","Det_Datetime1","Det_Datetime2","Det_Config","Back","V_DdOrder_Det_Count","filterData","new_Datetime1","new_Series","resetSearch","showDets","backToList","borderBottom","zIndex","DetEle","wrap","Mobile_Admin","DrawerOpen","DrawerListEle","PopoverVisianle","onOpenChange","handleVisibleChange","getSideBar","onLeftClick","rightContent","mask","overlayStyle","overlay","data-seed","align","adjustY","adjustX","offset","onVisibleChange","marginRight","alignItems","minHeight","document","documentElement","clientHeight","enableDragHandle","contentStyle","sidebar","agentStr","u","navigator","userAgent","match","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.aba729ef.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/999.b9883ce8.png\";","export default __webpack_public_path__ + \"static/media/联图二维码.b5c57ece.png\";","import axios from 'axios'\r\nimport { message } from 'antd'\r\nexport default function ajax(url, data = {}, type = 'GET') {\r\n    return new Promise((resolve, reject) => {\r\n        let promise;\r\n        if (type === 'GET') {//get请求\r\n            promise = axios.get(url, {//参数\r\n                params: data\r\n            })\r\n        } else if(type === 'POST'){//post请求\r\n            promise = axios.post(url, data)\r\n        }else{//form\r\n            promise = axios.post(url, data,{  \r\n                headers: { 'content-type': 'multipart/form-data'}\r\n            }\r\n                )\r\n        }\r\n        promise.then(response => {\r\n            resolve(response.data)\r\n        }).catch(error => {\r\n            message.error('网络请求出错' + error.message)\r\n        })\r\n    })\r\n}","//import { getSuggestedQuery } from \"@testing-library/react\";\r\nimport store from 'store'\r\n/*\r\n    将数据存在本地\r\n*/\r\nconst USER_KEY = 'user_key_luntuo'\r\nconst localStore = {\r\n    //1.保存数据\r\n    saveUser (user){\r\n        //localStorage.setItem(USER_KEY,JSON.stringify(user));\r\n        store.set(USER_KEY,user);\r\n    },\r\n    //2.读取数据\r\n    getUser(){\r\n        //return JSON.parse(localStorage.getItem(USER_KEY)||'{}');\r\n        return store.get(USER_KEY)||{}\r\n    },\r\n    //3.删除数据\r\n    removeUser(){\r\n        store.remove(USER_KEY);\r\n    }\r\n}\r\nexport default localStore;","//import jsonp from 'jsonp'\r\n//import {message} from 'antd'\r\nimport ajax from './ajax'\r\nimport localStore from '../utils/storageUtils'\r\n//import Base from 'antd/lib/typography/Base'\r\nconst BASE = window.location.origin+\"/\";\r\n/* 获取数据 */ \r\n//登录\r\n\r\nexport const reqLogin = (formData)=>ajax(BASE+'Home/Login',formData,'POST')\r\n//获得采购订单\r\nexport const getG_Polist = (formdata) =>ajax(BASE+'Home/getG_Polist',formdata)\r\n//根据用户权限 获取改用户拥有的权限字符串 suchas:{AuthConfig:'1,2,3,4'}\r\nexport const getSite_Roles = (formdata) =>ajax(BASE+'Home/getSite_Roles',formdata,'POST')\r\n//获取用户数据 \r\nexport const getUserList = (formdata) =>ajax(BASE+'Home/getUserList',formdata)\r\n//获取用户对单个页面的权限\r\nexport const getSite_Roles_Opt = (formdata) =>ajax(BASE+'Home/getSite_Roles_Opt',formdata,'POST');\r\n//获得钣金需求分解数据\r\nexport const getBjInfo =  (formdata) =>ajax(BASE+'Home/getBjInfo',formdata,'POST');\r\n//\r\nexport const getJjInfo =  (formdata) =>ajax(BASE+'Home/getJjInfo',formdata,'POST');\r\n//\r\nexport const getCgInfo =  (formdata) =>ajax(BASE+'Home/getCgInfo',formdata,'POST');\r\n//\r\nexport const getWBInfo =  (formdata) =>ajax(BASE+'Home/getWBInfo',formdata,'POST');\r\n//\r\nexport const getV_MRPInfo = (formdata) =>ajax(BASE+'Home/getV_MRPInfo',formdata,'POST');\r\n//\r\nexport const getTypeInfo = (formdata) =>ajax(BASE+'Home/getTypeInfo',formdata,'POST');\r\n//\r\nexport const getV_BjInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getV_BjInfo',formdata,'POST')\r\n}\r\n//\r\nexport const getV_JjInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getV_JjInfo',formdata,'POST')\r\n}\r\n//\r\nexport const getV_CgInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getV_CgInfo',formdata,'POST')\r\n}\r\nexport const getDdOrder = (formdata)=>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getDdOrder',formdata,'POST')\r\n}\r\n//getUploadInfo\r\nexport const getUploadInfo = (formdata) =>ajax(BASE+'Home/getUploadInfo',formdata,'POST');\r\n\r\nexport const getLogInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getLogInfo',formdata,'POST')\r\n}\r\nexport const getBjImp = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getBjImp',formdata,'POST')\r\n}\r\n//\r\nexport const getJjImp = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getJjImp',formdata,'POST')\r\n}\r\n//\r\nexport const getCgImp = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getCgImp',formdata,'POST')\r\n}\r\n\r\nexport const getV_DdOrder_Det = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getV_DdOrder_Det',formdata,'POST')\r\n}\r\n\r\nexport const getV_Sum_Num_JiInfo = (formdata)=>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getV_Sum_Num_JiInfo',formdata,'POST')\r\n}\r\nexport const getV_Sum_Num_CgInfo = (formdata)=>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getV_Sum_Num_CgInfo',formdata,'POST')\r\n}\r\nexport const getV_Sum_Num_BjInfo = (formdata)=>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getV_Sum_Num_BjInfo',formdata,'POST')\r\n}\r\nexport const getV_Sum_Num_BjInfo2 = (formdata)=>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/getV_Sum_Num_BjInfo2',formdata,'POST')\r\n}\r\n\r\n/* 获取数据End */\r\n\r\n/* 添加数据 */\r\n//添加用户\r\nexport const addUser = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/addUser',formdata,'POST')\r\n}\r\n//添加钣金需求分解\r\nexport const addBjInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/addBjInfo',formdata,'POST')\r\n}\r\n//添加物料数据\r\nexport const addWBInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/addWBInfo',formdata,'POST')\r\n}\r\n//\r\nexport const addMRPInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/addMRPInfo',formdata,'POST')\r\n}\r\nexport const DdOrder_DetExt = (formdata)=>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/DdOrder_DetExt',formdata,'POST')\r\n}\r\n/* 添加数据End */\r\n/* 修改 */\r\n//修改用户\r\nexport const editUser = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/editUser',formdata,'POST')\r\n}\r\n//修改钣金需求分解\r\nexport const editBjInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/editBjInfo',formdata,'POST')\r\n}\r\n//修改物料数据\r\nexport const editWBInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/editWBInfo',formdata,'POST')\r\n}\r\n//\r\nexport const editMRPInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/editMRPInfo',formdata,'POST')\r\n}\r\n//修改调度单 editDdOrder\r\nexport const editDdOrder = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/editDdOrder',formdata,'POST')\r\n}\r\nexport const editDdOrder_status = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/editDdOrder_status',formdata,'POST')\r\n}\r\nexport const editDdOrderDet = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/editDdOrderDet',formdata,'POST')\r\n}\r\n/**\r\n * 更新采购基准库存\r\n * @param {*} formdata \r\n */\r\nexport const updateCgBaseBum = (formdata)=>{ \r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/updateCgBaseBum',formdata,'POST')\r\n}\r\n/* 修改End */\r\n/* 删除 */\r\n//删除用户\r\nexport const delUser = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/delUser',formdata,'POST')\r\n}\r\n//删除钣金需求分解\r\nexport const delBjInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/delBjInfo',formdata,'POST')\r\n}\r\n//删除物料\r\nexport const delWBInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/delWBInfo',formdata,'POST')\r\n}\r\n//\r\nexport const delMRPInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/delMRPInfo',formdata,'POST')\r\n}\r\n//\r\nexport const delUploadInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/delUploadInfo',formdata,'POST')\r\n}\r\n//\r\nexport const delMRPInfos = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/delMRPInfos',formdata,'POST')\r\n}\r\n//\r\nexport const delWBInfos = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/delWBInfos',formdata,'POST')\r\n}\r\n//删除调度单版本2\r\nexport const delDdOrder = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/delDdOrder',formdata,'POST')\r\n}\r\n/* 提交更新请求  */\r\n//提交钣金需求分解更新\r\nexport const submitBjImp = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/submitBjImp',formdata,'POST')\r\n}\r\n//采购\r\nexport const submitCgImp = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/submitCgImp',formdata,'POST')\r\n}\r\n//机加\r\nexport const submitJjImp = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/submitJjImp',formdata,'POST')\r\n}\r\n//物料班组\r\nexport const submitWBInfo = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/submitWBInfo',formdata,'POST')\r\n}\r\n//提交调度单\r\nexport const submitDdOrder = (formdata)=>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/submitDdOrder',formdata,'POST')\r\n}\r\n//调度单需求计划执行\r\nexport const demantExe = (formdata) =>{\r\n    const user = localStore.getUser();\r\n    formdata.append(\"OptUserCode\",user.UserCode);\r\n    return ajax(BASE+'Home/demantExe',formdata,'POST')\r\n}","/*\r\n在内存中保存数据的工具模块\r\n*/\r\nconst Memory = {\r\n    user:{}\r\n}\r\nexport default Memory;","import React, { Component } from \"react\";\r\nimport { Form, Input, Button, message } from \"antd\";\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\n\r\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\r\nimport \"./login.less\";\r\nimport logo from \"../../assets/images/999.png\";\r\nimport QrCode from \"./images/联图二维码.png\";\r\nimport { reqLogin } from \"../../api\";\r\n\r\nimport memoryUtils from \"../../utils/memoryUtils\";\r\nimport storageUtils from \"../../utils/storageUtils\";\r\nconst Item = Form.Item;\r\nclass Login extends Component {\r\n  formRef = React.createRef();\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const form = this.formRef.current;\r\n    const { username, password } = form.getFieldsValue(true);\r\n    //redict\r\n    var formData = new FormData();\r\n    formData.append(\"username\", username);\r\n    formData.append(\"password\", password);\r\n    const error = form.getFieldsError();\r\n    if (error.find((item) => item.errors.length > 0)) {\r\n      return;\r\n    }\r\n    //{status:0,data:user}\r\n    const result = await reqLogin(formData);\r\n    if (result.status === 0) {\r\n      //登录成功\r\n      if (result.data == null || result.data.UserInfo.length === 0) {\r\n        message.warn(\"账号或密码错误\");\r\n        return;\r\n      }\r\n      if (\r\n        result.data.UserInfo[0].Roles === \"NULL\" ||\r\n        result.data.UserInfo[0].Roles === undefined ||\r\n        result.data.UserInfo[0].Roles === \"\"\r\n      ) {\r\n        message.warn(\"账号还没有设置权限\");\r\n        return;\r\n      }\r\n      message.success(\"登录成功\");\r\n      //保存user\r\n      var user;\r\n      for (var key in result.data) {\r\n        var temp = result.data[key][0];\r\n        if (typeof temp === \"object\") {\r\n          user = result.data[key][0];\r\n          break;\r\n        }\r\n      }\r\n      //const user = result.data.G_UserM[0];\r\n      //user.Roles = user.Roles.replaceAll('#','');\r\n      memoryUtils.user = user; //将当前登录用户保存到内存中\r\n      //保存到本地\r\n      storageUtils.saveUser(user);\r\n\r\n      this.props.history.replace(\"/Admin\");\r\n    } else if (result.status === 1) {\r\n      //没有找到账号密码\r\n      message.warn(\"账号密码错误\");\r\n    } else {\r\n      message.error(\"服务器无响应\");\r\n    }\r\n  };\r\n  render() {\r\n    //#1DA57A\r\n    const user = storageUtils.getUser();\r\n    //storageUtils.removeUser();\r\n    //console.log(user.ID);\r\n    var { redict } = this.props.location;\r\n    if (user && user.ID) {\r\n      if (redict !== true) {\r\n        memoryUtils.user = user; //将当前登录用户保存到内存中\r\n        return <Redirect to=\"/Admin\" />;\r\n      }\r\n    }\r\n    return (\r\n      <div className=\"login\">\r\n        <div className=\"login-header\">\r\n          <img src={logo} alt=\"logo\" className=\"Loginlogo\"></img>\r\n          <h1>常发轮拖排产系统</h1> \r\n        </div>\r\n        <section className=\"login-content\">\r\n          <div style={{width:\"200px\",float:\"left\",textAlign:'center'}}>\r\n              <h2>手机版二维码</h2>\r\n              <img src={QrCode} style={{width:'150px',height:'150px',margin:\"auto\"}} ></img>\r\n          </div>\r\n          <div style={{ width: \"250px\", float: \"left\" }}>\r\n            <h2>用户登录</h2>\r\n            <Form ref={this.formRef} onSubmitCapture={this.handleSubmit}>\r\n              <Item\r\n                name=\"username\"\r\n                rules={[\r\n                  { required: true, message: \"请输入用户名\" },\r\n                  {\r\n                    pattern: /^[a-zA-Z0-9_]+$/,\r\n                    message: \"用户名必须是数字、字母、下划线、\",\r\n                  },\r\n                  { whitespace: true, message: \"账号不能为空格\" },\r\n                ]}\r\n              >\r\n                <Input\r\n                  placeholder=\"账号\"\r\n                  prefix={\r\n                    <UserOutlined\r\n                      style={{ color: \"rgba(0,0,0,0.25)\" }}\r\n                    ></UserOutlined>\r\n                  }\r\n                />\r\n              </Item>\r\n              <Item\r\n                name=\"password\"\r\n                rules={[\r\n                  { required: true, message: \"请输入密码\" },\r\n                  {\r\n                    pattern: /^[a-zA-Z0-9_@]+$/,\r\n                    message: \"密码名必须是数字、字母、下划线、@符号\",\r\n                  },\r\n                  { whitespace: true, message: \"密码不能为空格\" },\r\n                ]}\r\n              >\r\n                <Input.Password\r\n                  placeholder=\"密码\"\r\n                  autoComplete=\"off\"\r\n                  prefix={\r\n                    <LockOutlined style={{ color: \"rgba(0,0,0,0.25)\" }} />\r\n                  }\r\n                />\r\n              </Item>\r\n              <Item>\r\n                <Button\r\n                  className=\"login-button\"\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                >\r\n                  登录\r\n                </Button>\r\n              </Item>\r\n            </Form>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Login);\r\n","const BASE = window.location.origin+\"/\";\r\nexport const PAGE_SIZE = 20;\r\nexport const SERVER_ADDRESS= BASE;\r\nexport const SERVER_ADDRESS_FILEPATH = BASE+\"uploadFile/\";\r\nexport const SERVER_ADDRESS_DEMOPATH = BASE+\"ExcelDemo/\";\r\n","import XLSX from 'xlsx';\r\nimport {Button,Space,Input} from 'antd'\r\nimport FileSaver from \"file-saver\";\r\n\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport Highlighter from 'react-highlight-words';\r\n\r\nimport moment from \"moment\"\r\nimport { getSite_Roles_Opt } from \"../api\"\r\nimport localStore from \"./storageUtils\"\r\nimport {SERVER_ADDRESS_FILEPATH,SERVER_ADDRESS_DEMOPATH} from './StaticSet'\r\n/*\r\n    常用的方法集合\r\n*/\r\n//遍历侧边栏树\r\nexport const depTree = (Roles, parentId) => {\r\n    const items = [];\r\n    let flg = true;//是否结束递归\r\n    for (let i = 0; i < Roles.length; i++) {\r\n        if (Roles[i].parentId * 1 === parentId) {\r\n            if (Roles[i].UrlKey !== undefined) {\r\n                items.push(createMenuObj(Roles[i]));\r\n            } else {\r\n                items.push(Roles[i]);\r\n            }\r\n            flg = false;\r\n        }\r\n    }\r\n    if (flg) {\r\n        return [];\r\n    } else {\r\n        for (let i = 0; i < items.length; i++) {\r\n            items[i].children = depTree(Roles, items[i].id);\r\n        }\r\n        return items;\r\n    }\r\n}\r\n//排序侧边栏树\r\nexport const OrderTree = (items) => {\r\n    for (let i = 0; i < items.length; i++) {\r\n        for (let j = 0; j < items.length; j++) {\r\n            if (items[i].cOrder < items[j].cOrder) {\r\n                let temp = items[i];\r\n                items[i] = items[j];\r\n                items[j] = temp;\r\n            }\r\n        }\r\n    }\r\n    for (let i = 0; i < items.length; i++) {\r\n        if (items[i].children.length !== 0) {\r\n            items[i].children = OrderTree(items[i].children);\r\n        }\r\n    }\r\n    return items;\r\n}\r\nexport const createMenuObj = (obj) => {\r\n    let rtObj = {};\r\n    rtObj.id = obj.ID * 1;\r\n    rtObj.title = obj.title;\r\n    rtObj.key = obj.UrlKey;\r\n    rtObj.isOpt = obj.isOpt === \"True\";\r\n    rtObj.cOrder = obj.cOrder * 1;\r\n    rtObj.isMenu = obj.isMenu === \"True\"\r\n    rtObj.parentId = obj.parentId * 1;\r\n    rtObj.children = [];\r\n    rtObj.isAuth = obj.isAuth === \"True\";\r\n    rtObj.isSubMenu = obj.isSubMenu === \"True\";\r\n    rtObj.isMobile = obj.isMobile === \"True\"\r\n    return rtObj;\r\n}\r\n//查找用户 拥有该页面的哪些权限\r\nexport const getPageRoles = async (mapKey) => {\r\n    //派生页面更改为主页面\r\n    if(mapKey === '/Admin/Deskop'){\r\n        mapKey = '/Admin/DdOrder/DdOrder';\r\n    }\r\n    if(mapKey==='/Admin/DdOrder/DdOrderDet'){\r\n        mapKey = '/Admin/DdOrder/DdOrder';\r\n    }\r\n    var formData = new FormData();\r\n    formData.append(\"mapKey\", mapKey);\r\n    formData.append(\"Roles\", localStore.getUser().Roles);\r\n    let result = await getSite_Roles_Opt(formData);\r\n    if (result.status === 0) {\r\n        return result.data.Site_Roles;\r\n    } else {\r\n        return [];\r\n    }\r\n}\r\n//查找用户 是否拥有操作权限\r\nexport const isOpt = (Arr, title) => {\r\n    const flg = Arr.find(item => {\r\n        if (item.title === title) {\r\n            return true;\r\n        } else {\r\n            return false\r\n        }\r\n    })\r\n    if(flg===undefined){\r\n        return false;\r\n    }else{\r\n        return true;\r\n    }\r\n}\r\n//将Json对象转为formData\r\nexport const ConvertFomrData = (jsons) => {\r\n    let formData1 = new FormData();\r\n    Object.keys(jsons).forEach((key) => {\r\n        if(jsons[key]===undefined){\r\n            delete jsons[key];\r\n        }else if (typeof (jsons[key]) == \"object\") {\r\n            if (jsons[key] !== null && jsons[key]!==undefined&&jsons[key]!==\"\") {\r\n                formData1.append(key + \"[0]\", jsons[key][0].format('yyyy-MM-DD'));\r\n                formData1.append(key + \"[1]\", jsons[key][1].format('yyyy-MM-DD'));\r\n            }\r\n        } else {\r\n            formData1.append(key, jsons[key]);\r\n        }\r\n\r\n    })\r\n    return formData1;\r\n}\r\n//将json数据转为EXCEL进行下载\r\n//json 原始的数据\r\n//Colums Table的列List\r\nfunction JsonTOexcelData(datas, Colums) {\r\n    //const type = 'xlsx';\r\n    let ExcelDatas = [];    \r\n    datas.forEach(data => {\r\n        let ExcelData = {};\r\n        Colums.forEach(Colum => {\r\n            ExcelData[Colum.title] = data[Colum.key]\r\n        })\r\n        ExcelDatas.push(ExcelData);\r\n    })\r\n    return ExcelDatas;\r\n}\r\n/**\r\n * json 数据\r\n * Colums 标题\r\n * ColumsWch 每列的宽度\r\n * fileName 文件名\r\n */\r\nexport function downloadExcel(json,Header,ColumsWch,fileName){\r\n    json = JsonTOexcelData(json,Header);\r\n    const workbook = XLSX.utils.book_new();\r\n    let ws = XLSX.utils.json_to_sheet(json);\r\n     ws[\"!cols\"]=ColumsWch;\r\n    XLSX.utils.book_append_sheet(workbook, ws, \"sheet1\");//把sheet添加到workbook里，第三个参数是sheet名\r\n    const wopts = { bookType: \"xlsx\", bookSST: false, type: \"array\" };//写入的样式bookType:输出的文件类型，type：输出的数据类型，bookSST: 是否生成Shared String Table，官方解释是，如果开启生成速度会下降，但在低版本IOS设备上有更好的兼容性\r\n    const wbout = XLSX.write(workbook, wopts);\r\n    FileSaver.saveAs(new Blob([wbout], { type: \"application/octet-stream\" }), `${fileName} ${moment().format(\"YYYYMMDDHHmmss\")}.xlsx`);//保存文件\r\n\r\n}\r\n\r\nexport function downloadUpFile(fileName){\r\n    window.open (SERVER_ADDRESS_FILEPATH+fileName)\r\n}\r\nexport function downloadDemoFile(fileName){\r\n    window.open (SERVER_ADDRESS_DEMOPATH+fileName)\r\n}\r\nexport const getColumnSearchProps = (dataIndex,_this)=>({\r\n    filterDropdown:({setSelectedKeys,selectedKeys,confirm,clearFilters })=>(\r\n        <div style={{padding:8}}>\r\n            <Input\r\n            ref={node => {\r\n                _this.searchInput = node;\r\n            }}\r\n            placeholder={`输入查询条件`}\r\n            value = {selectedKeys[0]}\r\n            onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n            onPressEnter={() => _this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n            />\r\n            <Space>\r\n                <Button\r\n                type=\"primary\"\r\n                onClick={() => _this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n                icon={<SearchOutlined />}\r\n                size=\"small\"\r\n                style={{ width: 90 }}\r\n                >查询</Button>\r\n                <Button\r\n                onClick={() => _this.handleReset(clearFilters)}\r\n                size=\"small\"\r\n                style={{ width: 90 }}\r\n                >重置</Button>\r\n            </Space>\r\n        </div>\r\n    ),\r\n    filterIcon:filtered =><SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    \r\n    onFilterDropdownVisibleChange:visible =>{\r\n        if (visible) {\r\n            setTimeout(() => _this.searchInput.select(), 100);\r\n          }\r\n    },\r\n    render:text=>\r\n        _this.state.searchedColumn === dataIndex ?(\r\n            <Highlighter\r\n      highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n      searchWords={[_this.state.searchText]}\r\n      autoEscape\r\n      textToHighlight={text ? text.toString() : ''}\r\n    />\r\n    ):(\r\n        text\r\n    )\r\n})\r\n//带选择框的\r\nexport const getColumnSearchPropsSelect = (dataIndex,_this,key)=>({\r\n    filterDropdown:({setSelectedKeys,selectedKeys,confirm,clearFilters })=>(\r\n        <div style={{padding:8}}>\r\n            <Input\r\n            ref={node => {\r\n                _this.searchInput = node;\r\n            }}\r\n            placeholder={`输入查询条件`}\r\n            value = {selectedKeys[0]}\r\n            onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n            onPressEnter={() => _this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n            />\r\n            <Space>\r\n                <Button\r\n                type=\"primary\"\r\n                onClick={() => _this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n                icon={<SearchOutlined />}\r\n                size=\"small\"\r\n                style={{ width: 90 }}\r\n                >查询</Button>\r\n                <Button\r\n                onClick={() => _this.handleReset(clearFilters)}\r\n                size=\"small\"\r\n                style={{ width: 90 }}\r\n                >重置</Button>\r\n            </Space>\r\n        </div>\r\n    ),\r\n    filterIcon:filtered =><SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    \r\n    onFilterDropdownVisibleChange:visible =>{\r\n        if (visible) {\r\n            setTimeout(() => _this.searchInput.select(), 100);\r\n          }\r\n    },\r\n    render:text=>\r\n        _this.state.searchedColumn === dataIndex ?(\r\n            <Highlighter\r\n      highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n      searchWords={[_this.state.searchText]}\r\n      autoEscape\r\n      textToHighlight={text ? text.toString() : ''}\r\n    />\r\n    ):(\r\n        text\r\n    )\r\n})\r\nexport const YYYYMMDD_To_Datetime = (Str)=>{\r\n    if(typeof(Str) ==='string'){\r\n        return Str.replace(/^(\\d{4})(\\d{2})(\\d{2})$/, \"$1-$2-$3\");\r\n    }else{\r\n        return Str;\r\n    }\r\n}\r\nexport const getClientType = (agentStr)=>{\r\n    if(!!agentStr.match(/AppleWebKit.*Mobile.*/)){\r\n        return 'Mobile';//\r\n    }else if(agentStr.indexOf('Android') > -1 || agentStr.indexOf('Linux') > -1){\r\n        return 'Mobile';\r\n    }else{\r\n        return 'PC';\r\n    }\r\n}","import React, { Component} from 'react'\r\nimport { Link,withRouter } from 'react-router-dom'\r\nimport { Input, Menu,Modal,Form, message} from 'antd'\r\n//从配置文件读取侧边栏\r\n//import menuList from '../../config/left-menu-list'\r\nimport logo from '../../assets/images/999.png'\r\n//引入工具\r\nimport { ConvertFomrData } from '../../utils'\r\n//引入API\r\nimport { editUser} from '../../api'\r\n\r\n//\r\nimport localStore from '../../utils/storageUtils'\r\nimport './index.less'\r\n/*\r\n    左侧导航组件\r\n*/\r\nconst SubMenu = Menu.SubMenu;\r\nclass LeftNav extends Component {\r\n    formRef = React.createRef();\r\n    state = {\r\n        isModalEditShow:false\r\n    }\r\n    PawEdit = ()=>{\r\n        const user = localStore.getUser();\r\n        //密码修改 显示对话框 \r\n        this.setState({isModalEditShow:true},()=>{\r\n            this.formRef.current.setFieldsValue({ID:user.ID,PWD:'',PWDAGAIN:''})\r\n        })\r\n    }\r\n    handleCheckPwd(rules,value,callback){\r\n        let cfmPwd = this.props.form.getFieldValue('cfmloginpass');\r\n        if(cfmPwd && cfmPwd !== value){\r\n            callback(new Error('两次密码输入不一致'))\r\n        }else{\r\n \r\n            // Note: 必须总是返回一个 callback，否则 validateFieldsAndScroll 无法响应\r\n            callback();\r\n        }\r\n    }\r\n    handleCfmPwd(rules,value,callback){\r\n        let loginpass = this.props.form.getFieldValue('loginpass');\r\n        if(loginpass && loginpass !== value){\r\n            callback(new Error('两次密码输入不一致'))\r\n        }else{\r\n            \r\n            // Note: 必须总是返回一个 callback，否则 validateFieldsAndScroll 无法响应\r\n            callback();\r\n        }\r\n    }\r\n    ModalPwdEditOk = async ()=>{\r\n        //editUser\r\n        const form = this.formRef.current;\r\n        try {\r\n            const values = await form.validateFields();\r\n            console.log(values);\r\n        } catch (errorInfo) {\r\n            message.warn('请检查数据的正确性')\r\n            return;\r\n        }\r\n        const formData = ConvertFomrData(form.getFieldsValue(true))\r\n        const result = await editUser(formData);\r\n        if(result.status===0){\r\n            message.success(\"修改成功\");\r\n        }else{\r\n            message.error(\"服务器无响应\");\r\n        }\r\n        this.setState({isModalEditShow:false})\r\n    }\r\n    ModalPwdEditCancel=()=>{\r\n        this.setState({isModalEditShow:false})\r\n    }\r\n    //生成侧边栏\r\n    getSideMenu_Map = (menuList)=>{\r\n        const pathname = this.props.history.location.pathname;\r\n        return menuList.reduce((pre,item)=>{\r\n            //找到要展开的菜单栏\r\n            let cItem = undefined;\r\n            if(item.children!==undefined){\r\n                cItem = item.children.find(cItem=>{\r\n                    return (pathname.indexOf(cItem.key)===0)\r\n                })\r\n            }\r\n            if(cItem){\r\n                this.openKey = item.key;\r\n            }\r\n            //遍历生成侧边栏 \r\n            if(!item.isSubMenu){\r\n                if(item.isOpt){//调用的是函数\r\n                    pre.push((\r\n                        <Menu.Item onClick={()=>this[item.key]()} key={item.key}>\r\n                            {item.title}\r\n                        </Menu.Item>\r\n                    ))\r\n                }else{\r\n                    pre.push((\r\n                        <Menu.Item key={item.key}>\r\n                            <Link to={item.key}>\r\n                                <span>{item.title}</span>\r\n                            </Link>\r\n                        </Menu.Item>\r\n                    ))\r\n                }\r\n                \r\n            }else{\r\n                pre.push((\r\n                    <SubMenu key={item.key} title={item.title} >\r\n                        {this.getSideMenu_Map(item.children)}\r\n                    </SubMenu>\r\n                ))\r\n            }\r\n            return pre;\r\n        },[])\r\n    }\r\n    render() {\r\n        const {isModalEditShow} = this.state;\r\n        const {menuList} = this.props;\r\n        const MenuList = this.getSideMenu_Map(menuList);\r\n        const openKey = this.openKey;\r\n        const pathname = this.props.history.location.pathname;\r\n        return (\r\n            <div className=\"left-nav\">\r\n                <Link to=\"/\" className=\"left-nav-header\">\r\n                    <img src={logo} alt=\"logo\" className=\"logo\"></img>\r\n                    <h1>轮拖排产系统</h1>\r\n                </Link>\r\n                <Menu mode=\"inline\" theme=\"dark\" selectedKeys={[pathname]} defaultOpenKeys={[openKey]}>\r\n                    {MenuList}\r\n                </Menu>\r\n                <Modal title=\"修改密码\" visible={isModalEditShow} onOk={()=>this.ModalPwdEditOk()} onCancel={()=>this.ModalPwdEditCancel()}>\r\n                    <Form ref={this.formRef}  >\r\n                        <Form.Item \r\n                        name=\"PWD\"\r\n                        label=\"密码\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: '请输入密码'\r\n                            }\r\n                        ]}\r\n                        >\r\n                            <Input type=\"password\"></Input>\r\n                        </Form.Item>\r\n                        <Form.Item \r\n                        name=\"PWDAGAIN\"\r\n                        label=\"再次输入密码\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: '请再次输入密码'\r\n                            },\r\n                            ({ getFieldValue }) => ({\r\n                                validator(_, value) {\r\n                                  if (!value || getFieldValue('PWD') === value) {\r\n                                    return Promise.resolve();\r\n                                  }\r\n                                  return Promise.reject('两次密码输入不一致');\r\n                                },\r\n                              }),\r\n                        ]}\r\n                        >\r\n                            <Input type=\"password\"></Input>\r\n                        </Form.Item>\r\n                    </Form>\r\n\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(LeftNav)","import React from 'react'\r\nimport './index.less'\r\n/*\r\n    外形像链接的按钮\r\n*/\r\nexport default function LinkButton(props){\r\n    return <button {...props} className=\"link-button\">{props.children}</button>\r\n}\r\n","/*\r\n  这是侧边栏\r\n  这里显示所有的侧边栏\r\n*/\r\nconst menuList = [\r\n    {\r\n      id:\"1\",\r\n      title: '首页', // 菜单标题名称\r\n      key: '/Admin/Deskop', // 对应的path\r\n      icon: 'home', // 图标名称\r\n      isPublic: true, // 公开的\r\n      isMenu:true,\r\n      isAuth:false,//是否需要权限配置\r\n      isSubMenu:false,\r\n      children:[] \r\n    },\r\n    {\r\n      id:\"2\", \r\n      title: '业务菜单',\r\n      key: '/Admin/ReportSearch',\r\n      icon: 'appstore',\r\n      isMenu:true,\r\n      isAuth:true,\r\n      isSubMenu:true,\r\n      children: [ // 子菜单列表\r\n        {\r\n          id:\"3\",\r\n          title: '调度单发布与执行',\r\n          key: '/Admin/DdOrder/DdOrder',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          isSubMenu:false,\r\n          icon: 'bars'\r\n        },\r\n        {\r\n          id:\"4\",\r\n          title: '钣金需求分解',\r\n          key: '/Admin/Service/Service2',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          isSubMenu:false,\r\n          icon: 'tool'\r\n        },\r\n        {\r\n          id:\"5\",\r\n          title: '机加需求分解',\r\n          key: '/Admin/Service/Service3',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          isSubMenu:false,\r\n          icon: 'tool'\r\n        },\r\n        {\r\n          id:\"6\",\r\n          title: '采购需求分解',\r\n          key: '/Admin/Service/Service4',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          isSubMenu:false,\r\n          icon: 'tool'\r\n        },\r\n      ]\r\n    },\r\n    {\r\n      id:\"7\",\r\n      title: '报表查询',\r\n      key: '/Admin/Service',\r\n      icon: 'appstore',\r\n      isMenu:true,\r\n      isAuth:true,\r\n      isSubMenu:true,\r\n      children: [ // 子菜单列表\r\n        {\r\n          id:\"8\",\r\n          title: '钣金需求单查询',\r\n          key: '/Admin/ReportSearch/Report2_1',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          icon: 'bars',\r\n          isSubMenu:false,\r\n          children:[\r\n            {\r\n              id:\"9\",\r\n              title:'添加',\r\n              key:'Service1_Add',\r\n              isMenu:false,\r\n              isAuth:true,\r\n              isOpt:true,\r\n              isSubMenu:false,\r\n            },\r\n            {\r\n              id:\"10\",\r\n              title:'Excel导入',\r\n              key:'Service1_ExcelAdd',\r\n              isMenu:false,\r\n              isAuth:true,\r\n              isOpt:true,\r\n              isSubMenu:false,\r\n            },\r\n            {\r\n              id:\"11\",\r\n              title:'删除',\r\n              key:'Service1_ExcelDel',\r\n              isMenu:false,\r\n              isAuth:true,\r\n              isOpt:true,\r\n              isSubMenu:false,\r\n            },\r\n          ]\r\n        },\r\n        {\r\n          id:\"12\",\r\n          title: '钣金需求单查询',\r\n          key: '/Admin/ReportSearch/Report2_1',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          isSubMenu:false,\r\n          icon: 'tool'\r\n        },\r\n        {\r\n          id:\"13\",\r\n          title: '机加需求单查询',\r\n          key: '/Admin/ReportSearch/Report3_1',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          isSubMenu:false,\r\n          icon: 'tool'\r\n        },\r\n        {\r\n          id:\"14\",\r\n          title: '采购需求单查询',\r\n          key: '/Admin/ReportSearch/Report4_1',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          isSubMenu:false,\r\n          icon: 'tool'\r\n        },\r\n      ]\r\n    },\r\n    {\r\n      id:\"15\",\r\n      title: '系统管理',\r\n      key: '/Admin/Admin',\r\n      icon: 'appstore',\r\n      isMenu:true,\r\n      isAuth:true,\r\n      isSubMenu:true,\r\n      children: [ // 子菜单列表\r\n        {\r\n          id:\"16\",\r\n          title: '密码修改',\r\n          key: 'PasEdit',\r\n          isMenu:true,\r\n          isAuth:false,\r\n          isSubMenu:false,\r\n          icon: 'bars'\r\n        },\r\n        {\r\n          id:\"17\",\r\n          title: '用户管理',\r\n          key: '/Admin/Admin/AdminUserConfig',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          isSubMenu:false,\r\n          icon: 'bars'\r\n        },\r\n        {\r\n          id:\"18\",\r\n          title: '操作记录',\r\n          key: '/Admin/Admin/OptRecord',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          isSubMenu:false,\r\n          icon: 'bars'\r\n        },\r\n        {\r\n          id:\"19\",\r\n          title: 'MRP控制者维护',\r\n          key: '/Admin/Admin/MRP',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          isSubMenu:false,\r\n          icon: 'bars'\r\n        },\r\n        {\r\n          id:\"20\",\r\n          title: '物料班组对照维护',\r\n          key: '/Admin/Admin/Matrial',\r\n          isMenu:true,\r\n          isAuth:true,\r\n          icon: 'bars',\r\n          isSubMenu:false,\r\n          children:[\r\n            {\r\n              id:\"21\",\r\n              title:'添加',\r\n              key:'Matrial_Add',\r\n              isMenu:false,\r\n              isAuth:true,\r\n              isOpt:true,\r\n              isSubMenu:false,\r\n            },\r\n            {\r\n              id:\"22\",\r\n              title:'Excel导入',\r\n              key:'Matrial_ExcelAdd',\r\n              isMenu:false,\r\n              isAuth:true,\r\n              isOpt:true,\r\n              isSubMenu:false,\r\n            },\r\n            {\r\n              id:\"23\",\r\n              title:'删除',\r\n              key:'Matrial_Del',//key不能重复\r\n              isMenu:false,\r\n              isAuth:true,\r\n              isOpt:true,\r\n              isSubMenu:false,\r\n            }\r\n          ]\r\n        },\r\n      ]\r\n    },\r\n]\r\n  \r\nexport default menuList","import React, { Component } from 'react'\r\nimport {Modal} from 'antd'\r\nimport {withRouter} from 'react-router-dom'\r\nimport LinkButton from '../link-button'\r\nimport MenuList from '../../config/left-menu-list'\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\nimport './index.less'\r\nclass Header extends Component {\r\n    state = {\r\n        cTime:'',\r\n        UserName:'',\r\n    }\r\n    componentDidMount=()=>{\r\n        // setInterval(() => {\r\n        //     let time = getTime();\r\n        //     this.setState({\r\n        //         cTime:time\r\n        //     })\r\n        // }, 1000); \r\n        // getTime();\r\n        const {UserName} = this.props;\r\n        this.setState({UserName});\r\n    }\r\n    handleExit=()=>{\r\n        Modal.confirm({\r\n            title:'确定退出当前用户吗?',\r\n            okText:'确定',\r\n            cancelText:'取消',\r\n            onOk:()=>{\r\n                memoryUtils.user = {};\r\n                storageUtils.removeUser();\r\n                this.props.history.replace('Login');\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const {UserName} = this.state;\r\n        const pathname = this.props.history.location.pathname;\r\n        let TopTitle;\r\n        MenuList.forEach((item)=>{\r\n            if(item.key === pathname){\r\n                TopTitle = item.title;\r\n            }else{\r\n                if(item.children){\r\n                    let cItem = item.children.find((item)=>item.key===pathname)\r\n                    if(cItem){\r\n                        TopTitle = cItem.title;\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        ///Admin/Upload/ExcelUp\r\n        if(pathname===\"/Admin/Upload/ExcelUp\"){\r\n            TopTitle = '上传Excel'\r\n        }\r\n        if(pathname===\"/Admin/Test/DdOrderExcel\"){\r\n            TopTitle = '导入调度单'\r\n        }\r\n        return (\r\n            <div className=\"Header\">\r\n                <div className=\"Header-top\">\r\n                    <span>欢迎，{UserName}</span>\r\n                    <LinkButton onClick={this.handleExit}>退出</LinkButton>\r\n                </div>\r\n                <div className=\"Header-btm\">\r\n                    <div className=\"Header-btm-left\">\r\n                        <h1 style={{fontSize:'100%',margin:'0px'}}>{TopTitle}</h1>\r\n                    </div>\r\n                    <div className=\"Header-btn-right\">\r\n                        {/* <span>时间:{cTime}</span> */}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n// function getTime(){\r\n//         var now = Date.now();\r\n//         const Year = now.getFullYear;\r\n//         const Month = now.getMonth+1;\r\n//         const Date = now.getDate();\r\n//         const Hour = now.getHours();\r\n//         const Minu = now.getMinutes();\r\n//         const Second = now.getSeconds();\r\n//         return `${Year}-${Month>9?Month:'0'+Month}-${Date} ${Hour}:${Minu}:${Second}`;  \r\n// }\r\nexport default withRouter(Header)","import React, { Component } from 'react'\r\n/*\r\n    操作日志\r\n*/\r\nexport default class AdminOptLog extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                操作日志\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { Tag,Button} from 'antd';\r\nimport { getColumnSearchProps,getColumnSearchPropsSelect} from \"../utils\";\r\nimport LinkButton from \"../components/link-button\"\r\nimport moment from 'moment'\r\n\r\n/* 配置数据 */\r\n//采购订单的表格配置\r\nexport const Polist_columns = [\r\n    {\r\n        title: '状态', \r\n        dataIndex: 'Status',\r\n        key: 'Status',\r\n        width: 80,\r\n        fixed: 'left',\r\n    },\r\n    {\r\n        title: '采购单号',\r\n        dataIndex: 'Cpoid',\r\n        key: 'Cpoid',\r\n        width: 170,\r\n        fixed: 'left',\r\n    },\r\n    {\r\n        title: '项次',\r\n        dataIndex: 'Detailsid',\r\n        key: 'Detailsid', \r\n        width: 120,\r\n    },\r\n    {\r\n        title: '供应商编号',\r\n        dataIndex: 'CVenCode',\r\n        key: 'CVenCode',\r\n        width: 100,\r\n    },\r\n    {\r\n        title: '供应商名称',\r\n        dataIndex: 'Cvenname',\r\n        key: 'Cvenname',\r\n        ellipsis: true,\r\n    },\r\n    {\r\n        title: '订单日期',\r\n        dataIndex: 'Dpodate',\r\n        key: 'Dpodate',\r\n        width: 120,\r\n    },\r\n    {\r\n        title: '物料号',\r\n        dataIndex: 'Cinvcode',\r\n        key: 'Cinvcode',\r\n        width: 170,\r\n    },\r\n    {\r\n        title: '物料描述',\r\n        dataIndex: 'Cinvname',\r\n        key: 'Cinvname',\r\n        width: 270,\r\n        ellipsis: true,\r\n    },\r\n    {\r\n        title: '订单数量',\r\n        dataIndex: 'IQUANTITY',\r\n        key: 'IQUANTITY',\r\n        width: 100,\r\n    },\r\n    {\r\n        title: '税率',\r\n        dataIndex: 'Itaxrate',\r\n        key: 'Itaxrate',\r\n        width: 70,\r\n    },\r\n    {\r\n        title: '要求到货日期',\r\n        dataIndex: 'DArriveDate',\r\n        key: 'DArriveDate',\r\n        width: 120,\r\n    },\r\n    {\r\n        title: '确认数量',\r\n        dataIndex: 'QrIquantity',\r\n        key: 'QrIquantity',\r\n        width: 100,\r\n    },\r\n    {\r\n        title: '确认到货日期',\r\n        dataIndex: 'QrArriveDate',\r\n        key: 'QrArriveDate',\r\n        width: 150,\r\n    },\r\n    {\r\n        title: '业务员名称',\r\n        dataIndex: 'Cpersonname',\r\n        key: 'Cpersonname',\r\n        width: 100,\r\n    },\r\n    {\r\n        title: '到货数',\r\n        dataIndex: 'z_PoArrQuantity',\r\n        key: 'z_PoArrQuantity',\r\n        width: 100,\r\n    },\r\n    {\r\n        title: '入库数',\r\n        dataIndex: 'z_freceivedqty',\r\n        key: 'z_freceivedqty',\r\n        width: 100,\r\n    },\r\n    {\r\n        title: '确认日期',\r\n        dataIndex: 'Qrrq',\r\n        key: 'Qrrq',\r\n        width: 150,\r\n    },\r\n    {\r\n        title: '备注',\r\n        dataIndex: 'Bz',\r\n        key: 'Bz',\r\n        ellipsis: true,\r\n    },\r\n];\r\n//UserInfo 用户管理的表格配置\r\nexport const UserConfig_columns = [\r\n    {\r\n        title: '编号',\r\n        dataIndex: 'UserCode',\r\n        key: 'UserCode',\r\n        width: 50,\r\n    },\r\n    {\r\n        title: '用户名',\r\n        dataIndex: 'UserName',\r\n        key: 'UserName',\r\n        ellipsis: true,\r\n        width: 40,\r\n    },\r\n    // {\r\n    //     title: '密码',\r\n    //     dataIndex: 'PWD',\r\n    //     key: 'PWD',\r\n    //     width: 100,\r\n    // }\r\n]\r\n//MRPInfo MRP控制者维护\r\nexport const V_MRPInfo_columns =[\r\n    {\r\n        title: '业务名称',\r\n        dataIndex: 'Name',\r\n        key: 'Name',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: 'MRP',\r\n        dataIndex: 'MRP',\r\n        key: 'MRP',\r\n        width: 60,\r\n        render:function(val){\r\n            return val.toUpperCase();\r\n        }\r\n    }\r\n]\r\n//WBInfo 物料班组对照表\r\nexport const WBInfo_columns = [\r\n    {\r\n        title: '物料编码',\r\n        dataIndex: 'Matnr',\r\n        key: 'Matnr',\r\n        width: 60,\r\n        render:function(val){\r\n            if(val){\r\n\r\n                return (val+\"\").toUpperCase();\r\n            }\r\n        }\r\n    },\r\n    {\r\n        title: '物料名称',\r\n        dataIndex: 'Maktx',\r\n        key: 'Maktx',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '班组',\r\n        dataIndex: 'Bz',\r\n        key: 'Bz',\r\n        width: 60,\r\n        render:function(val){\r\n            if(val){\r\n                return val.toUpperCase();\r\n            }\r\n            \r\n        }\r\n    }\r\n]\r\n//BjInfo 钣金需求分解\r\nexport const BjInfo_columns = [\r\n    {\r\n        title: '一层编码',\r\n        dataIndex: 'FirstCode',\r\n        key: 'FirstCode',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '一层名称',\r\n        dataIndex: 'FirstName',\r\n        key: 'FirstName',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '二层编码',\r\n        dataIndex: 'SecondCode',\r\n        key: 'SecondCode',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '二层名称',\r\n        dataIndex: 'SecondName',\r\n        key: 'SecondName',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '三层编码',\r\n        dataIndex: 'ThirdCode',\r\n        key: 'ThirdCode',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '三层名称',\r\n        dataIndex: 'ThirdName',\r\n        key: 'ThirdName',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '四层编码',\r\n        dataIndex: 'FourthCode',\r\n        key: 'FourthCode',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '四层名称',\r\n        dataIndex: 'FourthName',\r\n        key: 'FourthName',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '五层编码',\r\n        dataIndex: 'FifthCode',\r\n        key: 'FifthCode',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '五层名称',\r\n        dataIndex: 'FifthName',\r\n        key: 'FifthName',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '需求数量',\r\n        dataIndex: 'Menge',\r\n        key: 'Menge',\r\n        width: 30,\r\n    },\r\n]\r\n//BjImp 钣金需求Excel上传表\r\nexport const BjImp_columns =[\r\n    {\r\n        title: '物料编码',\r\n        dataIndex: 'Matnr',\r\n        key: 'Matnr',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '数量',\r\n        dataIndex: 'Menge',\r\n        key: 'Menge',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '日期',\r\n        dataIndex: 'Datetime1',\r\n        key: 'Datetime1',\r\n        width: 60,\r\n    },\r\n    {\r\n        title:'状态',\r\n        dataIndex: 'status',\r\n        key: 'status',\r\n        width: 30,\r\n        render:function(val){\r\n            let NewVal;\r\n            switch(val){\r\n                case \"已完成\":\r\n                    NewVal = <Tag color=\"success\">已完成</Tag>\r\n                    break;\r\n                case \"执行中\":\r\n                    NewVal = <Tag color=\"processing\">执行中</Tag>\r\n                    break;\r\n                case \"异常\":\r\n                    NewVal = <Tag color=\"error\">异常</Tag>\r\n                    break;\r\n                case \"执行超时\":\r\n                    NewVal = <Tag color=\"warning\">执行超时</Tag>\r\n                    break;\r\n                default:\r\n                    NewVal = <Tag color=\"processing\">执行中</Tag>\r\n                    break;\r\n            }\r\n            return NewVal;\r\n        }\r\n    }\r\n]\r\n//JjInfo 机加需求表\r\nexport const JjInfo_columns =[\r\n    {\r\n        title: '系列',\r\n        dataIndex: 'Series',\r\n        key: 'Series',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '子键物料号',\r\n        dataIndex: 'Matnr',\r\n        key: 'Matnr',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '子键物料描述',\r\n        dataIndex: 'Maktx',\r\n        key: 'Maktx',\r\n        width: 60,\r\n        ellipsis: true,\r\n    },\r\n    {\r\n        title: '数量',\r\n        dataIndex: 'Menge',\r\n        key: 'Menge',\r\n        width: 60,\r\n    }\r\n]\r\n//JiImp 机加需求Excel上传表\r\nexport const JiImp_columns =[\r\n    {\r\n        title: '系列/型号',\r\n        dataIndex: 'Series',\r\n        key: 'Series',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '物料编码',\r\n        dataIndex: 'Matnr',\r\n        key: 'Matnr',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '数量',\r\n        dataIndex: 'Menge',\r\n        key: 'Menge',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '日期',\r\n        dataIndex: 'Datetime1',\r\n        key: 'Datetime1',\r\n        width: 60,\r\n    },\r\n    {\r\n        title:'状态',\r\n        dataIndex: 'status',\r\n        key: 'status',\r\n        width: 30,\r\n        render:function(val){\r\n            let NewVal;\r\n            switch(val){\r\n                case \"已完成\":\r\n                    NewVal = <Tag color=\"success\">已完成</Tag>\r\n                    break;\r\n                case \"执行中\":\r\n                    NewVal = <Tag color=\"processing\">执行中</Tag>\r\n                    break;\r\n                case \"异常\":\r\n                    NewVal = <Tag color=\"error\">异常</Tag>\r\n                    break;\r\n                case \"执行超时\":\r\n                    NewVal = <Tag color=\"warning\">执行超时</Tag>\r\n                    break;\r\n                default:\r\n                    NewVal = <Tag color=\"processing\">执行中</Tag>\r\n                    break;\r\n            }\r\n            return NewVal;\r\n        }\r\n    }\r\n]\r\n//CgInfo 采购需求表\r\nexport const CgInfo_columns =[\r\n    {\r\n        title: '物料编码',\r\n        dataIndex: 'Maktx',\r\n        key: 'Maktx',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '物料描述',\r\n        dataIndex: 'Matnr',\r\n        key: 'Matnr',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '需求日期',\r\n        dataIndex: 'Budat',\r\n        key: 'Budat',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: 'MRP控制者',\r\n        dataIndex: 'MRP',\r\n        key: 'MRP',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '单位',\r\n        dataIndex: 'Meins',\r\n        key: 'Meins',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '供应商代码',\r\n        dataIndex: 'Lifnr',\r\n        key: 'Lifnr',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '供应商名称',\r\n        dataIndex: 'Name1',\r\n        key: 'Name1',\r\n        width: 60,\r\n        ellipsis: true,\r\n    },\r\n]\r\nexport const CgImp_columns =[\r\n    {\r\n        title: '物料编码',\r\n        dataIndex: 'MATNR',\r\n        key: 'MATNR',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '数量',\r\n        dataIndex: 'Menge',\r\n        key: 'Menge',\r\n        width: 60,\r\n    },\r\n    {//需求日期\r\n        title: '需求日期',\r\n        dataIndex: 'Datetime1',\r\n        key: 'Datetime1',\r\n        width: 60,\r\n    },\r\n    {\r\n        title:'状态',\r\n        dataIndex: 'status',\r\n        key: 'status',\r\n        width: 30,\r\n        render:function(val){\r\n            let NewVal;\r\n            switch(val){\r\n                case \"已完成\":\r\n                    NewVal = <Tag color=\"success\">已完成</Tag>\r\n                    break;\r\n                case \"执行中\":\r\n                    NewVal = <Tag color=\"processing\">执行中</Tag>\r\n                    break;\r\n                case \"异常\":\r\n                    NewVal = <Tag color=\"error\">异常</Tag>\r\n                    break;\r\n                case \"执行超时\":\r\n                    NewVal = <Tag color=\"warning\">执行超时</Tag>\r\n                    break;\r\n                default:\r\n                    NewVal = <Tag color=\"processing\">执行中</Tag>\r\n                    break;\r\n            }\r\n            return NewVal;\r\n        }\r\n    }\r\n]\r\n//物料班组对照表 Excel\r\nexport const WbInfo = [\r\n    {\r\n        title: '物料编码',\r\n        dataIndex: 'Matnr',\r\n        key: 'Matnr',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '班组',\r\n        dataIndex: 'Maktx',\r\n        key: 'Maktx',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '备注',\r\n        dataIndex: 'Bz',\r\n        key: 'Bz',\r\n        width: 60,\r\n    },\r\n]\r\n//BjInfo 钣金需求分解查询\r\nexport const V_BjInfo_columns = [\r\n    {\r\n        title: '日期',\r\n        dataIndex: 'Datetime1',\r\n        key: 'Datetime1',\r\n        width: 30,\r\n        render:function (data) {\r\n            return moment(data).format(\"YYYYMMDD\");\r\n        }\r\n    },\r\n    {\r\n        title: '一层编码',\r\n        dataIndex: 'FirstCode',\r\n        key: 'FirstCode',\r\n        width: 40,\r\n    },\r\n    {\r\n        title: '一层名称',\r\n        dataIndex: 'FirstName',\r\n        key: 'FirstName',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '一层数量',\r\n        dataIndex: 'Num1',\r\n        key: 'Num1',\r\n        width: 20,\r\n    },\r\n    {\r\n        title:'一层工艺',\r\n        dataIndex:'Pline1',\r\n        key: 'Pline1',\r\n        width: 12,\r\n    },\r\n    {\r\n        title: '二层编码',\r\n        dataIndex: 'SecondCode',\r\n        key: 'SecondCode',\r\n        width: 40,\r\n    },\r\n    {\r\n        title: '二层名称',\r\n        dataIndex: 'SecondName',\r\n        key: 'SecondName',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '二层数量',\r\n        dataIndex: 'Num2',\r\n        key: 'Num2',\r\n        width: 20,\r\n    },\r\n    {\r\n        title:'二层工艺',\r\n        dataIndex:'Pline2',\r\n        key: 'Pline2',\r\n        width: 12,\r\n    },\r\n    {\r\n        title: '三层编码',\r\n        dataIndex: 'ThirdCode',\r\n        key: 'ThirdCode',\r\n        width: 40,\r\n    },\r\n    {\r\n        title: '三层名称',\r\n        dataIndex: 'ThirdName',\r\n        key: 'ThirdName',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '三层数量',\r\n        dataIndex: 'Num3',\r\n        key: 'Num3',\r\n        width: 20,\r\n    },\r\n    {\r\n        title:'三层工艺',\r\n        dataIndex:'Pline3',\r\n        key: 'Pline3',\r\n        width: 12,\r\n    },\r\n    {\r\n        title: '四层编码',\r\n        dataIndex: 'FourthCode',\r\n        key: 'FourthCode',\r\n        width: 40,\r\n    },\r\n    {\r\n        title: '四层名称',\r\n        dataIndex: 'FourthName',\r\n        key: 'FourthName',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '四层数量',\r\n        dataIndex: 'Num4',\r\n        key: 'Num4',\r\n        width: 20,\r\n    },\r\n    {\r\n        title:'四层工艺',\r\n        dataIndex:'Pline4',\r\n        key: 'Pline4',\r\n        width: 12,\r\n    },\r\n    {\r\n        title: '五层编码',\r\n        dataIndex: 'FifthCode',\r\n        key: 'FifthCode',\r\n        width: 40,\r\n    },\r\n    {\r\n        title: '五层名称',\r\n        dataIndex: 'FifthName',\r\n        key: 'FifthName',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '五层数量',\r\n        dataIndex: 'Num5',\r\n        key: 'Num5',\r\n        width: 20,\r\n    },\r\n    {\r\n        title:'五层工艺',\r\n        dataIndex:'Pline5',\r\n        key: 'Pline5',\r\n        width: 12,\r\n    },\r\n    {\r\n        title: '六层编码',\r\n        dataIndex: 'SixthCode',\r\n        key: 'SixthCode',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '六层名称',\r\n        dataIndex: 'SixthName',\r\n        key: 'SixthName',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '六层数量',\r\n        dataIndex: 'Num6',\r\n        key: 'Num6',\r\n        width: 20,\r\n    },\r\n    {\r\n        title:'六层工艺',\r\n        dataIndex:'Pline6',\r\n        key: 'Pline6',\r\n        width: 12,\r\n    },\r\n    {\r\n        title:'系列',\r\n        dataIndex:'Series',\r\n        key: 'Series',\r\n        width: 20,\r\n    }\r\n]\r\n//机加需求单查询\r\nexport const V_JjInfo_columns = [\r\n    {\r\n        title: '系列',\r\n        dataIndex: 'Series',\r\n        key: 'Series',\r\n        width: 40,\r\n        ellipsis: true,\r\n    },\r\n    {\r\n        title: '子键物料号',\r\n        dataIndex: 'Matnr',\r\n        key: 'Matnr',\r\n        width: 60,\r\n    },\r\n    {\r\n        title: '子键物料描述',\r\n        dataIndex: 'Maktx',\r\n        key: 'Maktx',\r\n        width: 90,\r\n        ellipsis: true,\r\n    },\r\n    {\r\n        title: '数量',\r\n        dataIndex: 'Menge',\r\n        key: 'Menge',\r\n        width: 30,\r\n    },\r\n    {\r\n        title: '单位',\r\n        dataIndex: 'Meins',\r\n        key: 'Meins',\r\n        width: 30,\r\n    },\r\n    {\r\n        title: 'MRP控制者',\r\n        dataIndex: 'MRP',\r\n        key: 'MRP',\r\n        width: 50,\r\n    },\r\n    {\r\n        title: '班组',\r\n        dataIndex: 'bz',\r\n        key: 'bz',\r\n        width: 40,\r\n    },\r\n]\r\n//采购需求单查询\r\nexport const V_CgInfo_columns =[\r\n    {\r\n        title: '物料编码',\r\n        dataIndex: 'Matnr',\r\n        key: 'Matnr',\r\n        width: 50,\r\n    },\r\n    {\r\n        title: '物料描述',\r\n        dataIndex: 'Maktx',\r\n        key: 'Maktx',\r\n        width: 150,\r\n        ellipsis: true,\r\n    },\r\n    {\r\n        title: '需求日期',\r\n        dataIndex: 'Datetime1',\r\n        key: 'Datetime1',\r\n        width: 40,\r\n        render:function (data) {\r\n            if(data!==\"\"){\r\n                var dt = new Date(data);\r\n                return moment(dt).format('YYYYMMDD');\r\n            }else{\r\n                return \"\";\r\n            }\r\n            \r\n            \r\n        }\r\n    },\r\n    {\r\n        title: 'MRP控制者',\r\n        dataIndex: 'MRP',\r\n        key: 'MRP',\r\n        width: 40,\r\n    },\r\n    {\r\n        title: '单位',\r\n        dataIndex: 'Meins',\r\n        key: 'Meins',\r\n        width: 25,\r\n    },\r\n    {\r\n        title: '供应商代码',\r\n        dataIndex: 'Lifnr',\r\n        key: 'Lifnr',\r\n        width: 40,\r\n    },\r\n    {\r\n        title: '供应商名称',\r\n        dataIndex: 'Name1',\r\n        key: 'Name1',\r\n        ellipsis: true,\r\n        width: 70,\r\n    },\r\n    {\r\n        title: '数量',\r\n        dataIndex: 'Menge',\r\n        key: 'Menge',\r\n        width: 30,\r\n    },\r\n    {\r\n        title: '配额',\r\n        dataIndex: 'PEIE',\r\n        key: 'PEIE',\r\n        width: 30,\r\n    },\r\n    {\r\n        title: '9001轮拖寄售库存',\r\n        dataIndex: 'Num1',\r\n        key: 'Num1',\r\n        width: 55,\r\n    },\r\n    {\r\n        title: '4101轮拖材料库存',\r\n        dataIndex: 'Num2',\r\n        key: 'Num2',\r\n        width: 55,\r\n    },\r\n    {\r\n        title: '收货冻结数量',\r\n        dataIndex: 'SHDJ',\r\n        key: 'SHDJ',\r\n        width: 40,\r\n    },\r\n]\r\n\r\n//采购需求单查询\r\nexport const V_CgInfo_columns2 =[\r\n    {\r\n        title: '物料编码',\r\n        dataIndex: 'Matnr',\r\n        key: 'Matnr',\r\n        width: 120,\r\n    },\r\n    {\r\n        title: '物料描述',\r\n        dataIndex: 'Maktx',\r\n        key: 'Maktx',\r\n        width: 150,\r\n        ellipsis: true,\r\n    },\r\n    {\r\n        title: '需求日期',\r\n        dataIndex: 'Budat',\r\n        key: 'Budat',\r\n        width: 40,\r\n    },\r\n    {\r\n        title: 'MRP控制者',\r\n        dataIndex: 'MRP',\r\n        key: 'MRP',\r\n        width: 40,\r\n    },\r\n    {\r\n        title: '单位',\r\n        dataIndex: 'Meins',\r\n        key: 'Meins',\r\n        width: 25,\r\n    },\r\n    {\r\n        title: '供应商代码',\r\n        dataIndex: 'Lifnr',\r\n        key: 'Lifnr',\r\n        width: 40,\r\n    },\r\n    {\r\n        title: '供应商名称',\r\n        dataIndex: 'Name1',\r\n        key: 'Name1',\r\n        ellipsis: true,\r\n        width: 70,\r\n    },\r\n    {\r\n        title: '数量',\r\n        dataIndex: 'Menge',\r\n        key: 'Menge',\r\n        width: 30,\r\n    },\r\n    {\r\n        title: '配额',\r\n        dataIndex: 'PEIE',\r\n        key: 'PEIE',\r\n        width: 30,\r\n    },\r\n    {\r\n        title: '9001轮拖寄售库存',\r\n        dataIndex: 'JSKC',\r\n        key: 'JSKC',\r\n        width: 55,\r\n    },\r\n    {\r\n        title: '4101轮拖材料库存',\r\n        dataIndex: 'CLKC',\r\n        key: 'CLKC',\r\n        width: 55,\r\n    },\r\n    {\r\n        title: '收货冻结数量',\r\n        dataIndex: 'SHDJ',\r\n        key: 'SHDJ',\r\n        width: 40,\r\n    },\r\n]\r\n\r\nexport const UploadInfo_columns = [\r\n    {\r\n        title: '文件名',\r\n        dataIndex: 'FileName',\r\n        key: 'FileName',\r\n        width: 30,\r\n    },\r\n    // {\r\n    //     title: '路径',\r\n    //     dataIndex: 'Path',\r\n    //     key: 'Path',\r\n    //     width: 60,\r\n    //     ellipsis: true,\r\n    // },\r\n    {\r\n        title: '上传时间',\r\n        dataIndex: 'Budat',\r\n        key: 'Budat',\r\n        width: 25,\r\n    },\r\n]\r\n//操作记录\r\nexport const V_LogInfo_columns =[\r\n    {\r\n        title: '操作类型',\r\n        dataIndex: 'TypeName',\r\n        key: 'TypeName',\r\n        width: 30,\r\n    },\r\n    {\r\n        title: '操作人编码',\r\n        dataIndex: 'UserCode',\r\n        key: 'UserCode',\r\n        width: 30,\r\n    },\r\n    {\r\n        title: '操作人',\r\n        dataIndex: 'UserName',\r\n        key: 'UserName',\r\n        width: 30,\r\n    },\r\n    {\r\n        title: '操作时间',\r\n        dataIndex: 'DateTime1',\r\n        key: 'DateTime1',\r\n        width: 30,\r\n    },\r\n    {\r\n        title: '操作内容',\r\n        dataIndex: 'Contents',\r\n        key: 'Contents',\r\n        ellipsis: true,\r\n        width: 30,\r\n    },\r\n]\r\n//DdOrder\r\nexport const GetDdOrder_columns = _this=>{\r\n    const {Fuc_Bj,Fuc_Jj,Fuc_Cg} = _this.state;\r\n    let column = [\r\n        {\r\n            title: '调度单号',\r\n            dataIndex: 'LTOrder',\r\n            key: 'LTOrder',\r\n            width: 30,\r\n            ...getColumnSearchProps('LTOrder',_this),\r\n            sorter: {\r\n                multiple:2,\r\n            }\r\n        },\r\n        {\r\n            title: '版本号',\r\n            dataIndex: 'TbCount',\r\n            key: 'TbCount',\r\n            width: 20,\r\n        },\r\n        {\r\n            title: '产线',\r\n            dataIndex: 'Faline',\r\n            key: 'Faline',\r\n            width: 25,\r\n            ...getColumnSearchProps('Faline',_this),\r\n        },\r\n        {\r\n            title: '上传时间',\r\n            dataIndex: 'UpTime',\r\n            key: 'UpTime',\r\n            width: 30,\r\n            defaultSortOrder: 'descend',\r\n            sorter: {\r\n                multiple:1,\r\n            },\r\n            render:function (val) {\r\n                \r\n                // if(val!==\"\"){\r\n                //     return moment(val).format(\"YYYY/MM/DD\");\r\n                // }else{\r\n                //     return val;\r\n                // }\r\n                return val;\r\n            }\r\n        },\r\n        {\r\n            title: '生效',\r\n            dataIndex: 'status',\r\n            key: 'status',\r\n            width: 25,\r\n            filters:[\r\n                { text: '是', value: '是' },\r\n                { text: '否', value: '否' },\r\n            ],\r\n            render:function(val){\r\n                if(val==='是'){\r\n                    return <Tag color=\"green\">{val}</Tag>\r\n                }else{\r\n                    return <Tag color=\"red\">{val}</Tag>\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: '钣金状态',\r\n            dataIndex: 'BjStatus1',\r\n            key: 'BjStatus1',\r\n            width: 28,\r\n            render:function(val,record) {\r\n                var flg = true;\r\n                if(record.BjStatus ===\"待执行\" || record.JjStatus ===\"待执行\" || record.CgStatus ===\"待执行\"){\r\n                    flg = false;\r\n                }\r\n                if(val===\"待执行\"){\r\n                    return <LinkButton onClick={()=>_this.SearchDet(record.ID,flg)}>\r\n                        <Tag color=\"blue\" >{val}</Tag>\r\n                    </LinkButton>\r\n                }else if(val===\"已完成\"){\r\n                    return <LinkButton  onClick={()=>_this.SearchDet(record.ID,flg)}>\r\n                        <Tag color=\"green\">{val}</Tag>\r\n                    </LinkButton>\r\n                }else{\r\n                    return <LinkButton onClick={()=>_this.SearchDet(record.ID,flg)}>\r\n                        <Tag color=\"magenta\">{val}</Tag>\r\n                    </LinkButton>\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: '钣金执行人',\r\n            dataIndex: 'BjPer',\r\n            key: 'BjPer',\r\n            width: 28\r\n        },\r\n        {\r\n            title: '钣金执行时间',\r\n            dataIndex: 'BjTime',\r\n            key: 'BjTime',\r\n            width: 28\r\n        },\r\n        {\r\n            title: '机加状态',\r\n            dataIndex: 'JjStatus1',\r\n            key: 'JjStatus1',\r\n            width: 28,\r\n            render:function(val,record) {\r\n                var flg = true;\r\n                if(record.BjStatus ===\"待执行\" || record.JjStatus ===\"待执行\" || record.CgStatus ===\"待执行\"){\r\n                    flg = false;\r\n                }\r\n                if(val===\"待执行\"){\r\n                    return <LinkButton onClick={()=>_this.SearchDet(record.ID,flg)}>\r\n                        <Tag color=\"blue\" >{val}</Tag>\r\n                    </LinkButton>\r\n                }else if(val===\"已完成\"){\r\n                    return <LinkButton  onClick={()=>_this.SearchDet(record.ID,flg)}>\r\n                        <Tag color=\"green\">{val}</Tag>\r\n                    </LinkButton>\r\n                }else{\r\n                    return <LinkButton onClick={()=>_this.SearchDet(record.ID,flg)}>\r\n                        <Tag color=\"magenta\">{val}</Tag>\r\n                    </LinkButton>\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: '机加执行人',\r\n            dataIndex: 'JjPer',\r\n            key: 'JjPer',\r\n            width: 28\r\n        },\r\n        {\r\n            title: '机加执行时间',\r\n            dataIndex: 'JjTime',\r\n            key: 'JjTime',\r\n            width: 28\r\n        },\r\n        {\r\n            title: '采购状态',\r\n            dataIndex: 'CgStatus1',\r\n            key: 'CgStatus1',\r\n            width: 28,\r\n            render:function(val,record) {\r\n                var flg = true;\r\n                if(record.BjStatus ===\"待执行\" || record.JjStatus ===\"待执行\" || record.CgStatus ===\"待执行\"){\r\n                    flg = false;\r\n                }\r\n                if(val===\"待执行\"){\r\n                    return <LinkButton onClick={()=>_this.SearchDet(record.ID,flg)}>\r\n                        <Tag color=\"blue\" >{val}</Tag>\r\n                    </LinkButton>\r\n                }else if(val===\"已完成\"){\r\n                    return <LinkButton  onClick={()=>_this.SearchDet(record.ID,flg)}>\r\n                        <Tag color=\"green\">{val}</Tag>\r\n                    </LinkButton>\r\n                }else{\r\n                    return <LinkButton onClick={()=>_this.SearchDet(record.ID,flg)}>\r\n                        <Tag color=\"magenta\">{val}</Tag>\r\n                    </LinkButton>\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: '采购执行人',\r\n            dataIndex: 'CgPer',\r\n            key: 'CgPer',\r\n            width: 28\r\n        },\r\n        {   \r\n            title: '采购执行时间',\r\n            dataIndex: 'CgTime',\r\n            key: 'CgTime',\r\n            width: 28\r\n        },\r\n        {\r\n            title:'采购库存基准日期',\r\n            dataIndex: 'CgBaseTime',\r\n            key: 'CgBaseTime',\r\n            width: 28,\r\n            render:function(val) {\r\n                return val;\r\n            }\r\n        },\r\n        {\r\n            title: '计划月份',\r\n            dataIndex: 'PlanDt',\r\n            key: 'PlanDt  ',\r\n            width: 25,\r\n            sorter: {\r\n                multiple:3,\r\n            },\r\n            render:(val)=>{\r\n                return val;\r\n                //return val!==\"\"?moment(val).format(\"YYYYMM\"):val\r\n            }\r\n        },\r\n        {\r\n            title: '操作',\r\n            width: 41,\r\n            fixed: 'right',\r\n            dataIndex: 'operation',\r\n            render: (_, record) => {\r\n                return (\r\n                    <div style={{ textAlign: 'center' }}>\r\n                        {_this.state.Fuc_Edit?<Button size=\"small\" type=\"primary\" onClick={() => _this.ModalDel(record,_this)} danger>删除</Button>:\"\"}\r\n                        &emsp;\r\n                        {_this.state.Fuc_Edit?<Button size=\"small\" type=\"primary\" onClick={() => _this.ModalEdit(record,_this)} >编辑</Button>:\"\"}\r\n                        \r\n                        {/* {record.status===\"否\"?<Button size=\"small\" type=\"link\" onClick={()=>_this.changeStatus(record,_this)} >生效</Button>:\"已生效\"} */}\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    ]\r\n    column = column.filter(item=>{\r\n        if(!Fuc_Bj&&(item.key==='BjStatus1'||item.key==='BjPer'||item.key==='BjTime')){\r\n            return false;\r\n        }\r\n        if(!Fuc_Jj&&(item.key==='JjStatus1'||item.key==='JjPer'||item.key==='JjTime')){\r\n            return false;\r\n        }\r\n        if(!Fuc_Cg&&(item.key==='CgStatus1'||item.key==='CgPer'||item.key==='CgTime'||item.key==='CgBaseTime')){\r\n            return false;\r\n        }\r\n        return true;\r\n    })\r\n    return column;\r\n}\r\nexport const GetDdOrder_Det_Status = _this=>{\r\n    const {Fuc_Bj,Fuc_Jj,Fuc_Cg} = _this.state;\r\n    let column =  [\r\n        {\r\n            title: '投产日期',\r\n            dataIndex: 'Datetime1',\r\n            key: 'Datetime1',\r\n            width: 30,\r\n        },\r\n        {\r\n            title: '钣金状态',\r\n            dataIndex: 'BjStatus',\r\n            key: 'BjStatus',\r\n            width: 20,\r\n            render:function(val,record) {\r\n                if(val===\"待执行\"){\r\n                    return <Tag color=\"blue\">{val}</Tag>\r\n                }else if(val===\"已完成\"){\r\n                    return <Tag color=\"green\">{val}</Tag>\r\n                }else{\r\n                    return <Tag color=\"magenta\">{val}</Tag>\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: '机加状态',\r\n            dataIndex: 'JjStatus',\r\n            key: 'JjStatus',\r\n            width: 20,\r\n            render:function(val) {\r\n                if(val===\"待执行\"){\r\n                    return <Tag color=\"blue\">{val}</Tag>\r\n                }else if(val===\"已完成\"){\r\n                    return <Tag color=\"green\">{val}</Tag>\r\n                }else{\r\n                    return <Tag color=\"magenta\">{val}</Tag>\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: '采购状态',\r\n            dataIndex: 'CgStatus',\r\n            key: 'CgStatus',\r\n            width: 20,\r\n            render:function(val) {\r\n                if(val===\"待执行\"){\r\n                    return <Tag color=\"blue\">{val}</Tag>\r\n                }else if(val===\"已完成\"){\r\n                    return <Tag color=\"green\">{val}</Tag>\r\n                }else{\r\n                    return <Tag color=\"magenta\">{val}</Tag>\r\n                }\r\n            }\r\n        },\r\n    ]\r\n    column = column.filter(item=>{\r\n        if(!Fuc_Bj&&item.key==='BjStatus'){\r\n            return false;\r\n        }\r\n        if(!Fuc_Jj&&item.key==='JjStatus'){\r\n            return false;\r\n        }\r\n        if(!Fuc_Cg&&item.key==='CgStatus'){\r\n            return false;\r\n        }\r\n        return true;\r\n    })\r\n    return column;\r\n}\r\nexport const DdOrder_Det_columns = ()=>(\r\n    [\r\n    {\r\n        title: '序号',\r\n        dataIndex: 'TbIndex',\r\n        key: 'TbIndex',\r\n        width: 18,\r\n        render:(text,record,index)=>`${index+1}`,\r\n    },\r\n    {\r\n        title: '投产日期',\r\n        dataIndex: 'Datetime1',\r\n        key: 'Datetime1',\r\n        width: 25,\r\n    },\r\n    {\r\n        title: '整机编码',\r\n        dataIndex: 'ZjNo',\r\n        key: 'ZjNo',\r\n        width: 35,\r\n    },\r\n    {\r\n        title: '物料编码',\r\n        dataIndex: 'Matnr',\r\n        key: 'Matnr',\r\n        width: 30,\r\n    },\r\n    {\r\n        title: '系列',\r\n        dataIndex: 'Series',\r\n        key: 'Series',\r\n        width: 20,\r\n    },\r\n    {\r\n        title:'型号',\r\n        dataIndex:'Model',\r\n        key:'Model',\r\n        width:20,\r\n    },\r\n    {\r\n        title:'分动箱',\r\n        dataIndex: 'Box',\r\n        key: 'Box',\r\n        width: 20,\r\n    },\r\n    {\r\n        title:'数量',\r\n        dataIndex: 'Num',\r\n        key: 'Num',\r\n        width: 18,\r\n\r\n    },\r\n    {\r\n        title:'配置',\r\n        dataIndex: 'Config',\r\n        key: 'Config',\r\n        width: 45,\r\n        ellipsis: true,\r\n    },\r\n    {\r\n        title:'交库时间',\r\n        dataIndex: 'Datetime2',\r\n        key: 'Datetime2',\r\n        width: 25,\r\n    },\r\n    {\r\n        title:'备注',\r\n        dataIndex: 'Bz',\r\n        key: 'Bz',\r\n        width: 45,\r\n        ellipsis: true,\r\n    },\r\n])\r\n//调度表总结字段配置\r\nexport const DdOrder_Sum_columns = (_this)=>{\r\n    return [\r\n        {\r\n            title: '调度单号',\r\n            dataIndex: 'LTOrder',\r\n            key: 'LTOrder',\r\n            width: 30,\r\n            \r\n            ...getColumnSearchProps('LTOrder',_this),\r\n        },\r\n        {\r\n            title: '版本号',\r\n            dataIndex: 'TbCount',\r\n            key: 'TbCount',\r\n            width: 18,\r\n        },\r\n        {\r\n            title:'序号',\r\n            dataIndex: 'NO',\r\n            key: 'NO',\r\n            width: 18,\r\n        },\r\n        {\r\n            title: '生效',\r\n            dataIndex: 'status',\r\n            key: 'status',\r\n            width: 25,\r\n            filters:[\r\n                { text: '是', value: '是' },\r\n                { text: '否', value: '否' },\r\n            ],\r\n            render:function(val){\r\n                if(val==='是'){\r\n                    return <Tag color=\"green\">是</Tag>\r\n                }else{\r\n                    return <Tag color=\"red\">否</Tag>\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title: '产线',\r\n            dataIndex: 'Faline',\r\n            key: 'Faline',\r\n            width: 25,\r\n            ...getColumnSearchProps('Faline',_this),\r\n        },\r\n        {\r\n            title: '计划月份',\r\n            dataIndex: 'PlanDt',\r\n            key: 'PlanDt',\r\n            width: 25,\r\n            render:(val)=>{\r\n                return val;\r\n                //return val!==\"\"?moment(val).format(\"YYYYMM\"):val\r\n            }\r\n        },\r\n        {\r\n            title: '明细数',\r\n            dataIndex: 'DetCount',\r\n            key: 'DetCount',\r\n            width: 18,\r\n        }\r\n    ];\r\n}\r\n//调度单表明细总结字段配置\r\nexport const DdOrder_Det_Sum_columns = ()=>{\r\n    return [\r\n        // {\r\n        //     title:'状态',\r\n        //     dataIndex:'Det_status',\r\n        //     key: 'Det_status',\r\n        //     width: 20,\r\n        // },\r\n        {\r\n            title:'整机编码',\r\n            dataIndex:'ZjNo',\r\n            key: 'ZjNo',\r\n            editable:true,\r\n            required:true,\r\n            width: 20,\r\n        },\r\n        {\r\n            title:'物料编码',\r\n            dataIndex:'Matnr',\r\n            key: 'Matnr',\r\n            editable:false,\r\n            width: 18,\r\n        },\r\n        {\r\n            title:'系列',\r\n            dataIndex:'Series',\r\n            key: 'Series',\r\n            width: 12,\r\n        },\r\n        {\r\n            title:'分动箱',\r\n            dataIndex:'Box',\r\n            key: 'Box',\r\n            editable:true,\r\n            width: 12,\r\n        },\r\n        {\r\n            title:'数量',\r\n            dataIndex:'Num',\r\n            key: 'Num',\r\n            width: 10,\r\n        },\r\n        {\r\n            title:'配置',\r\n            dataIndex:'Config',\r\n            key: 'Config',\r\n            editable:true,\r\n            width: 48,\r\n        },\r\n        \r\n        {\r\n            title:'投产日期',\r\n            dataIndex:'Datetime1',\r\n            key: 'Datetime1',\r\n            width: 18,\r\n        },\r\n        {\r\n            title:'交库时间',\r\n            dataIndex:'Datetime2',\r\n            editable:true,\r\n            required:true,\r\n            key: 'Datetime2',\r\n            width: 18,\r\n            render:function(val) {\r\n                if(typeof(val)==='object'){\r\n                    return moment(val).format(\"YYYYMMDD\");\r\n                }else{\r\n                    return val;\r\n                }\r\n            }\r\n        },\r\n        {\r\n            title:'备注',\r\n            dataIndex:'Bz',\r\n            editable:true,\r\n            key: 'Bz',\r\n            width: 38,\r\n            ellipsis: true,\r\n        },\r\n    ]\r\n}\r\n//调度单机加表\r\nexport const DdOrder_JjInfo_columns = (model)=>{\r\n    return model===\"1\"?[\r\n        {\r\n            title:'物料编码',\r\n            dataIndex:'Matnr',\r\n            key: 'Matnr',\r\n            width: 22,\r\n            render:function(val) {\r\n                return val.replace(/\\b(0+)/gi,\"\");\r\n            }\r\n        },\r\n        {\r\n            title:'物料描述',\r\n            dataIndex:'Maktx',\r\n            key: 'Maktx',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'单位',\r\n            dataIndex:'Meins',\r\n            key: 'Meins',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'系列',\r\n            dataIndex:'Series',\r\n            key: 'Series',\r\n            width: 12,\r\n        },\r\n        {\r\n            title:'班组',\r\n            dataIndex:'Bz',\r\n            key: 'Bz',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'需求总数',\r\n            dataIndex:'Menge',\r\n            key: 'Menge',\r\n            width: 22,\r\n        },\r\n    ]:[\r\n        {\r\n            title:'物料编码',\r\n            dataIndex:'Matnr',\r\n            key: 'Matnr',\r\n            width: 22,\r\n            render:function(val) {\r\n                return val.replace(/\\b(0+)/gi,\"\");\r\n            }\r\n        },\r\n        {\r\n            title:'物料描述',\r\n            dataIndex:'Maktx',\r\n            key: 'Maktx',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'单位',\r\n            dataIndex:'Meins',\r\n            key: 'Meins',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'班组',\r\n            dataIndex:'Bz',\r\n            key: 'Bz',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'需求总数',\r\n            dataIndex:'Menge',\r\n            key: 'Menge',\r\n            width: 22,\r\n        },\r\n    ]\r\n    \r\n}\r\nexport const DdOrder_JjInfo_Det_columns = (Dets)=>{\r\n    const columns = [];\r\n    for(var key in Dets){\r\n        var Dt = new Date(key);\r\n        columns.push({\r\n            title:moment(Dt).format(\"DD\"),\r\n            dataIndex:key,\r\n            key: key,\r\n            width: 16,\r\n        })\r\n    }\r\n    return columns;\r\n}\r\nexport const DdOrder_CgInfo_columns = (model)=>{\r\n    return model===\"1\"?[\r\n        {\r\n            title:'物料编码',\r\n            dataIndex:'Matnr',\r\n            key: 'Matnr',\r\n            width: 16,\r\n            render:function(val) {\r\n                return val.replace(/\\b(0+)/gi,\"\");\r\n            }\r\n        },\r\n        {\r\n            title:'物料描述',\r\n            dataIndex:'Maktx',\r\n            key: 'Maktx',\r\n            width: 24,\r\n        },\r\n        {\r\n            title:'MRP控制者',\r\n            dataIndex:'MRP',\r\n            key: 'MRP',\r\n            width: 10,\r\n        },\r\n        {\r\n            title:'单位',\r\n            dataIndex:'Meins',\r\n            key: 'Meins',\r\n            width: 10,\r\n        },\r\n        {\r\n            title:'供应商代码',\r\n            dataIndex:'Lifnr',\r\n            key: 'Lifnr',\r\n            width: 16,\r\n        },\r\n        {\r\n            title:'供应商名称',\r\n            dataIndex:'Name1',\r\n            key: 'Name1',\r\n            width: 24,\r\n            ellipsis: true,\r\n        },\r\n        {\r\n            title:'系列',\r\n            dataIndex:'Series',\r\n            key: 'Series',\r\n            width: 10,\r\n        },\r\n        {\r\n            title:'数量',\r\n            dataIndex:'Menge',\r\n            key: 'Menge',\r\n            width: 12,\r\n        },\r\n        {\r\n            title:'配额',\r\n            dataIndex:'PEIE',\r\n            key: 'PEIE',\r\n            width: 12,\r\n        },\r\n        {\r\n            title:'寄售库存',\r\n            dataIndex:'Num1',\r\n            key: 'Num1',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'材料库存',\r\n            dataIndex:'Num2',\r\n            key: 'Num2',\r\n            width: 14,\r\n        }\r\n    ]:[\r\n        {\r\n            title:'物料编码',\r\n            dataIndex:'Matnr',\r\n            key: 'Matnr',\r\n            width: 16,\r\n        },\r\n        {\r\n            title:'物料描述',\r\n            dataIndex:'Maktx',\r\n            key: 'Maktx',\r\n            width: 24,\r\n        },\r\n        {\r\n            title:'MRP控制者',\r\n            dataIndex:'MRP',\r\n            key: 'MRP',\r\n            width: 10,\r\n        },\r\n        {\r\n            title:'单位',\r\n            dataIndex:'Meins',\r\n            key: 'Meins',\r\n            width: 10,\r\n        },\r\n        {\r\n            title:'供应商代码',\r\n            dataIndex:'Lifnr',\r\n            key: 'Lifnr',\r\n            width: 16,\r\n        },\r\n        {\r\n            title:'供应商名称',\r\n            dataIndex:'Name1',\r\n            key: 'Name1',\r\n            width: 24,\r\n            ellipsis: true,\r\n        },\r\n        {\r\n            title:'数量',\r\n            dataIndex:'Menge',\r\n            key: 'Menge',\r\n            width: 12,\r\n        },\r\n        {\r\n            title:'配额',\r\n            dataIndex:'PEIE',\r\n            key: 'PEIE',\r\n            width: 12,\r\n        },\r\n        {\r\n            title:'寄售库存',\r\n            dataIndex:'Num1',\r\n            key: 'Num1',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'材料库存',\r\n            dataIndex:'Num2',\r\n            key: 'Num2',\r\n            width: 14,\r\n        }\r\n    ]\r\n    \r\n}\r\nexport const DdOrder_CgInfo_Det_columns = (Dets)=>{\r\n    const columns = [];\r\n    for(var key in Dets){\r\n        var Dt = new Date(key);\r\n        columns.push({\r\n            title:moment(Dt).format(\"DD\"),\r\n            dataIndex:key,\r\n            key: key,\r\n            width: 16,\r\n        })\r\n    }\r\n    return columns;\r\n}\r\nexport const DdOrder_BjInfo_columns = (model)=>{\r\n    return model===\"1\"?[\r\n        {\r\n            title:'系列',\r\n            dataIndex:'Series',\r\n            key: 'Series',\r\n            width: 10,\r\n        },\r\n        {\r\n            title:'一层编码',\r\n            dataIndex:'FirstCode',\r\n            key: 'FirstCode',\r\n            width: 14,\r\n            render:function(val) {\r\n                \r\n                return val.replace(/\\b(0+)/gi,\"\");\r\n            }\r\n        },\r\n        {\r\n            title:'一层名称',\r\n            dataIndex:'FirstName',\r\n            key: 'FirstName',\r\n            width: 22,\r\n        },\r\n        \r\n        {\r\n            title:'二层编码',\r\n            dataIndex:'SecondCode',\r\n            key: 'SecondCode',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'二层名称',\r\n            dataIndex:'SecondName',\r\n            key: 'SecondName',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'三层编码',\r\n            dataIndex:'ThirdCode',\r\n            key: 'ThirdCode',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'三层名称',\r\n            dataIndex:'ThirdName',\r\n            key: 'ThirdName',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'四层编码',\r\n            dataIndex:'FourthCode',\r\n            key: 'FourthCode',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'四层名称',\r\n            dataIndex:'FourthName',\r\n            key: 'FourthName',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'五层编码',\r\n            dataIndex:'FifthCode',\r\n            key: 'FifthCode',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'五层名称',\r\n            dataIndex:'FifthName',\r\n            key: 'FifthName',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'总需求',\r\n            dataIndex:'Num1',\r\n            key: 'Num1',\r\n            width: 12,\r\n        }\r\n    ]:\r\n    [\r\n        {\r\n            title:'一层编码',\r\n            dataIndex:'FirstCode',\r\n            key: 'FirstCode',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'一层名称',\r\n            dataIndex:'FirstName',\r\n            key: 'FirstName',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'二层编码',\r\n            dataIndex:'SecondCode',\r\n            key: 'SecondCode',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'二层名称',\r\n            dataIndex:'SecondName',\r\n            key: 'SecondName',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'三层编码',\r\n            dataIndex:'ThirdCode',\r\n            key: 'ThirdCode',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'三层名称',\r\n            dataIndex:'ThirdName',\r\n            key: 'ThirdName',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'四层编码',\r\n            dataIndex:'FourthCode',\r\n            key: 'FourthCode',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'四层名称',\r\n            dataIndex:'FourthName',\r\n            key: 'FourthName',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'五层编码',\r\n            dataIndex:'FifthCode',\r\n            key: 'FifthCode',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'五层名称',\r\n            dataIndex:'FifthName',\r\n            key: 'FifthName',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'六层编码',\r\n            dataIndex:'SixthCode',\r\n            key: 'SixthCode',\r\n            width: 14,\r\n        },\r\n        {\r\n            title:'六层名称',\r\n            dataIndex:'SixthName',\r\n            key: 'SixthName',\r\n            width: 22,\r\n        },\r\n        {\r\n            title:'总需求',\r\n            dataIndex:'Num1',\r\n            key: 'Num1',\r\n            width: 12,\r\n        }\r\n    ]\r\n}\r\nexport const DdOrder_BjInfo_First =(_this)=>{\r\n    return [\r\n            {\r\n                title:'物料编码',\r\n                dataIndex:'Code2',\r\n                key: 'Code2',\r\n                width:20,\r\n                ...getColumnSearchPropsSelect('FirstCode',_this,'SearchSelect'),\r\n            },\r\n            {\r\n                title:'物料名称',\r\n                dataIndex:'Name',\r\n                key: 'Name',\r\n                width:20,\r\n                ...getColumnSearchPropsSelect('FirstName',_this,'SearchSelect2'),\r\n            },\r\n            {\r\n                title:'数量',\r\n                dataIndex:'Num',\r\n                key: 'Num',\r\n                width:5,\r\n            },\r\n            {\r\n                title:'工艺',\r\n                dataIndex:'Pline1',\r\n                key:'Pline1',\r\n                width:8,\r\n                ...getColumnSearchPropsSelect('Pline',_this,'SearchSelect2'),\r\n            }\r\n    ]\r\n}\r\nexport const DdOrder_BjInfo_Second =()=>{\r\n    return [\r\n            {\r\n                title:'二层物料编码',\r\n                dataIndex:'Code',\r\n                key: 'Code',\r\n                width:10,\r\n                render:function (val) {\r\n                    return val.replace(/\\b(0+)/gi,\"\");\r\n                }\r\n            },\r\n            {\r\n                title:'物料名称',\r\n                dataIndex:'Name',\r\n                key: 'Name',\r\n                width:5\r\n            },\r\n            {\r\n                title:'数量',\r\n                dataIndex:'Num',\r\n                key: 'Num',\r\n                width:5,\r\n            },\r\n            {\r\n                title:'子件',\r\n                dataIndex:'sub',\r\n                key:'sub',\r\n                width:86\r\n            }\r\n    ]\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Table, message, Col, Row, Input, Tabs, Checkbox, Button, Modal, Form } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n//自定义样式\r\nimport './index.less'\r\n//自定义组件\r\n//引入工具类\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport {depTree,OrderTree} from '../../utils'\r\n//获取配置\r\nimport { UserConfig_columns } from '../../config/table-columns'\r\n//获取API\r\nimport { getUserList, addUser, editUser, delUser,getSite_Roles} from '../../api'\r\n//全局参数\r\n//全局变量\r\nconst { Search } = Input;\r\nconst { TabPane } = Tabs;\r\nconst { confirm } = Modal;\r\n/*\r\n    用户管理\r\n*/\r\nexport default class AdminUserConfig extends Component {\r\n    load_Add = false;\r\n    formRef = React.createRef()\r\n    state = {\r\n        dataSource: [],\r\n        dataTotal: 0,\r\n        selectedRowKeys: [],\r\n        CopyRowKeys:[],\r\n        myTabs: [],\r\n        loading: false,\r\n        checkList: [],\r\n        isModalEditShow: false,\r\n        UserConfig_columns:[],\r\n        ModalTitle: '',\r\n        //给按钮添加loading 效果防止重复提交\r\n        load_Edit:false\r\n    }\r\n    dataSource = []\r\n    //数据查询的表单\r\n    RefFormData = {}\r\n    //数据查询\r\n    SearchData = async (FormData) => {\r\n        this.setState({ loading: true });\r\n        const result = await getUserList();\r\n        if (result.status === 0) {\r\n            if (result.data == null) {\r\n                message.warn(\"没有查到用户数据\");\r\n                return;\r\n            }\r\n            this.dataSource = result.data.UserInfo;\r\n            const NewData = this.dataSource.slice(0, 9999);\r\n            this.setState({\r\n                dataSource: NewData,\r\n                dataTotal: 1000,\r\n                loading: false\r\n            });\r\n            // if (FormData.pageMode === undefined || FormData.pageMode === false) {\r\n            //     message.success(\"查询成功\");\r\n            // }\r\n        } else {\r\n            message.warn(\"没有查到用户数据\");\r\n        }\r\n        //FormData.page\r\n        //FormData.pageSize\r\n    }\r\n    //表格选择配置\r\n    onSelectChange = selectedRowKeys => {\r\n        this.setState({ selectedRowKeys });\r\n    }\r\n    //表格行配置\r\n    onRow = record => {\r\n        return {\r\n            onClick: event => {// 点击行事件 获取当前需要修改的keys\r\n                //Roles\r\n                let checkList = record.Roles.split(',');\r\n                this.setState({ selectedRowKeys: [record.ID], checkList });\r\n            },\r\n        }\r\n    }\r\n    //查询数据\r\n    onSearch = value => {\r\n        const list = this.dataSource.filter(item => {\r\n            return item.UserName.indexOf(value) >= 0\r\n        })\r\n        this.setState({\r\n            dataSource: list,\r\n            dataTotal: 1000\r\n        });\r\n    }\r\n    //复选框 选择\r\n    CheckOnchange = (event) => {\r\n        const { checkList } = this.state;\r\n        let oldCheckList;\r\n        const val = event.target.valueProp;\r\n        if (event.target.checked) {\r\n            checkList.push(val+\"\");\r\n            console.dir(checkList);\r\n            this.setState({ checkList });\r\n        } else {\r\n            oldCheckList = checkList.filter(item => item*1 !== val)\r\n            console.dir(oldCheckList);\r\n            this.setState({ checkList: oldCheckList })\r\n        }\r\n        \r\n    }\r\n    //更改权限\r\n    submitChange = async () => {\r\n        //this.state.checkList 更改的list\r\n        //selectedRowKeys 更改的id\r\n        const { selectedRowKeys, checkList } = this.state;\r\n        if (selectedRowKeys[0] === undefined || selectedRowKeys[0] === 0 || selectedRowKeys[0] === \"\") {\r\n            message.warn(\"请先选择用户\");\r\n            return;\r\n        }\r\n        var List = checkList.join(',');\r\n        if (List.length !== 0 && List[0]===',') {\r\n            List = List.substr(1);\r\n        }\r\n        //接下来提交数据\r\n        var formData = new FormData();\r\n        formData.append(\"ID\", selectedRowKeys[0]);\r\n        formData.append(\"Roles\", List);\r\n        this.setState({load_Edit:true})\r\n        const result = await editUser(formData)\r\n        if (result.status === 0) {\r\n            message.success(\"更改权限成功\");\r\n            this.SearchData();//重新查询数据\r\n            this.setState({load_Edit:false})\r\n        }\r\n    }\r\n    //编辑用户\r\n    ModalEdit = (record,event) => {\r\n        event.stopPropagation();\r\n        this.setState({ isModalEditShow: true, ModalTitle: '编辑用户' }, () => {\r\n            this.formRef.current.setFieldsValue(record)\r\n        })\r\n    }\r\n    //添加用户\r\n    ModalAdd = () => {\r\n        this.setState({ isModalEditShow: true, ModalTitle: '新建用户' }, () => {\r\n            this.formRef.current.resetFields()\r\n        })\r\n    }\r\n    //删除用户\r\n    ModalDel = (record,event) => {\r\n        event.stopPropagation();\r\n        confirm({\r\n            title: '是否删除数据?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '是',\r\n            okType: 'danger',\r\n            cancelText: '否',\r\n             onOk: async ()=> {\r\n                let formData = new FormData();\r\n                formData.append(\"ID\", record.ID);\r\n                const result = await delUser(formData)\r\n                if (result.status === 0) {\r\n                    message.success(\"删除成功\");\r\n                    this.SearchData();//重新查询数据\r\n                }\r\n            },\r\n            onCancel() {\r\n            },\r\n        })\r\n    }\r\n    ModalEditOk = async () => {\r\n        if(this.load_Add){\r\n            message.warn('请勿重复提交!');\r\n            return;\r\n        }\r\n        const form = this.formRef.current;\r\n        try {\r\n            await form.validateFields();\r\n        } catch (errorInfo) {\r\n            message.warn('请检查数据的正确性')\r\n            return;\r\n        }\r\n        const { ModalTitle } = this.state;\r\n        this.load_Add = true;\r\n        try{\r\n            if (ModalTitle === '编辑用户') {\r\n                let data = form.getFieldsValue(true)\r\n                let formData = new FormData();\r\n                formData.append(\"ID\", data.ID);\r\n                formData.append(\"PWD\", data.PWD);\r\n                formData.append(\"UserCode\", data.UserCode);\r\n                formData.append(\"UserName\", data.UserName);\r\n                \r\n                const result = await editUser(formData)\r\n                if (result.status === 0) {\r\n                    message.success(\"编辑用户成功\");\r\n                    this.SearchData();//重新查询数据\r\n                }\r\n            } else {//新建用户\r\n                let data = form.getFieldsValue(true)\r\n                let formData = new FormData();\r\n                formData.append(\"PWD\", data.PWD);\r\n                formData.append(\"UserCode\", data.UserCode);\r\n                formData.append(\"UserName\", data.UserName);\r\n                const result = await addUser(formData)\r\n                if (result.status === 0) {\r\n                    message.success(\"添加用户成功\");\r\n                    this.SearchData();//重新查询数据\r\n                }else{\r\n                    message.error(\"用户编号重复\");\r\n                }\r\n            }\r\n            this.setState({ isModalEditShow: false })\r\n        }catch(_e){\r\n        }finally{\r\n            this.load_Add = false;\r\n        }\r\n        \r\n    }\r\n    ModalEditCancel = () => {\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n\r\n    //获取标签\r\n    getTabs = () => {\r\n        const { myTabs, checkList } = this.state;\r\n        if (myTabs!==undefined && myTabs.length > 0) {\r\n            return (\r\n                <Tabs defaultActiveKey=\"1\">\r\n                    {\r\n                        myTabs.map(item => {\r\n                            return (\r\n                                <TabPane tab={item.isMobile?'(手机版)'+item.title:item.title} key={item.key}>\r\n                                    {\r\n                                        item.children.map(item2 => {\r\n                                            if (item2.isAuth) {\r\n                                                let checked1;\r\n                                                if (checkList.length > 0) {\r\n                                                    checked1 = checkList.find(it =>{\r\n                                                        return it*1=== item2.id;\r\n                                                    } );\r\n                                                }\r\n                                                return (\r\n                                                    <div key={item2.key + \"_div\"}>\r\n                                                        <h2>\r\n                                                            <Checkbox checked={checked1 !== undefined} style={{ fontWeight: 600 }} onChange={(e) => this.CheckOnchange(e)} valueProp={item2.id}> {item2.title}</Checkbox>\r\n                                                        </h2>\r\n                                                        &emsp;&emsp;\r\n                                                        {\r\n                                                            item2.children === undefined ?\r\n                                                                \"\" :\r\n                                                                item2.children.map(item3 => {\r\n                                                                    let checked2;\r\n                                                                    if (checkList.length > 0) {\r\n                                                                        checked2 = checkList.find(it => it*1 === item3.id);\r\n                                                                    }\r\n                                                                    if (item3.isAuth) {\r\n                                                                        return <Checkbox checked={checked2 !== undefined} key={item3.key + \"_checkBox\"} onChange={(e) => this.CheckOnchange(e)} valueProp={item3.id}>{item3.title}</Checkbox>\r\n                                                                    } else {\r\n                                                                        return \"\"\r\n                                                                    }\r\n                                                                })\r\n                                                        }\r\n                                                    </div>\r\n                                                )\r\n                                            } else {\r\n                                                return \"\";\r\n                                            }\r\n\r\n                                        })\r\n                                    }\r\n                                </TabPane>\r\n                            )\r\n                        })\r\n                    }\r\n                </Tabs>\r\n            )\r\n        }\r\n    }\r\n    componentDidMount = async () => {\r\n        //获取标签\r\n        let formData = new FormData();\r\n        let myTabs;\r\n        const user = memoryUtils.user;\r\n        formData.append('AuthConfig',user.Roles);\r\n        const result = await getSite_Roles(formData);\r\n        if(result.status===0){\r\n            const {Site_Roles} = result.data;\r\n            let menuList = depTree(Site_Roles,0);\r\n            menuList = OrderTree(menuList);\r\n            myTabs = menuList.filter(item => {\r\n                console.dir(item);\r\n                if (item.isAuth) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            });\r\n        }else{\r\n            message.error(\"服务器无响应\");\r\n        }\r\n        \r\n        this.SearchData({\r\n            pageMode: true,\r\n        });\r\n        this.setState({\r\n            myTabs,\r\n            UserConfig_columns:UserConfig_columns\r\n        })\r\n    }\r\n    //复制权限\r\n    ModalCopy = (record,event)=>{\r\n        event.stopPropagation();\r\n        this.setState({CopyRowKeys:record.Roles.split(',')})\r\n        message.success(\"权限已复制\");\r\n    }\r\n    ModalPaste = (record,event)=>{\r\n        event.stopPropagation();\r\n        const {CopyRowKeys} = this.state;\r\n        console.dir(record.ID);\r\n        this.setState({checkList:CopyRowKeys,CopyRowKeys:[],selectedRowKeys: [record.ID]})\r\n        message.success(\"权限已粘贴\");\r\n    }\r\n    componentWillUnmount = () => {\r\n        UserConfig_columns.pop();\r\n    }\r\n    render() {\r\n        const { dataSource, selectedRowKeys, loading, ModalTitle, isModalEditShow,load_Edit} = this.state;\r\n        const rowSelection = {\r\n            columnWidth:\"16px\",\r\n            checkStrictly: true,\r\n            type: \"radio\",\r\n            fixed: true,\r\n            selectedRowKeys: selectedRowKeys,\r\n            onChange: this.onSelectChange,\r\n        }\r\n        //插入操作\r\n        if(UserConfig_columns.length>=3){\r\n            UserConfig_columns.pop();\r\n        }\r\n        UserConfig_columns.push(\r\n            {\r\n                title: '操作',\r\n                width: 90,\r\n                fixed: 'right',\r\n                dataIndex: 'operation',\r\n                render: (_, record) => {\r\n                    return (\r\n                        <div style={{ textAlign: 'center' }}>\r\n                            {this.state.CopyRowKeys.length===0?<Button type=\"dashed\" size=\"small\" onClick={(event)=>this.ModalCopy(record,event)} >复制权限</Button>:<Button type=\"default\" onClick={(event)=>this.ModalPaste(record,event)} size=\"small\">粘贴权限</Button>}&nbsp;\r\n                            <Button size=\"small\" type=\"primary\" onClick={(event) => this.ModalDel(record,event)} danger>删除</Button>&nbsp;\r\n                            <Button size=\"small\" type=\"primary\" onClick={(event) => this.ModalEdit(record,event)} >编辑</Button>\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n        )\r\n        //UserConfigFielsds\r\n        return (\r\n            <Row className=\"Content-main\">\r\n                <Col span={1}></Col>\r\n                <Col span={10} className=\"left_content\">\r\n                    <Row style={{ marginBottom: \"10px\" }}>\r\n                        <Col span={12}>\r\n                            <Search placeholder=\"输入用户名搜索\" enterButton onSearch={this.onSearch} />\r\n                        </Col>\r\n                        <Col span={1}></Col>\r\n                        <Col span={11}>\r\n                            <Button type=\"primary\" onClick={() => this.submitChange()} loading={load_Edit}>提交更改</Button>\r\n                            &emsp;\r\n                            <Button type=\"primary\" onClick={() => this.ModalAdd()}>添加</Button>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    <Table\r\n                        className=\"TabUserConfig\"\r\n                        dataSource={dataSource}\r\n                        bordered\r\n                        rowKey=\"ID\"\r\n                        sticky={true}   \r\n                        columns={this.state.UserConfig_columns}\r\n                        scroll={{ y: 600}}\r\n                        size=\"small\"\r\n                        loading={loading}\r\n                        pagination={false}\r\n                        rowSelection={rowSelection}\r\n                        onRow={this.onRow}\r\n                    >\r\n                    </Table>\r\n                </Col>\r\n                <Col span={1}></Col>\r\n                <Col span={12}>\r\n                    {this.getTabs()}\r\n                </Col>\r\n                <Modal title={ModalTitle} visible={isModalEditShow} onOk={() => this.ModalEditOk()} onCancel={() => this.ModalEditCancel()} >\r\n                    <Form ref={this.formRef} >\r\n                        <Form.Item\r\n                            name=\"UserCode\"\r\n                            label=\"用户编号\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入用户编号'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"UserName\"\r\n                            label=\"用户名称\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入用户名称'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"PWD\"\r\n                            label=\"用户密码\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入用户密码'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </Row>\r\n        )\r\n    }\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Form, Row, Col, Input, Select ,Button,DatePicker} from 'antd';\r\nimport { DownOutlined, UpOutlined } from '@ant-design/icons';\r\nimport './index.less'\r\nimport LinkButton from '../link-button';\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst AdvancedSearchForm = (props) => {\r\n    //提交的Url,查找数据的函数,第一次是否显示数据\r\n    const {SearchData,Fielsds} = props;\r\n    const [expand, setExpand] = useState(false);\r\n    const [form] = Form.useForm();\r\n    const getInput = (data)=>{\r\n      switch(data.type){\r\n        case 'Input':\r\n          return <Input placeholder={data.placeholder} name={data.name} />\r\n        case 'Select':\r\n          return <Select value={data.defaultValue+\"\"}  name={data.name} >{getOpts(data.Options)}</Select>\r\n        case 'SelectFind':\r\n          return <Select showSearch value={data.defaultValue+\"\"} optionFilterProp=\"children\"  name={data.name}>{getOpts(data.Options)}</Select>\r\n        case 'DateTime':\r\n          return <RangePicker name={data.name} />\r\n        default:\r\n          return null\r\n      }\r\n    }\r\n    //获得select 的option\r\n    const getOpts = (Options)=>{\r\n      return Options.map((opt)=><Option value={opt.value+\"\"} key={opt.value} >{opt.text}</Option>)\r\n    }\r\n    //获得表单\r\n    const getFields = () => {\r\n      const count = expand ? 6 : 3;\r\n      let t = 0;\r\n      const children = Fielsds.map(item=>{\r\n        if(t>=count){\r\n          t++;\r\n          return null\r\n        }else{\r\n          t++;\r\n          return (\r\n            <Col span={item.span} key={item.key} >\r\n              <Form.Item name={item.name} label={item.label} rules={item.rules} >\r\n                  {getInput(item)}\r\n              </Form.Item>\r\n            </Col>\r\n          )\r\n        }\r\n      })\r\n      return children;\r\n    };\r\n    //处理表单提交事件\r\n    const handleSubmit = async (event)=>{\r\n      if(event){\r\n        event.preventDefault();\r\n      }\r\n      const FormData = form.getFieldsValue(true);\r\n      const error = form.getFieldsError();\r\n      if(error.find(item=>item.errors.length>0)){\r\n        return;\r\n      }\r\n      SearchData(FormData);\r\n    }\r\n    // const onFinish = (values) => {\r\n    // };\r\n    \r\n    return (\r\n      // onFinish={onFinish}\r\n      <Form form={form} name=\"advanced_search\" className=\"ant-advanced-search-form\" style={{margin:\"20px 0px\"}}>\r\n        <Row gutter={24}>\r\n          {getFields()}\r\n          <Col span={6}>\r\n          <Button type=\"primary\" htmlType=\"submit\" onClick={handleSubmit} >查询</Button>\r\n          <Button style={{margin: '0 8px',}} onClick={() => {form.resetFields();}}>重置</Button>\r\n            {\r\n              Fielsds.length>=3?\r\n              (\r\n              <LinkButton style={{fontSize: 12,}}  onClick={() => {setExpand(!expand);}}>\r\n                {expand ? <UpOutlined />: <DownOutlined />}\r\n                {expand ? \"收起\":\"展开\"}\r\n              </LinkButton>\r\n              ):\r\n              \"\"\r\n            }\r\n          </Col>\r\n          \r\n        </Row>\r\n        \r\n      </Form>\r\n    );\r\n  };\r\nexport default AdvancedSearchForm;","//导入模拟的数据\r\nimport {Werks} from \"../anaData\"\r\n\r\n//获得工厂搜索框的options\r\nexport const FactoryList = ()=>{\r\n  //Werks\r\n  const Options = Werks.map(item=>{\r\n    return {value:item.ID,text:item.Name}\r\n  })\r\n  return Options;\r\n}\r\n//获得业务类别下拉框\r\nconst TypeList = (TypeInfo)=>{\r\n  //Werks\r\n  const Options = TypeInfo.map(item=>{\r\n    return {value:item.ID,text:item.Name}\r\n  })\r\n  return Options;\r\n} \r\n//获得工厂类别下拉列表\r\nexport const GetFalineList = ()=>{\r\n  return [\r\n    {label:'南线',value:'南线'},\r\n    {label:'北线',value:'北线'}\r\n  ]\r\n}\r\n//入库单的搜索表单配置\r\n/*\r\n    类型 \r\n    Input, 文本搜索框\r\n    Select, 选择框\r\n    DateTime, 日期框 带开始和结束日期，获取字段为 name[]\r\n    SelectFind, 带搜索功能的选择框\r\n*/\r\nexport const polistFielsds = [\r\n    {\r\n      key:'Fiels_0',\r\n      span:5,//input长度\r\n      name:'status',//Form的名字\r\n      label:'状态',//对应的label\r\n      //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n      type:'Select',//类型 Input,Select,DateTime 等等\r\n      Options:[//如果时Select时必须有这个\r\n        {value:'',text:''},\r\n        {value:'待确认',text:'待确认'},\r\n        {value:'已确认',text:'已确认'},\r\n      ],\r\n      defaultValue:'待确认',//默认值\r\n      placeholder:'状态',//不填写时显示的\r\n    },\r\n    {\r\n      key:'Fiels_1',\r\n      span:6,//input长度\r\n      name:'CPOID',//Form的名字\r\n      label:'采购单号',//对应的label\r\n      //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n      type:'Input',//类型 Input,Select,DateTime 等等\r\n      placeholder:'采购单号',//不填写时显示的\r\n    },\r\n    {\r\n      key:'Fiels_2',\r\n      span:8,//input长度\r\n      name:'DPODATE',//Form的名字\r\n      label:'订单日期',//对应的label\r\n      //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n      type:'DateTime',//类型 Input,Select,DateTime 等等\r\n      placeholder:'订单日期',//不填写时显示的\r\n    },\r\n    {\r\n      key:'Fiels_3',\r\n      span:12,//input长度\r\n      name:'CVenCode',//Form的名字\r\n      label:'供应商',//对应的label\r\n      //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n      type:'SelectFind',//类型 Input,Select,DateTime 等等\r\n      Options:[//如果是Select时必须有这个\r\n        {value:'',text:''},\r\n        {value:'602209',text:'602209--常州市金坛隆宇铸造厂(普通合伙)'},\r\n        {value:'602237',text:'602237--常州宏仁工具有限公司'},\r\n        {value:'602270',text:'602270--常州市聚商商贸有限公司'},\r\n        {value:'601140',text:'601140--常州凯瑟琳物资有限公司'},\r\n        {value:'604091',text:'604091--兴化市合鑫机械设备厂'},\r\n        {value:'601162',text:'601162--江苏亚美特传动科技股份有限公司'},\r\n      ],\r\n      defaultValue:'输入搜索',//默认值\r\n      placeholder:'供应商',//不填写时显示的\r\n    },\r\n]\r\n\r\n//用户搜索文本框\r\nexport const UserConfigFielsds=[\r\n  {\r\n    key:'Fiels_1',\r\n    span:20,//input长度\r\n    name:'UserName',//Form的名字\r\n    label:'用户名',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'用户名',//不填写时显示的\r\n  },\r\n]\r\n//MRP表搜索框\r\nexport const MRPFielsds = (TypeInfo)=>{\r\n\r\n  return [\r\n    {\r\n      key:'Fiels_2',\r\n      span:5,//input长度\r\n      name:'TypeID',//Form的名字\r\n      label:'业务',\r\n      type:'SelectFind',//类型 Input,Select,DateTime 等等\r\n      Options:TypeList(TypeInfo),\r\n      defaultValue:'输入搜索',//默认值\r\n      placeholder:'业务',//不填写时显示的\r\n    },\r\n    {\r\n        key:'Fiels_3',\r\n        span:4,//input长度\r\n        name:'MRP',//Form的名字\r\n        label:'MRP',//对应的label\r\n        //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n        type:'Input',//类型 Input,Select,DateTime 等等\r\n        placeholder:'MRP',//不填写时显示的\r\n    }\r\n  ]\r\n} \r\n//WBInfo 搜索框\r\nexport const WBInfoFielsds=[\r\n  {\r\n    key:'Fiels_2',\r\n    span:4,//input长度\r\n    name:'Matnr',//Form的名字\r\n    label:'物料编码',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'物料编码',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_3',\r\n    span:4,//input长度\r\n    name:'Maktx',//Form的名字\r\n    label:'物料名称',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'物料名称',//不填写时显示的\r\n  },\r\n  // {\r\n  //   key:'Fiels_4',\r\n  //   span:4,//input长度\r\n  //   name:'Group',//Form的名字\r\n  //   label:'班组',//对应的label\r\n  //   //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n  //   type:'Input',//类型 Input,Select,DateTime 等等\r\n  //   placeholder:'班组',//不填写时显示的\r\n  // }\r\n]\r\n//BjInfo 钣金需求 搜索框\r\nexport const BjInfoFielsds=[\r\n  {\r\n    key:'Fiels_1',\r\n    span:6,//input长度\r\n    name:'Prooerty',//Form的名字\r\n    label:'属性',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'属性',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_2',\r\n    span:6,//input长度\r\n    name:'FirstCode',//Form的名字\r\n    label:'一层编码',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'一层编码',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_3',\r\n    span:6,//input长度\r\n    name:'FirstName',//Form的名字\r\n    label:'一层名称',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'一层名称',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_4',\r\n    span:6,//input长度\r\n    name:'SecondCode',//Form的名字\r\n    label:'二层编码',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'二层编码',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_5',\r\n    span:6,//input长度\r\n    name:'SecondName',//Form的名字\r\n    label:'二层名称',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'二层名称',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_6',\r\n    span:6,//input长度\r\n    name:'ThirdCode',//Form的名字\r\n    label:'三层编码',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'三层编码',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_7',\r\n    span:6,//input长度\r\n    name:'ThirdName',//Form的名字\r\n    label:'三层名称',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'三层名称',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_8',\r\n    span:6,//input长度\r\n    name:'FourthCode',//Form的名字\r\n    label:'四层编码',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'四层编码',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_9',\r\n    span:6,//input长度\r\n    name:'FourthName',//Form的名字\r\n    label:'四层名称',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'四层名称',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_10',\r\n    span:6,//input长度\r\n    name:'FifthCode',//Form的名字\r\n    label:'五层编码',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'五层编码',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_11',\r\n    span:6,//input长度\r\n    name:'FifthName',//Form的名字\r\n    label:'五层名称',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'五层名称',//不填写时显示的\r\n  },\r\n]\r\n//JjInfo 机加需求表\r\nexport const JjInfoFielsds=[\r\n  {\r\n    key:'Fiels_1',\r\n    span:6,//input长度\r\n    name:'Series',//Form的名字\r\n    label:'系列',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'系列',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_2',\r\n    span:6,//input长度\r\n    name:'Matnr',//Form的名字\r\n    label:'子键物料号',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'子键物料号',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_3',\r\n    span:6,//input长度\r\n    name:'Maktx',//Form的名字\r\n    label:'子键物料描述',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'子键物料描述',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_4',\r\n    span:6,//input长度\r\n    name:'Group',//Form的名字\r\n    label:'班组',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'班组',//不填写时显示的\r\n  },\r\n]\r\n//CgInfo 采购需求表\r\nexport const CgInfoFielsds=[\r\n  {\r\n    key:'Fiels_1',\r\n    span:6,//input长度\r\n    name:'Matnr',//Form的名字\r\n    label:'物料编码',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'物料编码',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_2',\r\n    span:6,//input长度\r\n    name:'Budat',//Form的名字\r\n    label:'需求日期',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'DateTime',//类型 Input,Select,DateTime 等等\r\n    placeholder:'需求日期',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_3',\r\n    span:6,//input长度\r\n    name:'MRP',//Form的名字\r\n    label:'MRP控制者',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'MRP控制者',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_6',\r\n    span:6,//input长度\r\n    name:'Lifnr',//Form的名字\r\n    label:'供应商代码',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'供应商代码',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_7',\r\n    span:6,//input长度\r\n    name:'Name1',//Form的名字\r\n    label:'供应商名称',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'供应商名称',//不填写时显示的\r\n  },\r\n]\r\n//机加需求表 搜索框\r\nexport const V_JjInfoFielsds=[\r\n  {\r\n    key:'Fiels_1',\r\n    span:6,//input长度\r\n    name:'Series',//Form的名字\r\n    label:'型号',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'型号',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_2',\r\n    span:6,//input长度\r\n    name:'Matnr',//Form的名字\r\n    label:'子键物料号',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'子键物料号',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_3',\r\n    span:6,//input长度\r\n    name:'Maktx',//Form的名字\r\n    label:'子键物料描述',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'子键物料描述',//不填写时显示的\r\n  }\r\n]\r\n//采购需求表 搜索框\r\nexport const V_CgInfoFielsds=[\r\n  {\r\n    key:'Fiels_1',\r\n    span:6,//input长度\r\n    name:'Matnr',//Form的名字\r\n    label:'物料编码',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'物料编码',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_2',\r\n    span:6,//input长度\r\n    name:'Maktx',//Form的名字\r\n    label:'物料描述',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'物料描述',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_3',\r\n    span:6,//input长度\r\n    name:'Budat',//Form的名字\r\n    label:'需求日期',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'DateTime',//类型 Input,Select,DateTime 等等\r\n    placeholder:'需求日期',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_6',\r\n    span:6,//input长度\r\n    name:'Lifnr',//Form的名字\r\n    label:'供应商代码',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'供应商代码',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_7',\r\n    span:6,//input长度\r\n    name:'Name1',//Form的名字\r\n    label:'供应商名称',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'供应商名称',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_8',\r\n    span:6,//input长度\r\n    name:'MRP',//Form的名字\r\n    label:'MRP控制者',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'MRP控制者',//不填写时显示的\r\n  },\r\n]\r\n//操作记录\r\nexport const V_LogInfoFielsds=[\r\n  {\r\n    key:'Fiels_1',\r\n    span:6,//input长度\r\n    name:'TypeName',//Form的名字\r\n    label:'操作类型',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'操作类型',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_2',\r\n    span:6,//input长度\r\n    name:'DateTime1',//Form的名字\r\n    label:'操作时间',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'DateTime',//类型 Input,Select,DateTime 等等\r\n    placeholder:'操作时间',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_3',\r\n    span:6,//input长度\r\n    name:'UserName',//Form的名字\r\n    label:'操作人',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'操作人',//不填写时显示的\r\n  }\r\n]\r\nexport const DdOrder = [\r\n  {\r\n    key:'Fiels_2',\r\n    span:6,//input长度\r\n    name:'DateTime1',//Form的名字\r\n    label:'计划月份',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'DateTime',//类型 Input,Select,DateTime 等等\r\n    placeholder:'计划月份',//不填写时显示的\r\n  },\r\n  {\r\n    key:'Fiels_3',\r\n    span:6,//input长度\r\n    name:'status',//Form的名字\r\n    label:'是否生效',//对应的label\r\n    //rules:[{ required: true,message: 'Input something!',}],//对应规则\r\n    type:'Input',//类型 Input,Select,DateTime 等等\r\n    placeholder:'是否生效',//不填写时显示的\r\n  }\r\n]","import React, { Component } from 'react'\r\nimport { Table, Button, Modal, Form, Input, Select, message } from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n//引入样式\r\nimport './index.less'\r\n//引入自定义组件\r\nimport AdvancedSearchForm from '../../components/AdvancedSearchForm'\r\n//引入工具\r\nimport { getPageRoles, isOpt, ConvertFomrData,downloadDemoFile} from '../../utils'\r\n//引入API\r\nimport { getWBInfo, editWBInfo, addWBInfo ,delWBInfo,delWBInfos} from '../../api'\r\n//引入模拟数据\r\n//import { WBInfo } from '../../anaData'\r\n//引入配置\r\nimport { WBInfo_columns } from '../../config/table-columns'\r\nimport { WBInfoFielsds } from '../../config/form-Fields'\r\n\r\nconst { Option } = Select;\r\nconst { confirm } = Modal;\r\nexport default class Matrial extends Component {\r\n    formRef = React.createRef();\r\n    state = {\r\n        dataSource: [],\r\n        dataTotal: 0,\r\n        loading: true,\r\n        isModalEditShow: false,//控制编辑对话框的显示\r\n        isModalDelShow:false,\r\n        ModalTitle: '',\r\n        WBInfo_columns: [],\r\n        selectedRowKeys:[],\r\n        Fuc_Exel: false,\r\n        Fuc_Add: false,\r\n        Fuc_Edit: false,\r\n        Fuc_Del: false\r\n    }\r\n    //搜索数据\r\n    SearchData = async (formData) => {\r\n        let { Fuc_Exel, Fuc_Add, Fuc_Edit, Fuc_Del} = this.state;\r\n        const { pathname } = this.props.location;\r\n        this.Roles = await getPageRoles(pathname);\r\n        if (isOpt(this.Roles, \"Excel导入\")) {\r\n            Fuc_Exel = true;\r\n        }\r\n        if (isOpt(this.Roles, \"新建\")) {\r\n            Fuc_Add = true;\r\n        }\r\n        if (isOpt(this.Roles, \"编辑\")) {\r\n            Fuc_Edit = true;\r\n        }\r\n        if (isOpt(this.Roles, \"删除\")) {\r\n            Fuc_Del = true;\r\n        }\r\n        if(Fuc_Edit||Fuc_Del){\r\n            WBInfo_columns.push({\r\n                title: '操作',\r\n                width: 50,\r\n                fixed: 'right',\r\n                dataIndex: 'operation',\r\n                render: (_, record) => {\r\n                    return (\r\n                        <div style={{ textAlign: 'center' }}>\r\n                            {Fuc_Del?<Button size=\"small\" type=\"primary\" onClick={() => this.ModalDel(record,this)} danger>删除</Button>:\"\"}\r\n                            &emsp;\r\n                            {Fuc_Edit?<Button size=\"small\" type=\"primary\" onClick={() => this.ModalEdit(record)} >编辑</Button>:\"\"}\r\n                        </div>\r\n                    )\r\n                }\r\n            })\r\n        }\r\n        if (formData === undefined) {\r\n            formData = new FormData();\r\n        } else {\r\n            formData = ConvertFomrData(formData);\r\n        }\r\n        this.setState({ loading: true })\r\n        const result = await getWBInfo(formData);\r\n        \r\n        if (result.status === 0) {\r\n            const { WBInfo } = result.data;\r\n            this.setState({ dataSource: WBInfo, loading: false,WBInfo_columns,Fuc_Add, Fuc_Exel, Fuc_Edit, Fuc_Del})\r\n        } else {\r\n            message.error(\"服务器无响应\");\r\n            this.setState({loading: false,WBInfo_columns,Fuc_Add, Fuc_Exel, Fuc_Edit, Fuc_Del})\r\n        }\r\n\r\n    }\r\n    layout = {\r\n        labelCol: {\r\n            span: 4,\r\n        },\r\n        wrapperCol: {\r\n            span: 16,\r\n        },\r\n    };\r\n    //编辑对话框\r\n    ModalEdit = (record) => {\r\n        this.setState({ isModalEditShow: true, ModalTitle: '编辑' }, () => {\r\n            this.formRef.current.setFieldsValue(record)\r\n        })\r\n    }\r\n    //新建按钮 显示新建对话框\r\n    ModalAdd = () => {\r\n        this.setState({ isModalEditShow: true, ModalTitle: '新建' }, () => {\r\n            this.formRef.current.resetFields()\r\n        })\r\n    }\r\n    //删除对话框\r\n    ModalDel =  (record,app) => {\r\n        confirm({\r\n            title: '是否删除数据?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '是',\r\n            okType: 'danger',\r\n            cancelText: '否',\r\n            async onOk() {\r\n                //record.ID\r\n                const formData = new FormData();\r\n                formData.append(\"ID\",record.ID);\r\n                const result = await delWBInfo(formData);\r\n                if(result.status===0){\r\n                    message.success(\"删除成功\");\r\n                    Modal.destroyAll();\r\n                    app.SearchData();\r\n                }else{\r\n                    message.error(\"服务器无响应\");\r\n                    Modal.destroyAll();\r\n                }\r\n            },\r\n            onCancel() {\r\n            },\r\n        })\r\n    }\r\n    ModalDels = (app)=>{\r\n        confirm({\r\n            title: '是否批量删除数据?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '是',\r\n            okType: 'danger',\r\n            cancelText: '否',\r\n            async onOk() {\r\n                const formData = new FormData();\r\n                const IDS =app.state.selectedRowKeys.join(',');\r\n                if(IDS===\"\"){\r\n                    message.warn(\"没有选择数据\");\r\n                    Modal.destroyAll();\r\n                    return;\r\n                }\r\n                formData.append(\"IDS\",IDS);\r\n                const result = await delWBInfos(formData);\r\n                if(result.status===0){\r\n                    message.success(\"删除成功\");\r\n                    Modal.destroyAll();\r\n                    app.SearchData();\r\n                }else{\r\n                    message.error(\"服务器无响应\");\r\n                    Modal.destroyAll();\r\n                }\r\n            },\r\n            onCancel() {\r\n                //console.log('Cancel');\r\n            },\r\n        })\r\n        \r\n    }\r\n\r\n    //Excel导入对话框\r\n    ModalExcel = () => {\r\n        const { history } = this.props;\r\n        //对应的url需要填写\r\n        history.push({ pathname: \"/Admin/Upload/ExcelUp\", columns: WBInfo_columns, submitUrl: \"WBInfo\",subTitle:\"物料班组对照维护\"});\r\n    }\r\n    //点击 编辑/新建 对话框OK\r\n    ModalEditOk = async () => {\r\n        const form = this.formRef.current;\r\n        try {\r\n            await form.validateFields();\r\n        } catch (errorInfo) {\r\n            message.warn('请检查数据的正确性')\r\n            return;\r\n        }\r\n        //获取数据发送给服务端\r\n        //const {WerksID,TypeID,MRP,ID} = form.getFieldsValue(true);\r\n        const { ModalTitle } = this.state;\r\n        const formData = ConvertFomrData(form.getFieldsValue(true))\r\n        if (ModalTitle === '编辑') {\r\n            const result = await editWBInfo(formData);\r\n            if (result.status === 0) {\r\n                message.success(\"编辑成功\");\r\n                this.SearchData();\r\n            }else{\r\n                message.error(\"服务器无响应\");\r\n            }\r\n        } else if (ModalTitle === '新建') {\r\n            const result = await addWBInfo(formData);\r\n            if (result.status === 0) {\r\n                message.success(\"添加成功\");\r\n                this.SearchData();\r\n            }else{\r\n                message.error(\"服务器无响应\");\r\n            }\r\n        }\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n    ModalEditCancel = () => {\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n    getOptions = (options) => {\r\n        return options().map(item => <Option key={item.value + item.text} value={item.value}>{item.text}</Option>)\r\n    }\r\n    onSelectChange = selectedRowKeys =>{\r\n        this.setState({ selectedRowKeys });\r\n    }\r\n    //加载\r\n    componentDidMount = async () => {\r\n        \r\n        this.SearchData();\r\n        \r\n    }\r\n    DownLoadDemo = ()=>{\r\n        downloadDemoFile(\"物料班组.xlsx\");\r\n    }\r\n    componentWillUnmount = () => {\r\n        const {WBInfo_columns,Fuc_Edit,Fuc_Del} = this.state;\r\n\r\n        if(Fuc_Edit||Fuc_Del){\r\n            WBInfo_columns.pop();\r\n            this.setState({WBInfo_columns})\r\n        }\r\n    }\r\n    render() {\r\n        const { dataSource, loading, ModalTitle, isModalEditShow,selectedRowKeys ,Fuc_Exel, Fuc_Add,Fuc_Del,WBInfo_columns} = this.state;\r\n        const rowSelection = {\r\n            selectedRowKeys,\r\n            onChange: this.onSelectChange,\r\n          };\r\n        while(WBInfo_columns.length>4){\r\n            WBInfo_columns.pop();\r\n        }\r\n        return (\r\n            <div className=\"main\">\r\n                <div>\r\n                    <AdvancedSearchForm SearchData={this.SearchData} Fielsds={WBInfoFielsds} form={this.form} />\r\n                </div>\r\n                <div className=\"toolArea\">\r\n                    {\r\n                        Fuc_Add ? <Button type=\"primary\" onClick={() => this.ModalAdd()}>新建</Button> : \"\"\r\n                    }\r\n                    &emsp;\r\n                    {\r\n                        Fuc_Exel ? <Button type=\"primary\" onClick={() => this.ModalExcel()}>Excel导入</Button> : \"\"\r\n                    }\r\n                    &emsp;\r\n                    <Button type=\"primary\" onClick={()=>this.DownLoadDemo()} >模板下载</Button>\r\n                    &emsp;\r\n                    {Fuc_Del?<Button type=\"primary\" danger onClick={()=>this.ModalDels(this)}>批量删除</Button>:\"\"}\r\n                </div>\r\n                <Table\r\n                    rowSelection={rowSelection}\r\n                    dataSource={dataSource}\r\n                    bordered\r\n                    rowKey=\"ID\"\r\n                    sticky={true}\r\n                    columns={WBInfo_columns}\r\n                    size=\"middle\"\r\n                    loading={loading}\r\n                    pagination={false}\r\n                >\r\n                </Table>\r\n                <Modal title={ModalTitle} visible={isModalEditShow} onOk={() => this.ModalEditOk()} onCancel={() => this.ModalEditCancel()} >\r\n                    <Form ref={this.formRef}  {...this.layout} >\r\n                        <Form.Item\r\n                            name=\"Matnr\"\r\n                            label=\"物料编码\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入物料编码'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Maktx\"\r\n                            label=\"物料名称\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入物料名称'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Bz\"\r\n                            label=\"班组\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入班组'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Table, Button, Modal, Form, Input, Select,message} from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n//自定义方法\r\nimport '../../utils'\r\n//引入自定义组件\r\nimport AdvancedSearchForm from '../../components/AdvancedSearchForm'\r\n//引入工具\r\nimport { getPageRoles, isOpt, ConvertFomrData } from '../../utils'\r\n//引入API\r\nimport { getV_MRPInfo, getTypeInfo ,addMRPInfo, editMRPInfo ,delMRPInfo,delMRPInfos} from '../../api'\r\n//模拟数据\r\n// import { MRPInfo } from '../../anaData'\r\n// import { FactoryList, TypeList } from '../../config/form-Fields'\r\n//配置 \r\nimport { V_MRPInfo_columns } from '../../config/table-columns'\r\nimport { MRPFielsds } from '../../config/form-Fields'\r\nconst { Option } = Select;\r\nconst { confirm } = Modal;\r\nexport default class MRP extends Component {\r\n    formRef = React.createRef();\r\n    state = {\r\n        dataSource: [],\r\n        dataTotal: 0,\r\n        TypeInfo:[],\r\n        loading: true,\r\n        isModalEditShow: false,//控制编辑对话框的显示\r\n        ModalTitle: '',\r\n        V_MRPInfo_columns:[],\r\n        selectedRowKeys:[],\r\n        Fuc_Add: false,\r\n        Fuc_Edit: false,\r\n        Fuc_Del: false\r\n    }\r\n    //搜索数据\r\n    SearchData = async (formData) => {\r\n        let {Fuc_Add, Fuc_Edit, Fuc_Del} = this.state;\r\n        const { pathname } = this.props.location;\r\n        this.Roles = await getPageRoles(pathname);\r\n        if (isOpt(this.Roles, \"新建\")) {\r\n            Fuc_Add = true;\r\n        }\r\n        if (isOpt(this.Roles, \"编辑\")) {\r\n            Fuc_Edit = true;\r\n        }\r\n        if (isOpt(this.Roles, \"删除\")) {\r\n            Fuc_Del = true;\r\n        }\r\n        if(Fuc_Edit||Fuc_Del){\r\n                V_MRPInfo_columns.push({\r\n                    title: '操作',\r\n                    width: 50,\r\n                    fixed: 'right',\r\n                    dataIndex: 'operation',\r\n                    render: (_, record) => {\r\n                        return (\r\n                            <div style={{ textAlign: 'center' }}>\r\n                                {Fuc_Del?<Button size=\"small\" type=\"primary\" onClick={() => this.ModalDel(record,this)} danger>删除</Button>:\"\"}\r\n                                &emsp;\r\n                                {Fuc_Edit?<Button size=\"small\" type=\"primary\" onClick={() => this.ModalEdit(record)} >编辑</Button>:\"\"}\r\n                            </div>\r\n                        )\r\n                    }\r\n                })\r\n        }\r\n        if (formData === undefined) {\r\n            formData = new FormData();\r\n        } else {\r\n            formData = ConvertFomrData(formData);\r\n        }\r\n        this.setState({ loading: true });\r\n        const result = await getV_MRPInfo(formData);\r\n        const result2 = await getTypeInfo();\r\n        if(result.status === 0){\r\n            const { V_MRPInfo } = result.data;\r\n            const { TypeInfo } = result2.data;\r\n            this.setState({ dataSource: V_MRPInfo, TypeInfo:TypeInfo ,loading: false,V_MRPInfo_columns,Fuc_Add, Fuc_Edit, Fuc_Del})\r\n        }else{\r\n            message.error(\"服务器无响应\");\r\n            this.setState({loading: false,V_MRPInfo_columns,Fuc_Add, Fuc_Edit, Fuc_Del})\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n        this.SearchData();\r\n    }\r\n    componentWillUnmount = () => {\r\n        const {Fuc_Edit,Fuc_Del} = this.state;\r\n        if(Fuc_Edit||Fuc_Del){\r\n            V_MRPInfo_columns.pop();\r\n            this.setState(V_MRPInfo_columns);\r\n        }\r\n        \r\n    }\r\n    //编辑按钮 显示编辑对话框\r\n    ModalEdit = (record) => {\r\n        this.setState({ isModalEditShow: true, ModalTitle: '编辑' }, () => {\r\n            this.formRef.current.setFieldsValue(record)\r\n        })\r\n    }\r\n    //新建按钮 显示新建对话框\r\n    ModalAdd = () => {\r\n        this.setState({ isModalEditShow: true, ModalTitle: '新建' }, () => {\r\n            this.formRef.current.resetFields()\r\n        })\r\n    }\r\n    //删除按钮\r\n    ModalDel = (record,app) => {\r\n        confirm({\r\n            title: '是否删除数据?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '是',\r\n            okType: 'danger',\r\n            cancelText: '否',\r\n            async onOk() {\r\n                const formData = new FormData();\r\n                formData.append(\"ID\",record.ID);\r\n                const result = await delMRPInfo(formData);\r\n                if(result.status===0){\r\n                    message.success(\"删除成功\");\r\n                    Modal.destroyAll();\r\n                    app.SearchData();\r\n                }else{\r\n                    message.error(\"服务器无响应\");\r\n                    Modal.destroyAll();\r\n                }\r\n            },\r\n            onCancel() {\r\n                //console.log('Cancel');\r\n            },\r\n        })\r\n    }\r\n    ModalDels = (app)=>{\r\n        confirm({\r\n            title: '是否批量删除数据?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '是',\r\n            okType: 'danger',\r\n            cancelText: '否',\r\n            async onOk() {\r\n                const formData = new FormData();\r\n                const IDS =app.state.selectedRowKeys.join(',');\r\n                if(IDS===\"\"){\r\n                    message.warn(\"没有选择数据\");\r\n                    Modal.destroyAll();\r\n                    return;\r\n                }\r\n                formData.append(\"IDS\",IDS);\r\n                const result = await delMRPInfos(formData);\r\n                if(result.status===0){\r\n                    message.success(\"删除成功\");\r\n                    Modal.destroyAll();\r\n                    app.SearchData();\r\n                }else{\r\n                    message.error(\"服务器无响应\");\r\n                    Modal.destroyAll();\r\n                }\r\n            },\r\n            onCancel() {\r\n                //console.log('Cancel');\r\n            },\r\n        })\r\n        \r\n    }\r\n    //点击 编辑/新建 对话框OK\r\n    ModalEditOk = async ()  => {\r\n        const form = this.formRef.current;\r\n        try {\r\n            const values = await form.validateFields();\r\n            console.log(values);\r\n        } catch (errorInfo) {\r\n            message.warn('请检查数据的正确性')\r\n            return;\r\n        }\r\n        //获取数据发送给服务端\r\n        //const {WerksID,TypeID,MRP,ID} = form.getFieldsValue(true);\r\n        const { ModalTitle } = this.state;\r\n        const formData = ConvertFomrData(form.getFieldsValue(true))\r\n        if (ModalTitle === '编辑') {\r\n            const result = await editMRPInfo(formData);\r\n            if (result.status === 0) {\r\n                message.success(\"编辑成功\");\r\n                this.SearchData();\r\n            }else{\r\n                message.error(\"服务器无响应\");\r\n            }\r\n        } else if (ModalTitle === '新建') {\r\n            const result = await addMRPInfo(formData);\r\n            if (result.status === 0) {\r\n                message.success(\"添加成功\");\r\n                this.SearchData();\r\n            }else{\r\n                message.error(\"服务器无响应\");\r\n            }\r\n        }\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n    //点击编辑/新建 对话框 取消\r\n    ModalEditCancel = () => {\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n    getOptions = (options) => {\r\n        if(options.length>0){\r\n            return options.map(item => <Option key={item.ID} value={item.ID}>{item.Name}</Option>)\r\n        }else{\r\n            return <Option>数据获取中</Option>\r\n        }\r\n        \r\n    }\r\n    onSelectChange = selectedRowKeys =>{\r\n        this.setState({ selectedRowKeys });\r\n    }\r\n    \r\n    render() {\r\n        const { dataSource, loading, isModalEditShow, ModalTitle,TypeInfo,Fuc_Add,Fuc_Del,selectedRowKeys} = this.state;\r\n        const rowSelection = {\r\n            selectedRowKeys,\r\n            onChange: this.onSelectChange,\r\n          };\r\n        if(this.state.V_MRPInfo_columns.length>3){\r\n            this.state.V_MRPInfo_columns.pop();\r\n        }\r\n        return (\r\n            <div className=\"main\">\r\n                <div>\r\n                    <AdvancedSearchForm SearchData={this.SearchData} Fielsds={MRPFielsds(TypeInfo)} form={this.form} />\r\n                </div>\r\n                <div className=\"toolArea\">\r\n                    {Fuc_Add?<Button type=\"primary\" onClick={() => this.ModalAdd()}>新建</Button>:\"\"}\r\n                    &emsp;\r\n                    {Fuc_Del?<Button type=\"primary\" danger onClick={()=>this.ModalDels(this)}>批量删除</Button>:\"\"}\r\n                </div>\r\n                <Table\r\n                    rowSelection={rowSelection}\r\n                    dataSource={dataSource}\r\n                    bordered\r\n                    rowKey=\"ID\"\r\n                    sticky={true}\r\n                    columns={this.state.V_MRPInfo_columns}\r\n                    size=\"middle\"\r\n                    loading={loading}\r\n                    pagination={false}\r\n                >\r\n                </Table>\r\n                <Modal title={ModalTitle} visible={isModalEditShow} onOk={() => this.ModalEditOk()} onCancel={() => this.ModalEditCancel()} >\r\n                    <Form ref={this.formRef}  >\r\n                        <Form.Item\r\n                            name=\"TypeID\"\r\n                            label=\"业务\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请选择业务'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Select\r\n                                showSearch\r\n                                style={{ width: 300 }}\r\n                                placeholder=\"Select a person\"\r\n                                optionFilterProp=\"children\"\r\n                            >\r\n                                {this.getOptions(TypeInfo)}\r\n                            </Select>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"MRP\"\r\n                            label=\"MRP\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入MRP'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Table, Button,Tooltip,message,Modal} from 'antd'\r\nimport { SearchOutlined } from '@ant-design/icons';\r\n//引入自定义组件\r\nimport AdvancedSearchForm from '../../components/AdvancedSearchForm'\r\n//引入API\r\nimport { getLogInfo} from '../../api'\r\n//引入工具\r\nimport {ConvertFomrData} from '../../utils'\r\n//配置 \r\nimport { V_LogInfo_columns } from '../../config/table-columns'\r\nimport { V_LogInfoFielsds } from '../../config/form-Fields'\r\n\r\nexport default class OptRecord extends Component {\r\n    SearchDataTemp = {};\r\n    state = {\r\n        dataSource: [],\r\n        dataTotal: 0,\r\n        loading: false,\r\n        isModalShow:false,\r\n        ModalData:{}, \r\n        current:1,\r\n        V_LogInfo_columns:[] \r\n    }\r\n    SearchData = async (formData)=>{\r\n        if(formData===undefined){\r\n            formData = ConvertFomrData({page:1,pageSize:20});\r\n        }else{\r\n            if(formData.page===undefined || formData.pageSize===undefined){//说明不是翻页请求 把查询条件存入\r\n                this.SearchDataTemp = formData;\r\n                this.setState({current:1})\r\n            }else{//说明是翻页请求 加入历史查询条件\r\n                \r\n                formData = {...this.SearchDataTemp,...formData};\r\n                this.setState({current:formData.page});\r\n            }\r\n            console.dir(formData);\r\n            formData = ConvertFomrData(formData);\r\n        }\r\n        V_LogInfo_columns.push({\r\n            title: '详细',\r\n            width: 20,\r\n            fixed: 'right',\r\n            dataIndex: 'operation',\r\n            render: (_, record) => {\r\n                return (\r\n                    <div style={{ textAlign: 'center' }}>\r\n                        <Tooltip placement=\"top\" title=\"详细\" >\r\n                            <Button size=\"small\" icon={<SearchOutlined />} onClick={() => this.ModalOpen(record)} ></Button>\r\n                        </Tooltip>\r\n                    </div>\r\n                )\r\n            }\r\n        })\r\n        this.setState({loading:true});\r\n        const result = await getLogInfo(formData);\r\n        if(result.status===0){\r\n            const {V_LogInfo,V_LogInfo_Count} = result.data;\r\n            this.setState({dataSource:V_LogInfo,loading:false,V_LogInfo_columns,dataTotal:V_LogInfo_Count})\r\n        }else{\r\n            message.error(\"服务器无响应\");\r\n            this.setState({loading:false,V_LogInfo_columns})\r\n        }\r\n    }\r\n\r\n    ModalOpen = (record)=>{\r\n        this.setState({isModalShow:true,ModalData:record})\r\n    }\r\n    ModalOK = ()=>{\r\n        this.setState({isModalShow:false})\r\n    }\r\n    ModalCancel = ()=>{\r\n        this.setState({isModalShow:false})\r\n    }\r\n    componentDidMount = ()=>{\r\n        this.SearchData();\r\n    }\r\n    componentWillUnmount = ()=>{\r\n        let {V_LogInfo_columns} = this.state;\r\n        V_LogInfo_columns.pop();\r\n        this.setState({V_LogInfo_columns});\r\n    }\r\n    render() {\r\n        const {dataSource,dataTotal,loading,isModalShow,ModalData,current} = this.state;\r\n        if(V_LogInfo_columns.length>6){\r\n            V_LogInfo_columns.pop();\r\n        }\r\n        return (\r\n            <div className=\"main\">\r\n                <div>\r\n                    <AdvancedSearchForm SearchData={this.SearchData} Fielsds={V_LogInfoFielsds} form={this.form} />\r\n                </div> \r\n                <Table\r\n                    dataSource={dataSource} \r\n                    bordered \r\n                    rowKey = \"ID\"\r\n                    sticky={true}\r\n                    columns={V_LogInfo_columns}\r\n                    //scroll={{y: 600 }} \r\n                    size=\"middle\"\r\n                    loading = {loading}\r\n                    pagination={{\r\n                        position: ['bottomCenter'],\r\n                        pageSizeOptions:[20],\r\n                        current:current,\r\n                        total:dataTotal,\r\n                        showTotal:(total, range) => `一共 ${total} 条数据`,\r\n                        pageSize:20,\r\n                        onChange:(page,pageSize)=>{\r\n                            this.SearchData({page:page,pageSize:pageSize});\r\n                        }\r\n                    }}\r\n                >\r\n                </Table>\r\n                <Modal title=\"详细\" visible={isModalShow} okText=\"确认\" cancelText=\"关闭\" onOk={()=>this.ModalOK()} onCancel={()=>this.ModalCancel()}>\r\n                    <h2>操作类型</h2><p>&emsp;&emsp;{ModalData.TypeName}</p>\r\n                    <h2>操作人</h2><p>&emsp;&emsp;{ModalData.UserName}</p>\r\n                    <h2>操作人编码</h2><p>&emsp;&emsp;{ModalData.UserCode}</p>\r\n                    <h2>操作时间</h2><p>&emsp;&emsp;{ModalData.DateTime1}</p>\r\n                    <h2>操作内容</h2><p>&emsp;&emsp;{ModalData.Contents}</p>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport moment from 'moment';\r\nimport { Table, Form, Input, DatePicker, Button, Tooltip, message } from 'antd'\r\nimport { FolderOpenOutlined } from '@ant-design/icons';\r\n//引入API\r\nimport { getUploadInfo } from '../../api'\r\n//引入工具\r\nimport { ConvertFomrData } from '../../utils'\r\n//配置 \r\nimport { UploadInfo_columns } from '../../config/table-columns'\r\nimport { SERVER_ADDRESS_FILEPATH } from '../../utils/StaticSet'\r\nexport default class Report1 extends Component {\r\n    formRef = React.createRef();\r\n    dataSourceAll = [];\r\n    state = {\r\n        dataSource: [],\r\n        dataTotal: 0,\r\n        loading: false,\r\n    }\r\n    SearchData = async (formData) => {\r\n        if (formData === undefined) {\r\n            formData = new FormData();\r\n        } else {\r\n            formData = ConvertFomrData(formData);\r\n        }\r\n        UploadInfo_columns.push({\r\n            title: '操作',\r\n            width: 25,\r\n            fixed: 'right',\r\n            dataIndex: 'operation',\r\n            render: (_, record) => {\r\n                return (\r\n                    <div style={{ textAlign: 'center' }}>\r\n                        <Tooltip placement=\"top\" title=\"打开\" >\r\n                            <Button size=\"small\" icon={<FolderOpenOutlined />} onClick={() => this.ModalOpen(record)} ></Button>\r\n                        </Tooltip>\r\n\r\n                    </div>\r\n                )\r\n            }\r\n        })\r\n\r\n        this.setState({ loading: true })\r\n        const result = await getUploadInfo(formData);\r\n        if (result.status === 0) {\r\n            const { UploadInfo } = result.data;\r\n            this.setState({ dataSource: UploadInfo, loading: false })\r\n            this.dataSourceAll = UploadInfo;\r\n        } else {\r\n            message.error(\"服务器无响应\");\r\n            this.setState({ loading: false })\r\n        }\r\n    }\r\n    //搜索数据 \r\n    SearchDataForm = async (FormData) => {\r\n        let { dataSource } = this.state;\r\n        const form = this.formRef.current;\r\n        const { FileName, Budat } = form.getFieldsValue(true);\r\n        dataSource = this.dataSourceAll.filter(item => {\r\n            if (FileName !== \"\" && FileName !== undefined) {\r\n                if (item.FileName.indexOf(FileName) === -1) {\r\n                    return false\r\n                }\r\n            }\r\n            if (Budat !== \"\" && Budat !== undefined) {\r\n                if (!moment(item.Budat).isBefore(Budat)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        })\r\n        this.setState({ dataSource: dataSource })\r\n    }\r\n    componentDidMount = () => {\r\n        this.SearchData();\r\n    }\r\n    componentWillUnmount = () => {\r\n        UploadInfo_columns.pop();\r\n        this.setState({ UploadInfo_columns });\r\n    }\r\n    ModalOpen = (record) => {\r\n        window.open(SERVER_ADDRESS_FILEPATH + record.FileName)\r\n    }\r\n    //编辑按钮 显示编辑对话框\r\n    ModalEdit = (record) => {\r\n        //record.path\r\n    }\r\n    formItemLayout = {\r\n        labelCol: { span: 2 },\r\n        wrapperCol: { span: 4 },\r\n    }\r\n    render() {\r\n        const { dataSource, loading } = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div>\r\n                    <Form ref={this.formRef}>\r\n                        <Form.Item\r\n                            style={{ display: 'inline-flex', width: 'calc(20% - 4px)' }}\r\n                            name=\"FileName\"\r\n                            label=\"文件名\"\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            style={{ display: 'inline-flex', width: 'calc(18% - 4px)', marginLeft: '8px' }}\r\n                            name=\"Budat\"\r\n                            label=\"上传日期\"\r\n                        >\r\n                            <DatePicker\r\n                                format=\"YYYY-MM-DD\"\r\n                            />\r\n                        </Form.Item>\r\n                        <Button type=\"primary\" onClick={() => { this.SearchDataForm() }}>查询</Button>\r\n                    </Form>\r\n                </div>\r\n                <Table\r\n                    dataSource={dataSource}\r\n                    bordered\r\n                    rowKey=\"ID\"\r\n                    sticky={true}\r\n                    //scroll={{ x: 2600}} \r\n                    columns={UploadInfo_columns}\r\n                    size=\"middle\"\r\n                    loading={loading}\r\n                    pagination={false}\r\n                >\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Table,message,Button} from 'antd'\r\nimport moment from 'moment'\r\n//引入工具\r\nimport {getPageRoles,isOpt,ConvertFomrData,downloadExcel} from '../../utils'\r\n//引入API \r\nimport {getV_BjInfo} from '../../api'\r\n//配置 \r\nimport { V_BjInfo_columns } from '../../config/table-columns'\r\n//模拟数据\r\n// import { BjInfo } from '../../anaData'\r\nexport default class Report2 extends Component {\r\n    state = { \r\n        dataSource: [],\r\n        V_BjInfo_columns:[],\r\n        dataTotal: 0,\r\n        Fuc_ExelOut:false,\r\n        current:1,\r\n        loading: true,\r\n    }\r\n    //搜索数据\r\n    SearchData = async (formData) => {\r\n        if(formData===undefined){\r\n            formData = ConvertFomrData({page:1,pageSize:50});\r\n        }else {\r\n            if(formData.page===undefined || formData.pageSize===undefined){//说明不是翻页请求 把查询条件存入\r\n                this.SearchDataTemp = formData;\r\n                this.setState({current:1})\r\n            }else{\r\n                formData = {...this.SearchDataTemp,...formData};\r\n                this.setState({current:formData.page});\r\n            }\r\n            formData = ConvertFomrData(formData);\r\n        }\r\n        this.setState({loading:true})\r\n        const result = await getV_BjInfo(formData);\r\n        if(result.status===0){\r\n            const {V_BjInfo,V_BjInfo_Count} = result.data;\r\n            this.setState({ dataSource: V_BjInfo,loading:false,V_BjInfo_columns:V_BjInfo_columns,dataTotal:V_BjInfo_Count})\r\n        }else{\r\n            this.setState({loading: false,V_BjInfo_columns})\r\n            message.error(\"服务器无响应\");\r\n        }\r\n    }\r\n    componentDidMount = async () => {\r\n        this.SearchData();\r\n        let {Fuc_ExelOut} = this.state;\r\n        const {pathname} = this.props.location;\r\n        this.Roles = await getPageRoles(pathname);\r\n        if(isOpt(this.Roles,\"Excel导出\")){\r\n            Fuc_ExelOut = true;\r\n        }\r\n        this.setState({Fuc_ExelOut})\r\n    }\r\n    ModalExcelOut = async ()=>{\r\n        //const {dataSource} = this.state; \r\n        const ColumsWch = [\r\n          {wch:10},\r\n          {wch:20},\r\n\t      {wch:45},\r\n\t      {wch:20},\r\n\t      {wch:45},\r\n\t      {wch:20},\r\n\t      {wch:45},\r\n          {wch:20},\r\n          {wch:45},\r\n          {wch:20},\r\n          {wch:45},\r\n          {wch:10},\r\n        ]\r\n        let formData = {...this.SearchDataTemp,...{page:1,pageSize:99999}};\r\n        formData = ConvertFomrData(formData);\r\n        const result = await getV_BjInfo(formData);\r\n        if(result.status===0){\r\n            const {V_BjInfo} = result.data;\r\n            V_BjInfo.forEach(item=>{\r\n                item.Datetime1 = moment(item.Datetime1).format(\"YYYYMMDD\");\r\n            })\r\n            downloadExcel(V_BjInfo,V_BjInfo_columns,ColumsWch,\"钣金需求单\");\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const { dataSource, loading,V_BjInfo_columns,Fuc_ExelOut,current,dataTotal} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"toolArea\">\r\n                    \r\n                    {\r\n                        Fuc_ExelOut?<Button type=\"primary\" onClick={() => this.ModalExcelOut()}>Excel导出</Button>:\"\"\r\n                    }\r\n                </div>\r\n                <Table\r\n                dataSource={dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                scroll={{ x: 3000,y:570}} \r\n                columns={V_BjInfo_columns}\r\n                size=\"middle\"\r\n                loading={loading}\r\n                pagination={{\r\n                    position: ['bottomCenter'],\r\n                    pageSizeOptions:[50],\r\n                    current:current,\r\n                    total:dataTotal,\r\n                    showTotal:(total, range) => `一共 ${total} 条数据`,\r\n                    pageSize:50,\r\n                    onChange:(page,pageSize)=>{\r\n                        this.SearchData({page:page,pageSize:pageSize});\r\n                    }\r\n                }}\r\n                >\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Table,message,Button} from 'antd'\r\n//引入自定义组件\r\nimport AdvancedSearchForm from '../../components/AdvancedSearchForm'\r\n//引入工具\r\nimport {getPageRoles,isOpt,ConvertFomrData,downloadExcel} from '../../utils'\r\n//引入API\r\nimport { getV_JjInfo} from '../../api'\r\n//配置 \r\nimport { V_JjInfo_columns } from '../../config/table-columns'\r\nimport { V_JjInfoFielsds } from '../../config/form-Fields'\r\n\r\nexport default class Report3 extends Component {\r\n    state = {\r\n        dataSource: [],\r\n        dataTotal: 0,\r\n        loading: true, \r\n        current:1,\r\n        Fuc_ExelOut:false,\r\n        V_JjInfo_columns:[],\r\n    }\r\n    //搜索数据\r\n    SearchData = async (formData) => {\r\n        if (formData === undefined) {\r\n            formData = ConvertFomrData({page:1,pageSize:50});\r\n        } else {\r\n            if(formData.page===undefined || formData.pageSize===undefined){//说明不是翻页请求 把查询条件存入\r\n                this.SearchDataTemp = formData;\r\n                this.setState({current:1})\r\n            }else{\r\n                formData = {...this.SearchDataTemp,...formData};\r\n                this.setState({current:formData.page});\r\n            }\r\n            formData = ConvertFomrData(formData);\r\n        }\r\n        this.setState({ loading: true });\r\n        const result = await getV_JjInfo(formData);\r\n        if(result.status === 0){\r\n            const { V_JjInfo,V_JjInfo_Count } = result.data;\r\n            this.setState({ dataSource: V_JjInfo,loading: false,V_JjInfo_columns:V_JjInfo_columns,dataTotal:V_JjInfo_Count})\r\n        }else{\r\n            this.setState({loading: false,V_JjInfo_columns})\r\n            message.error(\"服务器无响应\");\r\n        } \r\n    }\r\n    componentDidMount = async () => {\r\n        this.SearchData();\r\n        let {Fuc_ExelOut} = this.state;\r\n        const {pathname} = this.props.location;\r\n        this.Roles = await getPageRoles(pathname);\r\n        if(isOpt(this.Roles,\"Excel导出\")){\r\n            Fuc_ExelOut = true;\r\n        }\r\n        this.setState({Fuc_ExelOut})\r\n    }\r\n    ModalExcelOut = async ()=>{\r\n        //const {dataSource} = this.state; \r\n        const ColumsWch = [\r\n          {wch:15},\r\n\t      {wch:20},\r\n\t      {wch:45},\r\n\t      {wch:10},\r\n\t      {wch:10},\r\n\t      {wch:10},\r\n          {wch:10},\r\n        ]\r\n        let formData = {...this.SearchDataTemp,...{page:1,pageSize:99999}};\r\n        formData = ConvertFomrData(formData);\r\n        const result = await getV_JjInfo(formData);\r\n        if(result.status===0){\r\n            const {V_JjInfo} = result.data;\r\n            downloadExcel(V_JjInfo,V_JjInfo_columns,ColumsWch,\"机加需求单\");\r\n        }\r\n        \r\n    }\r\n    render() {\r\n        const { dataSource, loading,V_JjInfo_columns,Fuc_ExelOut,current,dataTotal} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div>\r\n                    <AdvancedSearchForm SearchData={this.SearchData} Fielsds={V_JjInfoFielsds} form={this.form} />\r\n                </div>\r\n                <div className=\"toolArea\">\r\n                    {\r\n                        Fuc_ExelOut?<Button type=\"primary\" onClick={() => this.ModalExcelOut()}>Excel导出</Button>:\"\"\r\n                    }\r\n                </div>\r\n                <Table\r\n                dataSource={dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                scroll={{ y: 460}} \r\n                columns={V_JjInfo_columns}\r\n                size=\"middle\"\r\n                loading={loading}\r\n                pagination={{\r\n                    position: ['bottomCenter'],\r\n                    pageSizeOptions:[50],\r\n                    current:current,\r\n                    total:dataTotal,\r\n                    showTotal:(total, range) => `一共 ${total} 条数据`,\r\n                    pageSize:50,\r\n                    onChange:(page,pageSize)=>{\r\n                        this.SearchData({page:page,pageSize:pageSize});\r\n                    }\r\n                }}\r\n                >\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Table ,message,Button} from 'antd'\r\n//引入自定义组件\r\nimport AdvancedSearchForm from '../../components/AdvancedSearchForm'\r\n//引入工具  \r\nimport {getPageRoles,isOpt,ConvertFomrData,downloadExcel} from '../../utils'\r\n//引入API\r\nimport { getV_CgInfo} from '../../api'\r\n//配置  \r\nimport { V_CgInfo_columns } from '../../config/table-columns'\r\n\r\nimport { V_CgInfoFielsds } from '../../config/form-Fields'\r\n\r\nexport default class Report4 extends Component {\r\n    state = {\r\n        V_CgInfo_columns:[],\r\n        dataSource: [],\r\n        dataTotal: 0,\r\n        Fuc_ExelOut:false,\r\n        current:1,\r\n        loading: false,\r\n    }\r\n    //搜索数据\r\n    SearchData = async (formData) => {\r\n        if (formData === undefined) {\r\n            formData = ConvertFomrData({page:1,pageSize:50});\r\n        } else {\r\n            if(formData.page===undefined || formData.pageSize===undefined){//说明不是翻页请求 把查询条件存入\r\n                this.SearchDataTemp = formData;\r\n                this.setState({current:1})\r\n            }else{\r\n                formData = {...this.SearchDataTemp,...formData};\r\n                this.setState({current:formData.page});\r\n            }\r\n            formData = ConvertFomrData(formData);\r\n        }\r\n        this.setState({ loading: true });\r\n        const result = await getV_CgInfo(formData);\r\n        if(result.status === 0){\r\n            const { V_CgInfo,V_CgInfo_Count} = result.data;\r\n            this.setState({ dataSource: V_CgInfo,loading: false,V_CgInfo_columns:V_CgInfo_columns,dataTotal:V_CgInfo_Count})\r\n        }else{\r\n            this.setState({loading: false})\r\n            message.error(\"服务器无响应\");\r\n        }\r\n    }\r\n    componentDidMount = async () => {\r\n        this.SearchData();\r\n        let {Fuc_ExelOut} = this.state;\r\n        const {pathname} = this.props.location;\r\n        this.Roles = await getPageRoles(pathname);\r\n        if(isOpt(this.Roles,\"Excel导出\")){\r\n            Fuc_ExelOut = true;\r\n        }\r\n        this.setState({Fuc_ExelOut})\r\n    }\r\n    ModalExcelOut = async ()=>{\r\n        //const {dataSource} = this.state; \r\n        const ColumsWch = [\r\n          {wch:20},\r\n\t      {wch:60},\r\n\t      {wch:20},\r\n\t      {wch:10},\r\n\t      {wch:10},\r\n\t      {wch:20},\r\n          {wch:35},\r\n          {wch:10},\r\n          {wch:10},\r\n          {wch:15},\r\n          {wch:20},\r\n          {wch:20},\r\n          {wch:15},\r\n        ]\r\n        let formData = {...this.SearchDataTemp,...{page:1,pageSize:99999}};\r\n        formData = ConvertFomrData(formData);\r\n        const result = await getV_CgInfo(formData);\r\n        if(result.status===0){\r\n            const {V_CgInfo} = result.data;\r\n            downloadExcel(V_CgInfo,V_CgInfo_columns,ColumsWch,\"采购需求单\");\r\n        }\r\n        \r\n    }\r\n    render() {\r\n        const { dataSource, loading,V_CgInfo_columns,Fuc_ExelOut,current,dataTotal} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div>\r\n                    <AdvancedSearchForm SearchData={this.SearchData} Fielsds={V_CgInfoFielsds} form={this.form} />\r\n                </div>\r\n                <div className=\"toolArea\">\r\n                    {\r\n                        Fuc_ExelOut?<Button type=\"primary\" onClick={() => this.ModalExcelOut()}>Excel导出</Button>:\"\"\r\n                    }\r\n                    \r\n                </div>\r\n                <Table\r\n                dataSource={dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                scroll={{ x: 1700,y:460}} \r\n                columns={V_CgInfo_columns}\r\n                size=\"middle\"\r\n                loading={loading}\r\n                pagination={{\r\n                    position: ['bottomCenter'],\r\n                    pageSizeOptions:[50],\r\n                    current:current,\r\n                    total:dataTotal,\r\n                    showTotal:(total, range) => `一共 ${total} 条数据`,\r\n                    pageSize:50,\r\n                    onChange:(page,pageSize)=>{\r\n                        this.SearchData({page:page,pageSize:pageSize});\r\n                    }\r\n                }}\r\n                >\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Upload, Button,message,Table,Tooltip,Modal} from 'antd';\r\nimport { UploadOutlined,FolderOpenOutlined,DeleteOutlined,ExclamationCircleOutlined} from '@ant-design/icons';\r\n//引入API\r\nimport { getUploadInfo,delUploadInfo} from '../../api'\r\n//引入工具\r\nimport {ConvertFomrData,downloadUpFile} from '../../utils'\r\n//配置 \r\nimport { UploadInfo_columns } from '../../config/table-columns'\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default class Service1 extends Component {\r\n    BASE = window.location.origin;\r\n    state = {\r\n        dataSource:[],\r\n        UploadInfo_columns:UploadInfo_columns,\r\n        loading:true,\r\n    }\r\n    uploadSer = {\r\n        //默认是POST\r\n        name: 'file',\r\n        showUploadList:false,\r\n        action: this.BASE+\"/Home/uploadfile\",\r\n        headers: {\r\n            authorization: 'authorization-text',\r\n        },\r\n        data:{\r\n            time:this.getTime()\r\n        },\r\n        beforeUpload:()=>{\r\n            this.setState({loading:true});\r\n        },\r\n        onChange:({ file, fileList })=>{\r\n            if(file.status===undefined){//上传前\r\n            }else if(file.status===\"uploading\"){//上传中\r\n\r\n            }else if(file.status===\"done\"){//上传失败\r\n                this.setState({loading:false});\r\n                this.SearchData();\r\n                message.success(\"上传成功\");\r\n            }else if(file.status===\"error\"){//上传失败\r\n                this.setState({loading:false});\r\n                message.error(\"上传失败\");\r\n            }\r\n        }\r\n    }\r\n    \r\n    SearchData = async (formData)=>{\r\n        \r\n        if(formData===undefined){\r\n            formData = new FormData();\r\n        }else{\r\n            formData = ConvertFomrData(formData);\r\n        }\r\n        UploadInfo_columns.push({\r\n            title: '操作',\r\n                    width: 25,\r\n                    fixed: 'right',\r\n                    dataIndex: 'operation',\r\n                    render: (_, record) => {\r\n                        return (\r\n                            <div style={{ textAlign: 'center' }}>\r\n                                <Tooltip placement=\"top\" color=\"red\" title=\"删除\" >\r\n                                    <Button size=\"small\" icon={<DeleteOutlined />} onClick={() => this.ModalDel(record,this)}></Button>\r\n                                </Tooltip>\r\n                                \r\n                                &emsp;\r\n                                <Tooltip placement=\"top\" title=\"打开\" >\r\n                                    <Button size=\"small\" icon={<FolderOpenOutlined />} onClick={() => this.ModalOpen(record)} ></Button>\r\n                                </Tooltip>\r\n                            </div>\r\n                        )\r\n                    }\r\n        })\r\n\r\n        this.setState({loading:true})\r\n        const result = await getUploadInfo(formData);\r\n        if(result.status===0){\r\n            const {UploadInfo} = result.data;\r\n            this.setState({ dataSource: UploadInfo,loading:false})\r\n        }else{\r\n            message.error(\"服务器无响应\");\r\n            this.setState({loading:false})\r\n        }\r\n    }\r\n    ModalDel = (record,app)=>{\r\n        //FileName\r\n        confirm({\r\n            title: '是否删除数据?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '是',\r\n            okType: 'danger',\r\n            cancelText: '否',\r\n            async onOk() {\r\n                const formData = new FormData();\r\n                formData.append(\"ID\",record.ID);\r\n                formData.append(\"Path\",record.Path);\r\n                const result = await delUploadInfo(formData);\r\n                if(result.status===0){\r\n                    message.success(\"删除成功\");\r\n                    Modal.destroyAll();\r\n                    app.SearchData();\r\n                }else{\r\n                    message.error(\"服务器无响应\");\r\n                    Modal.destroyAll();\r\n                }\r\n            },\r\n            onCancel() {\r\n                //console.log('Cancel');\r\n            },\r\n        })\r\n    }\r\n    ModalOpen = (record)=>{\r\n        downloadUpFile(record.FileName);\r\n    }\r\n    componentDidMount=()=>{\r\n        this.SearchData();\r\n    }\r\n    componentWillUnmount=()=>{\r\n        UploadInfo_columns.pop();\r\n        this.setState({UploadInfo_columns});\r\n    }\r\n    getTime() {\r\n        const today = new Date();\r\n        const Year = today.getFullYear();\r\n        const Month = (today.getMonth() + 1);\r\n        const Day = today.getDate();\r\n        const Hour = today.getHours();\r\n        const Minu = today.getMinutes();\r\n        const Second = today.getSeconds();\r\n        const date = Year + \"-\" + this.fixed(Month) +\"-\"+ this.fixed(Day) + \" \" + this.fixed(Hour) +\":\"+this.fixed(Minu)+\":\"+this.fixed(Second)\r\n        return date;\r\n    }\r\n    fixed(num) {\r\n        return num>9?num:\"0\"+num\r\n    }\r\n    render() {\r\n        const {dataSource,loading,UploadInfo_columns} = this.state;\r\n        return (\r\n            <div  className=\"main\">\r\n                <div  className=\"toolArea\">\r\n                    <Upload {...this.uploadSer}>\r\n                        <Button icon={<UploadOutlined />}>调度单发布</Button>\r\n                    </Upload>\r\n                </div>\r\n                <Table\r\n                dataSource={dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                //scroll={{ x: 2600}} \r\n                columns={UploadInfo_columns}\r\n                size=\"middle\"\r\n                loading={loading}\r\n                pagination={false}\r\n                > \r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Table, Button, Modal, Form, Input,message} from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n//引入自定义组件\r\n// import AdvancedSearchForm from '../../components/AdvancedSearchForm'\r\n//引入工具\r\nimport {getPageRoles,isOpt,ConvertFomrData,downloadDemoFile} from '../../utils'\r\n//引入API \r\nimport {addBjInfo,delBjInfo,editBjInfo,getBjImp} from '../../api'\r\n//配置 \r\nimport { BjImp_columns } from '../../config/table-columns'\r\n// import { BjInfoFielsds } from '../../config/form-Fields'\r\n//模拟数据\r\n//import { BjInfo } from '../../anaData'\r\nconst { confirm } = Modal;\r\n\r\nexport default class Service2 extends Component {\r\n    formRef = React.createRef();\r\n    Roles = [];//用户在这个界面的权限\r\n    state = { \r\n        dataSource: [],\r\n        BjImp_columns:[],\r\n        dataTotal: 0,\r\n        loading: true,\r\n        isModalEditShow: false,//控制编辑对话框的显示\r\n        ModalTitle:'',\r\n        Fuc_Add:false,\r\n        Fuc_Exel:false,\r\n        Fuc_Submit:false,\r\n    }\r\n    //搜索数据\r\n    SearchData = async (formData) => {\r\n        if(formData===undefined){\r\n            formData = new FormData();\r\n        }else{\r\n            formData = ConvertFomrData(formData);\r\n        }\r\n        this.setState({loading:true})\r\n        const result = await getBjImp(formData);\r\n        if(result.status===0){\r\n            const {BjImp} = result.data;\r\n            this.setState({ dataSource: BjImp,loading:false,BjImp_columns:BjImp_columns})\r\n        }else{\r\n            message.error(\"服务器无响应\");\r\n        }\r\n        \r\n    }\r\n    componentDidMount = async () => {\r\n        let {Fuc_Add,Fuc_Exel,Fuc_Submit} = this.state;\r\n        this.SearchData();\r\n        const {pathname} = this.props.location;\r\n        this.Roles = await getPageRoles(pathname);\r\n        // BjInfo_columns.push(\r\n        //     {\r\n        //         title: '操作',\r\n        //         width: 50,\r\n        //         fixed: 'right',\r\n        //         dataIndex: 'operation',\r\n        //         render: (_, record) => {\r\n        //             return (\r\n        //                 <div style={{textAlign:'center'}}>\r\n        //                     <Button size=\"small\" type=\"primary\" onClick={()=>this.ModalDel(record)} danger>删除</Button>&emsp;\r\n        //                     <Button size=\"small\" type=\"primary\" onClick={() => this.ModalEdit(record)} >编辑</Button>\r\n        //                 </div>\r\n        //             )\r\n        //         }\r\n        //     }\r\n        // )\r\n        if(isOpt(this.Roles,\"新建\")){\r\n            Fuc_Add = true;\r\n        }\r\n        if(isOpt(this.Roles,\"Excel导入\")){\r\n            Fuc_Exel = true;\r\n        }\r\n        //执行提交\r\n        if(isOpt(this.Roles,\"执行提交\")){\r\n            Fuc_Submit = true;\r\n        }//Fuc_ExcelOut\r\n        this.setState({Fuc_Add,Fuc_Exel,Fuc_Submit})\r\n    }\r\n    componentWillUnmount = ()=>{\r\n        //BjInfo_columns.pop();\r\n    }\r\n    //编辑按钮 显示编辑对话框\r\n    ModalEdit = (record) => { \r\n        this.setState({ isModalEditShow: true,ModalTitle:'编辑'},()=>{\r\n            this.formRef.current.setFieldsValue(record)\r\n        }) \r\n    }\r\n    //新建按钮 显示新建对话框\r\n    ModalAdd = ()=>{\r\n        this.setState({ isModalEditShow: true,ModalTitle:'新建'},()=>{\r\n            this.formRef.current.resetFields()\r\n        })\r\n    }\r\n    //删除按钮\r\n    ModalDel = (record)=>{\r\n        confirm({\r\n            title:'是否删除数据?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '是',\r\n            okType: 'danger',\r\n            cancelText: '否',\r\n            onOk() {\r\n                //record.ID\r\n                const formData = new FormData();\r\n                formData.append(\"ID\",record.ID);\r\n                const result = delBjInfo(formData);\r\n                if(result.status===0){\r\n                    message.success(\"编辑成功\");\r\n                }else{\r\n                    message.error(\"编辑失败\");\r\n                }\r\n\r\n            },\r\n            onCancel() {\r\n            },\r\n        })\r\n    }\r\n    //提交所有更新到SAP\r\n    ModalSubmit = ()=>{\r\n        //submitBjInfo\r\n        confirm({\r\n            title:'是否提交数据?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '是',\r\n            okType: 'danger',\r\n            cancelText: '否',\r\n            onOk() {\r\n                //record.ID\r\n                //const formData = new FormData();\r\n                //const result = submitBjInfo(formData);\r\n                // if(result.status===0){\r\n                //     message.success(\"更新成功\");\r\n                // }else{\r\n                //     message.error(\"更新失败失败\");\r\n                // }\r\n\r\n            },\r\n            onCancel() {\r\n            },\r\n        })\r\n    }\r\n    //Excel导入对话框\r\n    ModalExcel = () => {\r\n        const { history } = this.props;\r\n        //对应的url需要填写\r\n        history.push({pathname:\"/Admin/Upload/ExcelUp\",columns:BjImp_columns,type:1,submitUrl:\"BjImp\",subTitle:\"钣金需求分解\"});\r\n    }\r\n     //点击 编辑/新建 对话框OK\r\n    ModalEditOk = async () => {\r\n        const form = this.formRef.current;\r\n        try {\r\n            await form.validateFields();\r\n        } catch (errorInfo) {\r\n            message.warn('请检查数据的正确性')\r\n            return;\r\n        }\r\n        //获取数据发送给服务端\r\n        const json = form.getFieldsValue(true);\r\n        const formData = ConvertFomrData(json); \r\n        const {ModalTitle} = this.state;\r\n        if(ModalTitle==='编辑'){\r\n            //发送编辑的请求 ID已经\r\n            const result = editBjInfo(formData);\r\n            if(result.status===0){\r\n                message.success(\"编辑成功\");\r\n            }else{\r\n                message.error(\"编辑失败\");\r\n            }\r\n        }else if(ModalTitle==='新建'){\r\n            //发送新建的请求\r\n            const result = addBjInfo(formData);\r\n            if(result.status===0){\r\n                message.success(\"添加成功\");\r\n            }else{\r\n                message.error(\"添加失败\");\r\n            }\r\n        }\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n    //点击编辑/新建 对话框 取消\r\n    ModalEditCancel = () => {\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n    ModalExcelOut = ()=>{\r\n        //const {dataSource} = this.state;\r\n        //let obj = [];\r\n        //const range = XLSX.utils.decode_range(dataSource);\r\n    }\r\n    DownLoadDemo = ()=>{\r\n        downloadDemoFile(\"钣金需求分解模板.xls\");\r\n    }\r\n    //downloadDemoFile(\"机加需求分解模板.xlsx\");\r\n    render() {\r\n        const { dataSource, loading, isModalEditShow,ModalTitle,Fuc_Add,Fuc_Exel} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"toolArea\">\r\n                    {Fuc_Add?\r\n                    <Button type=\"primary\" onClick={()=>this.ModalAdd()}>新建</Button>:\"\"\r\n                    }\r\n                    &emsp;\r\n                    {Fuc_Exel?\r\n                    <Button type=\"primary\" onClick={() => this.ModalExcel()}>Excel导入</Button>:\"\"\r\n                    }\r\n                    &emsp;\r\n                    <Button type=\"primary\" onClick={()=>this.DownLoadDemo()} >模板下载</Button>\r\n                </div>\r\n                <Table\r\n                dataSource={dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                //scroll={{ x: 2600}} \r\n                columns={BjImp_columns}\r\n                size=\"middle\"\r\n                loading={loading}\r\n                pagination={false}\r\n                > \r\n                </Table>\r\n                <Modal title={ModalTitle} visible={isModalEditShow} onOk={() => this.ModalEditOk()} onCancel={() => this.ModalEditCancel()} >\r\n                    <Form ref={this.formRef} >\r\n                        <Form.Item\r\n                            name=\"FirstCode\"\r\n                            label=\"一层编码\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入一层编码'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"FirstName\"\r\n                            label=\"一层名称\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入一层名称'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"SecondCode\"\r\n                            label=\"二层编码\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入二层编码'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"SecondName\"\r\n                            label=\"二层名称\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入二层名称'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"ThirdCode\"\r\n                            label=\"三层编码\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入三层编码'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"ThirdName\"\r\n                            label=\"三层名称\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入三层名称'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"FourthCode\"\r\n                            label=\"四层编码\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入四层编码'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"FourthName\"\r\n                            label=\"四层名称\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入四层名称'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"FifthCode\"\r\n                            label=\"五层编码\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入五层编码'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"FifthName\"\r\n                            label=\"五层名称\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入五层名称'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Prooerty\"\r\n                            label=\"属性\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入属性'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input/>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Menge\"\r\n                            label=\"需求数量\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入需求数量'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input type=\"number\" />\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Table, Button, Modal, Form, Input,message} from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n//引入自定义组件\r\n// import AdvancedSearchForm from '../../components/AdvancedSearchForm'\r\n//引入工具\r\nimport {getPageRoles,isOpt,ConvertFomrData,downloadDemoFile} from '../../utils'\r\n//引入API\r\nimport {getJjImp} from '../../api'\r\n\r\n//配置 \r\nimport { JiImp_columns} from '../../config/table-columns'\r\n//import {SERVER_ADDRESS_FILEPATH} from '../../utils/StaticSet'\r\n// import { JjInfoFielsds } from '../../config/form-Fields'\r\n//模拟数据 \r\n//import { JjInfo } from '../../anaData'\r\nconst { confirm } = Modal;\r\n\r\nexport default class Service3 extends Component {\r\n    formRef = React.createRef()\r\n    state = {  \r\n        dataSource: [],\r\n        JiImp_columns:[],\r\n        dataTotal: 0,\r\n        loading: true, \r\n        isModalEditShow: false,//控制编辑对话框的显示\r\n        ModalTitle:'' ,\r\n        Fuc_Exel:false\r\n    }\r\n    //搜索数据\r\n    SearchData = async (formData) => {\r\n        if(formData===undefined){\r\n            formData = new FormData();\r\n        }else{\r\n            formData = ConvertFomrData(formData);\r\n        }\r\n        this.setState({loading:true})\r\n        const result = await getJjImp(formData);\r\n        if(result.status===0){\r\n            const {JjImp} = result.data;\r\n            this.setState({ dataSource: JjImp,loading:false,JiImp_columns:JiImp_columns})\r\n        }else{\r\n            message.error(\"服务器无响应\");\r\n        }\r\n    }\r\n    componentDidMount = async () => {\r\n        let {Fuc_Exel} = this.state;\r\n        this.SearchData();\r\n        const {pathname} = this.props.location;\r\n        this.Roles = await getPageRoles(pathname);\r\n        // JjInfo_columns.push(\r\n        //     {\r\n        //         title: '操作',\r\n        //         width: 50,\r\n        //         fixed: 'right',\r\n        //         dataIndex: 'operation',\r\n        //         render: (_, record) => {\r\n        //             return (\r\n        //                 <div style={{textAlign:'center'}}>\r\n        //                     <Button size=\"small\" type=\"primary\" onClick={()=>this.ModalDel(record)} danger>删除</Button>&emsp;\r\n        //                     <Button size=\"small\" type=\"primary\" onClick={() => this.ModalEdit(record)} >编辑</Button>\r\n        //                 </div>\r\n        //             )\r\n        //         }\r\n        //     }\r\n        // )\r\n        if(isOpt(this.Roles,\"Excel导入\")){\r\n            Fuc_Exel = true;\r\n        }\r\n        this.setState({Fuc_Exel})\r\n    }\r\n    componentWillUnmount = ()=>{\r\n        //JiImp_columns.pop();\r\n    }\r\n    //编辑按钮 显示编辑对话框\r\n    ModalEdit = (record) => { \r\n        this.setState({ isModalEditShow: true,ModalTitle:'编辑'},()=>{\r\n            this.formRef.current.setFieldsValue(record)\r\n        })\r\n    }\r\n    //新建按钮 显示新建对话框\r\n    ModalAdd = ()=>{\r\n        this.setState({ isModalEditShow: true,ModalTitle:'新建'},()=>{\r\n            this.formRef.current.resetFields()\r\n        })\r\n    }\r\n     //删除按钮\r\n     ModalDel = (record)=>{\r\n        confirm({\r\n            title:'是否删除数据?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '是',\r\n            okType: 'danger',\r\n            cancelText: '否',\r\n            onOk() {\r\n                //record.ID\r\n                console.log('OK');\r\n            },\r\n            onCancel() {\r\n                console.log('Cancel');\r\n            },\r\n        })\r\n    }\r\n    //Excel导入对话框\r\n    ModalExcel = () => {\r\n        const { history } = this.props;\r\n        //对应的url需要填写\r\n        history.push({pathname:\"/Admin/Upload/ExcelUp\",columns:JiImp_columns,type:1,submitUrl:\"JjImp\",subTitle:\"机加需求分解\"});\r\n    }\r\n    //点击 编辑/新建 对话框OK\r\n    ModalEditOk = async () => {\r\n        const form = this.formRef.current;\r\n        try {\r\n            await form.validateFields();\r\n        } catch (errorInfo) {\r\n            message.warn('请检查数据的正确性')\r\n            return;\r\n        }\r\n        //获取数据发送给服务端\r\n        //const {WerksID,TypeID,MRP,ID} = form.getFieldsValue(true);\r\n        const {ModalTitle} = this.state;\r\n        if(ModalTitle==='编辑'){\r\n            //发送编辑的请求 ID已经\r\n            console.dir(form.getFieldsValue(true));\r\n        }else if(ModalTitle==='新建'){\r\n            //发送新建的请求\r\n            console.dir(form.getFieldsValue(true));\r\n        }\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n    //点击编辑/新建 对话框 取消\r\n    ModalEditCancel = () => {\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n    DownLoadDemo = ()=>{\r\n        downloadDemoFile(\"机加需求分解模板.xls\");\r\n    }\r\n    render() {\r\n        const { dataSource, loading, isModalEditShow,ModalTitle,Fuc_Exel} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"toolArea\">\r\n                    {\r\n                        Fuc_Exel?<Button type=\"primary\" onClick={() => this.ModalExcel()}>Excel导入</Button>:\"\"\r\n                    }\r\n                    &emsp;\r\n                    <Button type=\"primary\" onClick={()=>this.DownLoadDemo()} >模板下载</Button>\r\n                </div>\r\n                <Table\r\n                dataSource={dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                //scroll={{ x: 2600}} \r\n                columns={JiImp_columns}\r\n                size=\"middle\"\r\n                loading={loading}\r\n                pagination={false}\r\n                >\r\n                </Table>\r\n                <Modal title={ModalTitle} visible={isModalEditShow} onOk={() => this.ModalEditOk()} onCancel={() => this.ModalEditCancel()} >\r\n                    <Form ref={this.formRef} >\r\n                        <Form.Item\r\n                            name=\"Series\"\r\n                            label=\"系列\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入系列'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Matnr\"\r\n                            label=\"子键物料号\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入子键物料号'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Menge\"\r\n                            label=\"数量\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入数量'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input type=\"number\"/>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Group\"\r\n                            label=\"班组\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入班组'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input/>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport moment from 'moment';\r\nimport { Table, Button, Modal, Form, Input,message,DatePicker} from 'antd'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n//引入自定义组件\r\n// import AdvancedSearchForm from '../../components/AdvancedSearchForm'\r\n//引入工具\r\nimport {getPageRoles,isOpt,ConvertFomrData,downloadDemoFile} from '../../utils'\r\n//引入API\r\nimport {getCgImp} from '../../api'\r\n//配置 \r\nimport { CgImp_columns} from '../../config/table-columns'\r\n// import { CgInfoFielsds } from '../../config/form-Fields'\r\n//模拟数据\r\n//import { CgInfo } from '../../anaData'\r\nconst { confirm } = Modal;\r\nexport default class Service4 extends Component {\r\n    formRef = React.createRef()\r\n    state = {\r\n        dataSource: [],\r\n        dataTotal: 0,\r\n        loading: true,\r\n        isModalEditShow: false,//控制编辑对话框的显示\r\n        ModalTitle:'',\r\n        CgImp_columns:[],\r\n        Fuc_Exel:false\r\n    }\r\n    //搜索数据\r\n    SearchData = async (formData) => {\r\n        if(formData===undefined){\r\n            formData = new FormData();\r\n        }else{\r\n            formData = ConvertFomrData(formData);\r\n        }\r\n        \r\n        this.setState({loading:true})\r\n        const result = await getCgImp(formData);\r\n        if(result.status===0){\r\n            const {CgImp} = result.data;\r\n            this.setState({ dataSource: CgImp,loading:false,CgImp_columns:CgImp_columns})\r\n        }else{\r\n            message.error(\"服务器无响应\");\r\n        }\r\n    }\r\n    componentDidMount = async () => {\r\n        let {Fuc_Exel} = this.state;\r\n        this.SearchData();\r\n        const {pathname} = this.props.location;\r\n        this.Roles = await getPageRoles(pathname);\r\n        // CgInfo_columns.push(\r\n        //     {\r\n        //         title: '操作',\r\n        //         width: 50,\r\n        //         fixed: 'right',\r\n        //         dataIndex: 'operation',\r\n        //         render: (_, record) => {\r\n        //             return (\r\n        //                 <div style={{textAlign:'center'}}>\r\n        //                     <Button size=\"small\" type=\"primary\" onClick={()=>this.ModalDel(record)} danger>删除</Button>&emsp;\r\n        //                     <Button size=\"small\" type=\"primary\" onClick={() => this.ModalEdit(record)} >编辑</Button>\r\n        //                 </div>\r\n        //             )\r\n        //         }\r\n        //     }\r\n        // )\r\n        if(isOpt(this.Roles,\"Excel导入\")){\r\n            Fuc_Exel = true;\r\n        }\r\n        this.setState({Fuc_Exel})\r\n    }\r\n    componentWillUnmount = ()=>{\r\n        //CgImp_columns.pop();\r\n    }\r\n    //编辑按钮 显示编辑对话框\r\n    ModalEdit = (record) => { \r\n        this.setState({ isModalEditShow: true,ModalTitle:'编辑'},()=>{\r\n            record.Budat = moment(record.Budat,'YYYY-MM-DD');\r\n            this.formRef.current.setFieldsValue(record)\r\n        })\r\n    }\r\n    //新建按钮 显示新建对话框\r\n    ModalAdd = ()=>{\r\n        this.setState({ isModalEditShow: true,ModalTitle:'新建'},()=>{\r\n            this.formRef.current.resetFields()\r\n        })\r\n    }\r\n    //删除按钮\r\n    ModalDel = (record)=>{\r\n        confirm({\r\n            title:'是否删除数据?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '是',\r\n            okType: 'danger',\r\n            cancelText: '否',\r\n            onOk() {\r\n                //record.ID\r\n                console.log('OK');\r\n            },\r\n            onCancel() {\r\n                console.log('Cancel');\r\n            },\r\n        })\r\n    }\r\n    //Excel导入对话框\r\n    ModalExcel = () => {\r\n        const { history } = this.props;\r\n        //对应的url需要填写\r\n        history.push({pathname:\"/Admin/Upload/ExcelUp\",columns:CgImp_columns,type:1,submitUrl:\"CgImp\",subTitle:\"采购需求分解\"});\r\n    }\r\n    //点击 编辑/新建 对话框OK\r\n    ModalEditOk = async () => {\r\n        const form = this.formRef.current;\r\n        try {\r\n            await form.validateFields();\r\n        } catch (errorInfo) {\r\n            message.warn('请检查数据的正确性')\r\n            return;\r\n        }\r\n        //获取数据发送给服务端\r\n        //const {WerksID,TypeID,MRP,ID} = form.getFieldsValue(true);\r\n        const {ModalTitle} = this.state;\r\n        if(ModalTitle==='编辑'){\r\n            //发送编辑的请求 ID已经\r\n            console.dir(form.getFieldsValue(true));\r\n        }else if(ModalTitle==='新建'){\r\n            //发送新建的请求\r\n            console.dir(form.getFieldsValue(true));\r\n        }\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n    //点击编辑/新建 对话框 取消\r\n    ModalEditCancel = () => {\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n    DownLoadDemo = ()=>{\r\n        downloadDemoFile(\"采购需求分解模板.xls\");\r\n    }\r\n    render() {\r\n        const { dataSource, loading, isModalEditShow,ModalTitle,Fuc_Exel} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"toolArea\">\r\n                    {\r\n                        Fuc_Exel?<Button type=\"primary\" onClick={() => this.ModalExcel()}>Excel导入</Button>:\"\"\r\n                    }\r\n                    &emsp;\r\n                    <Button type=\"primary\" onClick={()=>this.DownLoadDemo()} >模板下载</Button>\r\n                </div>\r\n                <Table\r\n                dataSource={dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                //scroll={{ x: 2600}} \r\n                columns={CgImp_columns}\r\n                size=\"middle\"\r\n                loading={loading}\r\n                pagination={false}\r\n                >\r\n                </Table>\r\n                <Modal title={ModalTitle} visible={isModalEditShow} onOk={() => this.ModalEditOk()} onCancel={() => this.ModalEditCancel()} >\r\n                    <Form ref={this.formRef}>\r\n                        <Form.Item\r\n                            name=\"Maktx\"\r\n                            label=\"物料编码\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入物料编码'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Matnr\"\r\n                            label=\"物料描述\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入Matnr'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Budat\"\r\n                            label=\"需求日期\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入需求日期'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <DatePicker\r\n                                format=\"YYYY-MM-DD\"\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"MRP\"\r\n                            label=\"MRP控制者\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入MRP控制者'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Meins\"\r\n                            label=\"单位\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入单位'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Lifnr\"\r\n                            label=\"供应商代码\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入供应商代码'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Name1\"\r\n                            label=\"供应商名称\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message:'请输入供应商名称'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Upload, message, Button,Table,Row,Col,Modal,DatePicker} from 'antd'\r\nimport { UploadOutlined,CheckCircleTwoTone,ArrowLeftOutlined} from '@ant-design/icons';\r\nimport XLSX from 'xlsx'\r\nimport moment from 'moment';\r\nimport LinkButton from '../../components/link-button';\r\n//api\r\nimport {submitBjImp,submitCgImp,submitJjImp,submitWBInfo} from '../../api'\r\nconst { confirm } = Modal;\r\n//用于处理 Excel 上传的页面\r\nexport default class ExcelUp extends Component {\r\n    //\r\n    dateFormat = 'YYYY-MM-DD';\r\n    state={\r\n        dataSource:[],\r\n        loading:false,\r\n        //0 等待上传，1已经提交未上传，2上传成功,等待重新提交\r\n        uploadState:0,\r\n        type:0,//页面展示类型\r\n        isBaseDate:false,\r\n        columns:[],\r\n        loadExcelUp1:false,\r\n        loadExcelUp2:false,\r\n        loadExcelUp3:false\r\n    }\r\n    key=0;\r\n    //读取文件\r\n    attes = {\r\n        name: 'file',\r\n        headers: { authorization: 'authorization-text' },\r\n        showUploadList:false,\r\n        beforeUpload:(file)=> {\r\n            if(file.name.lastIndexOf('.xls')===-1 && file.name.lastIndexOf('.xlsx') ===-1){\r\n                message.error(\"请上传Excel文件\");\r\n                return false;\r\n            }\r\n            const {columns} = this.state;\r\n            const fileReader = new FileReader();\r\n            fileReader.onload = (event,_this) => {\r\n                try {\r\n                    const { result } = event.target;\r\n                    const workbook = XLSX.read(result, { type: 'binary',cellDates:true});\r\n                    let data = []; // 存储获取到的数据\r\n                    // 遍历每张工作表进行读取（这里默认只读取第一张表）\r\n                    var flg = false;\r\n                    for (const sheet in workbook.Sheets) {\r\n                        if (workbook.Sheets.hasOwnProperty(sheet)) {\r\n                            \r\n                            // 利用 sheet_to_json 方法将 excel 转成 json 数据\r\n                            data = data.concat(XLSX.utils.sheet_to_json(workbook.Sheets[sheet]));\r\n                            data = data.map((item,index)=>{\r\n                                let single ={}\r\n                                columns.forEach((item2,index2)=>{\r\n                                    if(item[item2.title]!==undefined){\r\n                                        if(item2.title.indexOf('日期')!==-1 || item2.title.indexOf('时间')!==-1){\r\n                                            if(item[item2.title] instanceof Date){\r\n                                                single[item2.dataIndex] = moment(item[item2.title]).format('YYYYMMDD');\r\n                                            }else{\r\n                                                if(typeof(item[item2.title])==='number'){\r\n                                                    single[item2.dataIndex] = item[item2.title];\r\n                                                }else if((item[item2.title]+\"\").indexOf('/') !== -1 ){\r\n                                                    var dts = item[item2.title].split('/');\r\n                                                    var YYYYMMDD = dts[0];\r\n                                                    if(dts[1].length===1){\r\n                                                        dts[1] = 0 + dts[1];\r\n                                                    }\r\n                                                    if(dts[2].length===1){\r\n                                                        dts[2] = 0 + dts[2];\r\n                                                    }\r\n                                                    YYYYMMDD +=dts[1] +dts[2]\r\n                                                    single[item2.dataIndex] = YYYYMMDD;\r\n                                                }else{\r\n                                                    \r\n                                                    if(item[item2.title].length===8){\r\n                                                        single[item2.dataIndex] = item[item2.title];\r\n                                                    }else{\r\n                                                        if((item[item2.title]+\"\").length!==8){\r\n                                                            message.error(\"日期位数不对,无法导入,发生在第\"+(index+1)+\"行，\"+index2+\"列\");\r\n                                                            flg = true;\r\n                                                        }\r\n                                                        single[item2.dataIndex] = item[item2.title];\r\n                                                    }\r\n                                                    \r\n                                                }\r\n                                                \r\n                                            }\r\n                                        }else{\r\n                                            single[item2.dataIndex] = item[item2.title]\r\n                                        }\r\n                                        \r\n                                    }\r\n                                })\r\n                                single.key=\"key\"+(this.key++)\r\n                                return single\r\n                            })\r\n                            if(flg){\r\n                                return;\r\n                            }\r\n                        }\r\n                        //只读一张表\r\n                        break;\r\n                    }\r\n                    \r\n                    for(let i=0;i<data.length;i++){\r\n                        if(data[i].find===true){\r\n                            continue;\r\n                        }\r\n                        for(let j=i+1;j<data.length;j++){\r\n                            if(data[j].find===true){\r\n                                continue;\r\n                            }\r\n                            if(data[i].Matnr === data[j].Matnr){\r\n                                data[i].Menge += data[j].Menge;\r\n                                data[j].find = true;\r\n                            }\r\n                        }\r\n                    }\r\n                    let new_Data  = data.filter(item=>{\r\n                        return item.find===undefined;\r\n                    })\r\n                    console.dir(new_Data);\r\n                    this.setState({dataSource:new_Data,uploadState:1});\r\n                } catch (e) {\r\n                    message.error(\"请上传Excel文件\");\r\n                    return false;\r\n                }\r\n            }\r\n            fileReader.readAsBinaryString(file,this);\r\n            return false;//拦截上传文件\r\n        }\r\n    }\r\n    //普通提交\r\n    handleSubmit = async ()=>{\r\n        if(this.state.loadExcelUp1){\r\n            message.warn('请勿重复提交');\r\n            return;\r\n        }\r\n        this.setState({loadExcelUp1:true},async ()=>{\r\n            const {dataSource} = this.state;\r\n            const {submitUrl} = this.props.location;\r\n            //移除key\r\n            const SubmitData = dataSource.map(item=>{\r\n                delete item.key;\r\n                return item;\r\n            })\r\n            //需要提交的内容\r\n            //console.dir(SubmitData);\r\n    \r\n            let formData = new FormData();\r\n            for(var i=0;i<SubmitData.length;i++){\r\n                formData.append(`list[${i}]`,JSON.stringify(SubmitData[i]));\r\n            }\r\n            formData.append(\"type\",0);\r\n            formData.append(\"Count\",i);\r\n            \r\n            let result;\r\n            try{\r\n                switch(submitUrl){\r\n                    case \"BjImp\":\r\n                        result = await submitBjImp(formData);\r\n                        break;\r\n                    case \"CgImp\":\r\n                        formData.append(\"BaseDate\",this.BaseDate);\r\n                        result = await submitCgImp(formData);\r\n                        break;\r\n                    case \"JjImp\":\r\n                        result = await submitJjImp(formData);\r\n                        break;\r\n                    case \"WBInfo\":\r\n                        result = await submitWBInfo(formData);\r\n                        break;\r\n                    default:\r\n                }\r\n                 \r\n                if(result.status === 0 ){\r\n                    confirm({\r\n                        icon:<CheckCircleTwoTone twoToneColor=\"#52c41a\" />,\r\n                        title: 'Excel上传成功，请勿重复上传',\r\n                        okText: '确认',\r\n                    })\r\n                }else{\r\n                    message.error(\"服务器无响应\");\r\n                }\r\n        \r\n        \r\n                this.setState({\r\n                    dataSource:[],\r\n                    uploadState:2\r\n                })\r\n            }catch{\r\n    \r\n            }finally{\r\n                this.setState({loadExcelUp1:false})\r\n            }\r\n        });\r\n    }\r\n    handleSubmit1 = async ()=>{//全新执行 追加参数 type = 0\r\n        if(this.state.loadExcelUp2){\r\n            message.warn(\"请勿重复提交\");\r\n            return;\r\n        }\r\n        this.setState({loadExcelUp2:true},async ()=>{\r\n        const {dataSource} = this.state;\r\n        const {submitUrl} = this.props.location;\r\n        //移除key\r\n        const SubmitData = dataSource.map(item=>{\r\n            delete item.key;\r\n            return item;\r\n        })\r\n        //需要提交的内容\r\n        let formData = new FormData();\r\n        for(var i=0;i<SubmitData.length;i++){\r\n            formData.append(`list[${i}]`,JSON.stringify(SubmitData[i]));\r\n        }\r\n        formData.append(\"type\",1);\r\n        formData.append(\"Count\",i);\r\n        try{\r\n            let result;\r\n        switch(submitUrl){\r\n            case \"BjImp\":\r\n                result = await submitBjImp(formData);\r\n                break;\r\n            case \"CgImp\":\r\n                formData.append(\"BaseDate\",this.BaseDate);\r\n                result = await submitCgImp(formData);\r\n                break;\r\n            case \"JjImp\":\r\n                result = await submitJjImp(formData);\r\n                break;\r\n            case \"WBInfo\":\r\n                result = await submitWBInfo(formData);\r\n                break;\r\n            default:\r\n        }\r\n\r\n        if(result.status === 0 ){\r\n            confirm({\r\n                icon:<CheckCircleTwoTone twoToneColor=\"#52c41a\" />,\r\n                title: 'Excel上传成功，请勿重复上传',\r\n                okText: '确认',\r\n            })\r\n        }else{\r\n            message.error(\"服务器无响应\");\r\n        }\r\n\r\n\r\n        this.setState({\r\n            dataSource:[],\r\n            uploadState:2\r\n        })\r\n        }catch{\r\n\r\n        }finally{\r\n            this.setState({loadExcelUp2:false});\r\n        }\r\n        });\r\n        \r\n        \r\n    }\r\n    handleSubmit2 = async ()=>{//追加执行 追加参数 type = 1\r\n        if(this.state.loadExcelUp3){\r\n            message.warn(\"请勿重复提交\");\r\n            return;\r\n        }\r\n        this.setState({loadExcelUp3:true},async ()=>{\r\n        \r\n        const {dataSource} = this.state;\r\n        const {submitUrl} = this.props.location;\r\n        //移除key\r\n        const SubmitData = dataSource.map(item=>{\r\n            delete item.key;\r\n            return item;\r\n        })\r\n        //需要提交的内容\r\n        let formData = new FormData();\r\n        for(var i=0;i<SubmitData.length;i++){\r\n            formData.append(`list[${i}]`,JSON.stringify(SubmitData[i]));\r\n        }\r\n        formData.append(\"type\",2);\r\n        formData.append(\"Count\",i);\r\n        try{\r\n            let result;\r\n        switch(submitUrl){\r\n            case \"BjImp\":\r\n                result = await submitBjImp(formData);\r\n                break;\r\n            case \"CgImp\":\r\n                formData.append(\"BaseDate\",this.BaseDate);\r\n                result = await submitCgImp(formData);\r\n                break;\r\n            case \"JjImp\":\r\n                result = await submitJjImp(formData);\r\n                break;\r\n            case \"WBInfo\":\r\n                result = await submitWBInfo(formData);\r\n                break;\r\n            default:\r\n        }\r\n\r\n        if(result.status === 0 ){\r\n            confirm({\r\n                icon:<CheckCircleTwoTone twoToneColor=\"#52c41a\" />,\r\n                title: 'Excel上传成功，请勿重复上传',\r\n                okText: '确认',\r\n            })\r\n        }else{\r\n            message.error(\"服务器无响应\");\r\n        }\r\n\r\n        this.setState({\r\n            dataSource:[],\r\n            uploadState:2\r\n        })\r\n        }catch{\r\n\r\n        }finally{\r\n            this.setState({loadExcelUp3:false});\r\n        }\r\n        });\r\n        \r\n        \r\n    }\r\n    handleBack = ()=>{\r\n        const {history} = this.props;\r\n        history.goBack();\r\n    }\r\n    DtChange = (date,dateString)=>{\r\n        this.BaseDate = dateString;\r\n    }\r\n    componentDidMount = ()=>{\r\n        const {type,submitUrl} = this.props.location;\r\n        let {columns} =  this.props.location;\r\n        if(columns!==undefined&& columns.length!==0){\r\n            columns = columns.filter(item=>item.dataIndex!==\"operation\")\r\n        }\r\n        if(type===undefined||type===0){\r\n            if(columns!==undefined&& columns.length!==0){\r\n                columns = columns.filter(item=>item.key!=='status')\r\n                this.setState({columns})\r\n            }\r\n            \r\n        }else{\r\n            if(columns!==undefined&& columns.length!==0){\r\n                columns = columns.filter(item=>item.key!=='status')\r\n                this.setState({columns,type})\r\n            }\r\n        }\r\n        \r\n        \r\n        if(submitUrl===\"CgImp\"){\r\n            this.setState({isBaseDate:true});\r\n        }\r\n        this.BaseDate = moment().format(this.dateFormat);\r\n    }\r\n    render() {\r\n        const {subTitle} = this.props.location;\r\n        const {dataSource,loading,columns,uploadState,type,isBaseDate,loadExcelUp1,loadExcelUp2,loadExcelUp3} = this.state;\r\n        let width;\r\n        let height = 600;\r\n        if(columns!==undefined){\r\n            width = columns.length>8?2600:1400;\r\n        }\r\n        return (\r\n            <div className=\"main\">\r\n                \r\n                <Row>\r\n                    <Col span={4} className=\"toolArea_left\">\r\n                        <LinkButton onClick={()=>this.handleBack()}>\r\n                            <ArrowLeftOutlined/>返回 {subTitle}\r\n                        </LinkButton>\r\n                    </Col>\r\n                    <Col span={19} className=\"toolArea\">\r\n                        {isBaseDate?<label style={{fontSize:\"18px\",fontWeight:600}}>历史库存基准日期：<DatePicker onChange={this.DtChange} defaultValue={moment(moment(), this.dateFormat)} showToday format={this.dateFormat} /></label>:\"\"}\r\n                        \r\n                        &emsp;\r\n                        <Upload {...this.attes}>\r\n                            <Button icon={<UploadOutlined/>} disabled={columns===undefined?\"disabled\":\"\"} >{columns===undefined?\"请返回重新提交\":\"提交预览\"}</Button>\r\n                        </Upload>\r\n                        &emsp;\r\n                        {//单纯的只有上传功能\r\n                            type===0?\r\n                            <Button\r\n                            disabled={uploadState===0?\"disabled\":\r\n                            uploadState===1?\"\":\"disabled\"} type=\"primary\" \r\n                            loading={loadExcelUp1}\r\n                            onClick={()=>this.handleSubmit()}>\r\n                                {uploadState===0?\"请先上传文件\":\r\n                                uploadState===1?\"确认提交\":\"上传成功,可再次上传\"\r\n                                }\r\n                            \r\n                            </Button>://有全新执行，追加执行的\r\n                            type===1?\r\n                            <>\r\n                                <Button type=\"primary\" \r\n                                disabled={uploadState===0?\"disabled\":uploadState===1?\"\":\"disabled\"}\r\n                                loading={loadExcelUp2}\r\n                                onClick={()=>this.handleSubmit1()}\r\n                                >\r\n                                    全新执行\r\n                                </Button>\r\n                                &emsp;\r\n                                <Button type=\"primary\" \r\n                                disabled={uploadState===0?\"disabled\":uploadState===1?\"\":\"disabled\"}\r\n                                loading={loadExcelUp3}\r\n                                onClick={()=>this.handleSubmit2()}\r\n                                >\r\n                                    追加执行\r\n                                </Button>\r\n                            </>\r\n                            \r\n                            :\"\"\r\n                        }\r\n                        \r\n                    </Col>\r\n                </Row>\r\n                <Table\r\n                    dataSource={dataSource}\r\n                    bordered\r\n                    rowKey=\"key\"\r\n                    sticky={true}\r\n                    scroll={{ x: width,y:height}} \r\n                    columns={columns}\r\n                    size=\"middle\"\r\n                    loading={loading}\r\n                    pagination={false}\r\n                >\r\n\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Table, Button, message, Modal, Input, Form, DatePicker,Select} from 'antd'\r\nimport moment from 'moment'\r\nimport locale from 'antd/es/date-picker/locale/zh_CN';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport memoryUtils from '../../utils/memoryUtils'\r\n//引入配置\r\n\r\nimport { GetDdOrder_columns, GetDdOrder_Det_Status } from '../../config/table-columns'\r\n//引入工具\r\nimport { getPageRoles,isOpt,ConvertFomrData } from '../../utils'\r\n//引入api\r\nimport { getDdOrder, editDdOrder, DdOrder_DetExt, editDdOrder_status, delDdOrder, demantExe, getV_DdOrder_Det,updateCgBaseBum } from '../../api'\r\nconst { confirm } = Modal;\r\nexport default class DdOrder extends Component {\r\n    //对话框配置\r\n    formRef = React.createRef(); \r\n    formRef2 = React.createRef();\r\n    Modal_DID = 0;\r\n    statusDt = moment();\r\n    layout = {\r\n        labelCol: {\r\n            span: 4,\r\n        },\r\n        wrapperCol: {\r\n            span: 16,\r\n        },\r\n    };\r\n    //state配置\r\n    state = {\r\n        dataSource: [],\r\n        searchText: '',\r\n        searchedColumn: '',\r\n        selectedRowKeys: [],\r\n        //记录当前查询条件\r\n        SearchContation: {},\r\n        Fuc_Del: true,\r\n        loading: true,\r\n        current: 1,\r\n        dataTotal: 0,\r\n        ModalTitle: '编辑',\r\n        //编辑对话框是否显示\r\n        isModalEditShow: false,\r\n        //需求计划执行对话框是否显示\r\n        isModalExeShow: false,\r\n        isModalDetStatusShow: false,\r\n        isModalMsgShow: false,\r\n        DataSource_DetStatus: [],\r\n        isDetTools: true,\r\n        selectedRowKeys2: [],\r\n        Order: \"\",\r\n        SorterContation: '',//排序\r\n        Fuc_Edit:false,\r\n        Fuc_Exe:false,\r\n        Fuc_Bj:false,\r\n        Fuc_Jj:false,\r\n        Fuc_Cg:false,\r\n        //页面值绑定\r\n        CgBaseTime:'',\r\n        Btn_CgBaseload:false\r\n    }\r\n\r\n    handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n        confirm();\r\n        this.setState({\r\n            searchText: selectedKeys[0],\r\n            searchedColumn: dataIndex,\r\n        });\r\n    };\r\n    //删除\r\n    ModalDel = async (record, app) => {\r\n        if (record.status === '是') {\r\n            message.warn(\"生效调度单不可删除\");\r\n            return;\r\n        }\r\n        //delDdOrder \r\n        confirm({\r\n            title: '是否删除数据?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            okText: '是',\r\n            okType: 'danger',\r\n            cancelText: '否',\r\n            async onOk() {\r\n                //record.ID\r\n                const formData = new FormData();\r\n                formData.append(\"ID\", record.ID);\r\n                const result = await delDdOrder(formData);\r\n                if (result.status === 0) {\r\n                    message.success(\"删除成功\");\r\n                    Modal.destroyAll();\r\n                    const { current, SearchContation } = app.state;\r\n                    const pageSize = 20;\r\n                    app.handleTableChange({ current, pageSize }, SearchContation);\r\n                } else {\r\n                    message.error(\"服务器无响应\");\r\n                    Modal.destroyAll();\r\n                }\r\n            },\r\n            onCancel() {\r\n            },\r\n        })\r\n    }\r\n    //编辑对话框\r\n    ModalEdit = (record, _this) => {\r\n        _this.setState({ isModalEditShow: true, ModalTitle: '编辑' }, () => {\r\n            _this.formRef.current.setFieldsValue(record)\r\n        })\r\n    }\r\n    //更改生效状态\r\n    changeStatus = async (record, _this) => {\r\n        //record.status,record.UpTime,record.PlanDt,recored.\r\n        const formData = ConvertFomrData(record);\r\n        const result = await editDdOrder_status(formData);\r\n        if (result.status === 0) {\r\n            const { current, SearchContation } = this.state;\r\n            const pageSize = 20;\r\n            message.success(\"更改成功\");\r\n            this.handleTableChange({ current, pageSize }, SearchContation);\r\n        } else {\r\n            message.error(\"网络错误\");\r\n        }\r\n    }\r\n    //关闭对话框\r\n    ModalEditCancel = () => {\r\n        this.setState({ isModalEditShow: false });\r\n    }\r\n    //编辑\r\n    ModalEditOk = async () => {\r\n        const form = this.formRef.current;\r\n        try {\r\n            await form.validateFields();\r\n        } catch (errorInfo) {\r\n            message.warn('请检查数据的正确性')\r\n            return;\r\n        }\r\n        const formData = ConvertFomrData(form.getFieldsValue(true))\r\n        const result = await editDdOrder(formData);\r\n        if (result.status === 0) {\r\n            const { current, SearchContation } = this.state;\r\n            const pageSize = 20;\r\n            message.success(\"编辑成功\");\r\n            this.handleTableChange({ current, pageSize }, SearchContation);\r\n\r\n        } else {\r\n            message.error(\"服务器无响应\");\r\n        }\r\n        this.setState({ isModalEditShow: false })\r\n    }\r\n    //重置\r\n    handleReset = clearFilters => {\r\n        clearFilters();\r\n        this.setState({ searchText: '' });\r\n    };\r\n    //明细汇总\r\n    OrderDet = () => {\r\n        const { history } = this.props;\r\n        const { selectedRowKeys} = this.state;\r\n        //IDS\r\n        if (selectedRowKeys.length === 0) {\r\n            message.warn(\"请先选择要汇总的调度单\");\r\n            return;\r\n        }\r\n        //\r\n        history.push({ pathname: \"/Admin/DdOrder/DdOrderDet\", IDS: selectedRowKeys.join(',') });\r\n    }//表格更改时调用的方法 confirm({ closeDropdown: false }); =查询\r\n    handleTableChange = async (pagination = {}, filters = {}, sorter = {}) => {\r\n        const { SearchContation } = this.state;\r\n        let { SorterContation } = this.state;\r\n        if (pagination.current === undefined) {\r\n            SearchContation.page = 1;\r\n            SearchContation.pageSize = 20;\r\n        } else {\r\n            SearchContation.page = pagination.current;\r\n            SearchContation.pageSize = pagination.pageSize;\r\n        }\r\n        //翻页请求\r\n        if (filters !== {}) {\r\n            for (let key in filters) {\r\n                SearchContation[key] = filters[key];\r\n            }\r\n        }\r\n        \r\n        if (typeof (sorter) === \"object\") {\r\n            if(sorter.length!==undefined){\r\n                let Sorts = [];\r\n            sorter.forEach(item => {\r\n                if (item.order === \"descend\") {\r\n                    Sorts.push(\" \" + item.column.dataIndex + \" desc\");\r\n                } else {\r\n                    Sorts.push(\" \" + item.column.dataIndex + \" \");\r\n                }\r\n            })\r\n            SorterContation = Sorts.join(',');\r\n            }else if(sorter.column===undefined){\r\n\r\n            }else if (sorter.order === \"descend\") {\r\n                SorterContation = \" \" + sorter.column.dataIndex + \" desc\";\r\n            } else {\r\n                SorterContation = \" \" + sorter.column.dataIndex + \" \";\r\n            }\r\n        }\r\n    //用于提交到后台\r\n    const formData = new FormData();\r\n    for(let key in SearchContation) {\r\n    if (SearchContation[key] !== null) {\r\n        formData.append(key, SearchContation[key]);\r\n    }\r\n}\r\nformData.append('Order', SorterContation);\r\nthis.setState({ loading: true })\r\nlet result = await getDdOrder(formData);\r\ntry {\r\n    if (result.status === 0) {\r\n        console.dir(result);\r\n        const { V_DdOrder, V_DdOrder_Count } = result.data;\r\n        this.setState({ loading: false, dataSource: V_DdOrder, SearchContation, dataTotal: V_DdOrder_Count, current: SearchContation.page })\r\n    } else {\r\n        this.setState({ loading: false })\r\n        message.error(\"网络无响应\");\r\n    }\r\n} catch (error) {\r\n    this.setState({ loading: false })\r\n    message.error(\"网络无响应\");\r\n}\r\n        \r\n    }\r\n//查询点击\r\nSearchDet = async (DID, flg) => {\r\n    var formData = new FormData();\r\n    formData.append(\"IDS\", DID);\r\n    const result = await getV_DdOrder_Det(formData);\r\n    if (result.status === 0) {\r\n        const { V_DdOrder_Det } = result.data;\r\n        //console.dir(V_DdOrder_Det);\r\n        this.Modal_DID = DID;\r\n        let newData = [];\r\n        if (V_DdOrder_Det.length > 0) {\r\n            newData.push(V_DdOrder_Det[0]);\r\n            for (let i = 1; i < V_DdOrder_Det.length; i++) {\r\n                //Datetime1\r\n                let flg = newData.find(item => item.Datetime1 === V_DdOrder_Det[i].Datetime1);\r\n                if (flg === undefined) {\r\n                    newData.push(V_DdOrder_Det[i]);\r\n                }else{\r\n                    flg.ID +=\",\"+V_DdOrder_Det[i].ID\r\n                }\r\n            }\r\n        }\r\n        this.setState({ isModalDetStatusShow: true, DataSource_DetStatus: newData, isDetTools: flg, selectedRowKeys2: [] })\r\n        //GetDdOrder_Det_Status\r\n    } else {\r\n        message.error(\"网络错误\");\r\n    }\r\n    //getV_DdOrder_Det\r\n}\r\n//导入调度单\r\nExcelIn = () => {\r\n    const { history } = this.props;\r\n    history.push({ pathname: \"/Admin/DdOrder/DdOrderExcel\" });\r\n}\r\n//需求计划执行 对话框\r\ndemantExe = async () => {\r\n    const { selectedRowKeys, dataSource } = this.state;\r\n    if (selectedRowKeys.length !== 1) {\r\n        message.warn(\"一次只能选择一条调度单\");\r\n        return;\r\n    }\r\n    const record = dataSource.filter(item => {\r\n        if (item.ID === selectedRowKeys[0]) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    })\r\n    if (record[0].status !== '是') {\r\n        message.warn(\"不生效的调度单不可执行需求计划\");\r\n        return;\r\n    }\r\n    this.setState({ isModalExeShow: true }, () => {\r\n        const Year = record[0].PlanDt.substring(0, 4);\r\n        const Month = record[0].PlanDt.substring(4, 6);\r\n        const dt = new Date(Year + \"-\" + Month);\r\n        this.formRef2.current.setFieldsValue({ ID: selectedRowKeys[0], dt: moment(dt).startOf('Month') })\r\n    })\r\n}\r\n//需求计划明细执行\r\ndemantExe_Det = async (type) => {\r\n    //selectedRowKeys2\r\n    const { selectedRowKeys2} = this.state;\r\n    //console.dir(moment(this.statusDt).format(\"YYYYMMDD\"));\r\n    if (selectedRowKeys2.length === 0) {\r\n        message.warn(\"请选择先选择明细\");\r\n        return;\r\n    }\r\n    var formdata = new FormData();\r\n    let user = memoryUtils.user;\r\n    formdata.append(\"DID\", this.Modal_DID);\r\n    //let IDS = \"\";\r\n    //DataSource_DetStatus\r\n\r\n    formdata.append(\"IDS\", selectedRowKeys2.join(','));\r\n    formdata.append(\"type\", type);\r\n    formdata.append(\"dt\", moment(this.statusDt).format(\"YYYYMMDD\"));\r\n    formdata.append(\"UserName\",user.UserName);\r\n    message.success(\"需求计划执行中，请等待\");\r\n    const result = await DdOrder_DetExt(formdata);\r\n    if (result.status === 0) {\r\n        this.setState({ isModalMsgShow: true });\r\n    } else {\r\n        message.error(\"网络错误\");\r\n    }\r\n}\r\n//需求计划执行\r\nModalExeOk = async () => {\r\n    const form = this.formRef2.current;\r\n    try {\r\n        await form.validateFields();\r\n    } catch (errorInfo) {\r\n        message.warn('请检检查数据正确性')\r\n        return;\r\n    }\r\n    var data = form.getFieldsValue(true);\r\n    data.newdt = moment(data.dt).format(\"YYYYMMDD\");\r\n    let user = memoryUtils.user;\r\n    var formData = new FormData();\r\n    formData.append(\"ID\", data.ID);\r\n    formData.append(\"dt\", data.newdt);\r\n    formData.append(\"UserName\",user.UserName);\r\n    //\r\n    message.success(\"需求计划执行中，请等待\");\r\n    const result = await demantExe(formData);\r\n    if (result.status === 0) {\r\n        const { current, SearchContation } = this.state;\r\n        const pageSize = 20;\r\n        this.handleTableChange({ current, pageSize }, SearchContation);\r\n \r\n    } else if (result.status === 1) {\r\n        message.error(\"需求计划执行失败:\" + result.msg);\r\n    }\r\n    this.setState({ isModalExeShow: false });\r\n}\r\nModalExeCancel = async () => {\r\n    this.setState({ isModalExeShow: false })\r\n}\r\nModalDetStatusCancel = () => {\r\n    this.setState({ isModalDetStatusShow: false })\r\n}\r\nonSelectChange = selectedRowKeys => {\r\n    this.setState({ selectedRowKeys });\r\n}\r\nonSelectChange2 = selectedRowKeys => {\r\n    this.setState({ selectedRowKeys2: selectedRowKeys });\r\n}\r\nonSelectDet_Error = (record, key) => {\r\n    let newSelects = [];\r\n    record.forEach(item => {\r\n        if (item[key] !== \"已完成\") {\r\n            newSelects.push(item.ID);\r\n        }\r\n    })\r\n    this.setState({ selectedRowKeys2: newSelects })\r\n}\r\n//钣金需求\r\ndemantBj = () => {\r\n    //selectedRowKeys\r\n    //selectedRowKeys\r\n    const { dataSource, selectedRowKeys } = this.state;\r\n    var LTOrders = [];\r\n    var newRecord = dataSource.filter(item => {\r\n        for (let i = 0; i < selectedRowKeys.length; i++) {\r\n            if (selectedRowKeys[i] === item.ID) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    })\r\n    for (let i = 0; i < newRecord.length; i++) {\r\n        if (newRecord[i].BjStatus !== '已完成') {\r\n            message.warn(\"不能选择未完成的调度单\");\r\n            return;\r\n        }\r\n        LTOrders.push(newRecord[i].LTOrder);\r\n    }\r\n    for (let i = 0; i < newRecord.length; i++) {\r\n        for (let j = i + 1; j < newRecord.length; j++) {\r\n            if (newRecord[i].PlanDt !== newRecord[j].PlanDt) {\r\n                message.warn(\"不能选择计划月份不同的调度单\");\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    const { history } = this.props;\r\n    history.push({ pathname: \"/Admin/DdOrder/DdOrder_BjInfo2\", DIDS: selectedRowKeys.join(','), LTOrders: LTOrders.join(',') });\r\n\r\n}\r\n//机加需求\r\ndemantJj = () => {\r\n    //selectedRowKeys\r\n    const { dataSource, selectedRowKeys } = this.state;\r\n    var LTOrders = [];\r\n    var newRecord = dataSource.filter(item => {\r\n        for (let i = 0; i < selectedRowKeys.length; i++) {\r\n            if (selectedRowKeys[i] === item.ID) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    })\r\n    for (let i = 0; i < newRecord.length; i++) {\r\n        if (newRecord[i].JjStatus !== '已完成') {\r\n            message.warn(\"不能选择未完成的调度单\");\r\n            return;\r\n        }\r\n        LTOrders.push(newRecord[i].LTOrder);\r\n    }\r\n    for (let i = 0; i < newRecord.length; i++) {\r\n        for (let j = i + 1; j < newRecord.length; j++) {\r\n            if (newRecord[i].PlanDt !== newRecord[j].PlanDt) {\r\n                message.warn(\"不能选择计划月份不同的调度单\");\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    const { history } = this.props;\r\n    history.push({ pathname: \"/Admin/DdOrder/DdOrder_JjInfo\", DIDS: selectedRowKeys.join(','), LTOrders: LTOrders.join(',') });\r\n\r\n}\r\n//采购需求\r\ndemantCg = () => {\r\n    //selectedRowKeys\r\n    const { dataSource, selectedRowKeys } = this.state;\r\n    var LTOrders = [];\r\n    var newRecord = dataSource.filter(item => {\r\n        for (let i = 0; i < selectedRowKeys.length; i++) {\r\n            if (selectedRowKeys[i] === item.ID) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    })\r\n    for (let i = 0; i < newRecord.length; i++) {\r\n        if (newRecord[i].JjStatus !== '已完成') {\r\n            message.warn(\"不能选择<未完成>的调度单\");\r\n            return;\r\n        }\r\n        LTOrders.push(newRecord[i].LTOrder);\r\n    }\r\n    for (let i = 0; i < newRecord.length; i++) {\r\n        for (let j = i + 1; j < newRecord.length; j++) {\r\n            if (newRecord[i].PlanDt !== newRecord[j].PlanDt) {\r\n                message.warn(\"不能选择<计划月份>不同的调度单\");\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    for(let i=0;i<newRecord.length;i++){\r\n        if(newRecord[0].CgBaseTime!==newRecord[i].CgBaseTime){\r\n            message.warn(\"请选择<采购库存基准日期>相同的调度单\");\r\n            return;\r\n        }\r\n    }\r\n    let BaseTime = \"\";\r\n    if(newRecord[0].CgBaseTime!==\"\"){\r\n        BaseTime = moment(newRecord[0].CgBaseTime).format(\"YYYY/MM/DD\");\r\n    }\r\n    const { history } = this.props;\r\n    history.push({ pathname: \"/Admin/DdOrder/DdOrder_CgInfo\", DIDS: selectedRowKeys.join(','), LTOrders: LTOrders.join(','),BaseTime:BaseTime});\r\n\r\n}\r\n//更新采购需求基准日期\r\ndemantCgBaseTime = async ()=>{\r\n    //strKcDate YYYYMMDD\r\n    //strUserCode 不输入 \r\n    //iDID 1,2,3\r\n    const {CgBaseTime,selectedRowKeys,dataSource} = this.state;\r\n    if(CgBaseTime===\"\"){\r\n        message.warn(\"请选择采购库存基准日期\");\r\n        return;\r\n    }\r\n    if(selectedRowKeys===\"\" || selectedRowKeys.length===0){\r\n        message.warn(\"请选择要更新采购基准日期的调度单\");\r\n        return;\r\n    }\r\n    let datas = dataSource.filter(item=>selectedRowKeys.find(item2=>item2===item.ID));\r\n    const strKcDate = CgBaseTime.format(\"YYYYMMDD\");\r\n    datas = datas.find(item=>item.CgStatus!=='已完成');\r\n    if(datas!==undefined){\r\n        message.warn(\"请选择采购状态已完成的调度单\");\r\n        return;\r\n    }\r\n    let formData =  new FormData();\r\n    formData.append(\"strKcDate\",strKcDate);\r\n    formData.append(\"iDID\",selectedRowKeys.join(','));\r\n    this.setState({Btn_CgBaseload:true});\r\n    const result = await updateCgBaseBum(formData);\r\n    if(result.status === 0){\r\n        this.setState({Btn_CgBaseload:false});\r\n        message.success(\"库存更新成功\");\r\n    }else{\r\n        this.setState({Btn_CgBaseload:false});\r\n        message.error(\"服务器无响应\");\r\n    }\r\n}\r\nModalMsgHide = () => {\r\n    this.setState({ isModalMsgShow: false });\r\n\r\n}\r\n\r\ncomponentDidMount = async () => {\r\n    this.handleTableChange();\r\n    let Fuc_Edit=false,Fuc_Exe=false;\r\n        let Fuc_Bj=false,Fuc_Jj=false,Fuc_Cg=false;\r\n        let Fuc_BjExe,Fuc_JiExe,Fuc_CgExe;\r\n        const {pathname} = this.props.location;\r\n        this.Roles = await getPageRoles(pathname);\r\n        if(isOpt(this.Roles,\"编辑\")){\r\n            Fuc_Edit = true;\r\n        }\r\n        if(isOpt(this.Roles,\"需求计划执行\")){\r\n            Fuc_Exe = true;\r\n        }\r\n        if(isOpt(this.Roles,\"钣金需求报表\")){\r\n            Fuc_Bj = true;\r\n        }\r\n        if(isOpt(this.Roles,\"机加需求报表\")){\r\n            Fuc_Jj = true;\r\n        }\r\n        if(isOpt(this.Roles,\"采购需求报表\")){\r\n            Fuc_Cg = true;\r\n        }\r\n        if(isOpt(this.Roles,\"钣金执行\")){\r\n            Fuc_BjExe = true;\r\n        }\r\n        if(isOpt(this.Roles,\"机加执行\")){\r\n            Fuc_JiExe = true;\r\n        }\r\n        if(isOpt(this.Roles,\"采购执行\")){\r\n            Fuc_CgExe = true;\r\n        }\r\n        this.setState({Fuc_Edit,Fuc_Exe,Fuc_Bj,Fuc_Jj,Fuc_Cg,Fuc_BjExe,Fuc_JiExe,Fuc_CgExe});\r\n}\r\nrender() {\r\n    //判断权限\r\n\r\n    const DdOrder_columns = GetDdOrder_columns(this);\r\n    const { dataSource,Btn_CgBaseload, loading, SearchContation, ModalTitle, isModalEditShow, current, dataTotal, selectedRowKeys, selectedRowKeys2, isModalExeShow, isModalDetStatusShow, DataSource_DetStatus, isDetTools, isModalMsgShow ,Fuc_Edit,Fuc_Exe,Fuc_Bj,Fuc_Jj,Fuc_Cg,Fuc_BjExe,Fuc_JiExe,Fuc_CgExe} = this.state;\r\n    const rowSelection = {\r\n        selectedRowKeys,\r\n        columnWidth: 15,\r\n        onChange: this.onSelectChange,\r\n    }\r\n    const rowSelection2 = {\r\n        selectedRowKeys: selectedRowKeys2,\r\n        onChange: this.onSelectChange2,\r\n        selections: [\r\n            {\r\n                key: 'SELECT_ALL',\r\n                text: '全选',\r\n                onSelect: changableRowKeys => {\r\n                    this.setState({ selectedRowKeys2: changableRowKeys });\r\n                }\r\n            },\r\n            {\r\n                key: \"SELECT_INVERT\",\r\n                text: '反选',\r\n                onSelect: changableRowKeys => {\r\n                    const { selectedRowKeys2 } = this.state;\r\n                    let newSels = [];\r\n                    DataSource_DetStatus.forEach(item => {\r\n                        let flg = selectedRowKeys2.find(item2 => {\r\n                            return item2 === item.ID\r\n                        });\r\n                        if (flg === undefined) {\r\n                            newSels.push(item.ID);\r\n                        }\r\n                    })\r\n                    this.setState({ selectedRowKeys2: newSels });\r\n                }\r\n            },\r\n            {\r\n                key: 'SELECT_BJ',\r\n                text: '钣金异常全选',\r\n                onSelect: changableRowKeys => {\r\n                    this.onSelectDet_Error(DataSource_DetStatus, \"BjStatus\");\r\n                }\r\n            },\r\n            {\r\n                key: 'SELECT_JJ',\r\n                text: '机加异常全选',\r\n                onSelect: changableRowKeys => {\r\n                    this.onSelectDet_Error(DataSource_DetStatus, \"JjStatus\");\r\n                }\r\n            },\r\n            {\r\n                key: 'SELECT_CG',\r\n                text: '采购异常全选',\r\n                onSelect: changableRowKeys => {\r\n                    this.onSelectDet_Error(DataSource_DetStatus, \"CgStatus\");\r\n                }\r\n            }\r\n        ]\r\n    }\r\n    //selectedRowKeys2\r\n    return (\r\n        <div className=\"main\">\r\n            <div className=\"toolArea\">\r\n                    {Fuc_Edit?<Button type=\"primary\" onClick={() => this.ExcelIn()}>导入调度单</Button>:\"\"}\r\n                    {Fuc_Edit?\" \":\"\"}\r\n                    <Button type=\"primary\" onClick={() => this.OrderDet()} >调度单明细</Button>\r\n                    &emsp;\r\n                    {Fuc_Exe?<Button type=\"primary\" onClick={() => this.demantExe()} >需求计划执行</Button>:\"\"}\r\n                    {Fuc_Exe?\" \":\"\"}\r\n                    {Fuc_Bj?<Button type=\"primary\" onClick={() => this.demantBj()} >钣金需求报表</Button>:\"\"}\r\n                    {Fuc_Bj?\" \":\"\"}\r\n                    {Fuc_Jj?<Button type=\"primary\" onClick={() => this.demantJj()} >机加需求报表</Button>:\"\"}\r\n                    {Fuc_Jj?\" \":\"\"}\r\n                    {Fuc_Cg?<Button type=\"primary\" onClick={() => this.demantCg()} >采购需求报表</Button>:\"\"}\r\n                    {/* {Fuc_Cg?\" \":\"\"}\r\n                    {Fuc_Cg?<Button type=\"primary\" loading={Btn_CgBaseload} onClick={() => this.demantCgBaseTime()} >更新采购库存基准日期</Button>:\"\"}\r\n                    {Fuc_Cg?\" \":\"\"}\r\n                    {Fuc_Cg?<DatePicker locale={locale}  format=\"YYYYMMDD\" onChange={(val)=>this.setState({CgBaseTime:val})}></DatePicker>:\"\"} */}\r\n                    <p style={{ textAlign: \"left\", fontSize: \"22px\" }}>\r\n                        当前查询条件:\r\n                        {SearchContation.LTOrder ? \"订单号:\" + SearchContation.LTOrder + \"\" : \"\"}\r\n                        &emsp;\r\n                        {SearchContation.Faline ? \"产线:\" + SearchContation.Faline + \"\" : \"\"}\r\n                        &emsp;\r\n                        {SearchContation.status ? \"是否生效:\" + SearchContation.status : \"\"}\r\n                </p>\r\n            </div>\r\n            <Table\r\n                rowSelection={rowSelection}\r\n                dataSource={dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                columns={DdOrder_columns}\r\n                size=\"middle\"\r\n                loading={loading}\r\n                pagination={{\r\n                    position: ['bottomCenter'],\r\n                    pageSizeOptions: [20],\r\n                    current: current,\r\n                    total: dataTotal,\r\n                    showTotal: (total, range) => `一共 ${total} 条数据`,\r\n                    pageSize: 20,\r\n                    // onChange:(page,pageSize)=>{\r\n                    //     this.handleTableChange({page:page,pageSize:pageSize});\r\n                    // }\r\n                }}\r\n                onChange={this.handleTableChange}\r\n            >\r\n            </Table>\r\n            <Modal title={ModalTitle} visible={isModalEditShow} onOk={() => this.ModalEditOk()} onCancel={() => this.ModalEditCancel()} >\r\n                <Form ref={this.formRef}  {...this.layout} >\r\n                    <Form.Item\r\n                        name=\"LTOrder\"\r\n                        label=\"调度单号\"\r\n                    >\r\n                        <Input readOnly />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"Faline\"\r\n                        label=\"产线\"\r\n                        defaultValue=\"南线\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: '请输入产线'\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Select>\r\n                            <Select.Option value=\"南线\">\r\n                                南线\r\n                            </Select.Option>\r\n                            <Select.Option value=\"北线\">\r\n                                北线\r\n                            </Select.Option>\r\n                        </Select>\r\n                    </Form.Item>\r\n                    {/* <Form.Item\r\n                            name=\"status\"\r\n                            label=\"生效\"\r\n                            rules={[\r\n                                {\r\n                                    required: true,\r\n                                    message: '请输入选择'\r\n                                },\r\n                            ]}\r\n                        >\r\n                            <Select defaultValue=\"是\">\r\n                                <Option value=\"是\">是</Option>\r\n                                <Option value=\"否\">否</Option>\r\n                            </Select>\r\n                        </Form.Item> */}\r\n                </Form>\r\n            </Modal>\r\n            <Modal title=\"需求计划执行\" visible={isModalExeShow} onOk={() => this.ModalExeOk()} onCancel={() => this.ModalExeCancel()} >\r\n                <Form ref={this.formRef2}>\r\n                    <Form.Item\r\n                        name=\"dt\"\r\n                        label=\"期初库存日期\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: '请输入期初库存日期'\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <DatePicker locale={locale} format=\"YYYYMMDD\"  ></DatePicker>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Modal>\r\n            <Modal title=\"\" width={1000} visible={isModalDetStatusShow} onOk={() => this.ModalDetStatusCancel()} onCancel={() => this.ModalDetStatusCancel()}>\r\n                <div style={{ maxHeight: \"700px\", overflowY: \"scroll\" }}>\r\n                    {\r\n                        isDetTools ?\r\n                            <div style={{ textAlign: \"right\", marginBottom: \"10px\", marginTop: \"10px\" }}>\r\n                                <DatePicker locale={locale} onChange={(val) => this.statusDt = val} format=\"YYYYMMDD\" defaultValue={moment()} placeholder=\"选择计划日期\" ></DatePicker>\r\n                            &nbsp;\r\n                            {Fuc_BjExe?<Button type=\"primary\" onClick={() => this.demantExe_Det(\"BJ\")} >钣金需求计划执行</Button>:\"\"}\r\n                            &nbsp;\r\n                            {Fuc_JiExe?<Button type=\"primary\" onClick={() => this.demantExe_Det(\"JJ\")}>机加需求计划执行</Button>:\"\"}\r\n                            &nbsp;\r\n                            {Fuc_CgExe?<Button type=\"primary\" onClick={() => this.demantExe_Det(\"CG\")}>采购需求计划执行</Button>:\"\"}\r\n                            &nbsp;\r\n                        </div>\r\n                            :\r\n                            <div style={{ textAlign: \"right\", marginBottom: \"10px\", marginTop: \"10px\" }}>\r\n                                <h1>需求计划执行中。</h1>\r\n                            </div>\r\n                    }\r\n\r\n                    <Table\r\n                        rowSelection={rowSelection2}\r\n                        sticky={true}\r\n                        rowKey=\"ID\"\r\n                        bordered\r\n                        dataSource={DataSource_DetStatus}\r\n                        columns={GetDdOrder_Det_Status(this)}\r\n                        size=\"middle\"\r\n                        pagination={false}\r\n                    >\r\n\r\n                    </Table>\r\n                </div>\r\n\r\n            </Modal>\r\n            <Modal visible={isModalMsgShow} onOk={() => this.ModalMsgHide()} onCancel={() => this.ModalMsgHide()} >\r\n            需求计划执行中\r\n                </Modal>\r\n        </div>\r\n    )\r\n}\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Table, Form, DatePicker, Input, Select, Button, Upload, message, Modal, Spin} from 'antd'\r\nimport moment from 'moment'\r\nimport 'moment/locale/zh-cn';\r\nimport locale from 'antd/es/date-picker/locale/zh_CN';\r\nimport LinkButton from '../../components/link-button';\r\nimport XLSX from 'xlsx'\r\nimport { UploadOutlined, CheckCircleTwoTone, ArrowLeftOutlined } from '@ant-design/icons';\r\n//引入工具\r\nimport {downloadDemoFile} from '../../utils'\r\n//引入api\r\nimport { submitDdOrder } from '../../api'\r\n//引入配置\r\nimport { DdOrder_Det_columns } from '../../config/table-columns'\r\nconst { confirm } = Modal;\r\nexport default class DdOrderExcel extends Component {\r\n    formRef = React.createRef();\r\n    state = {\r\n        dataSource: [],\r\n        loading: false,\r\n        uploading: false,\r\n        uploadState: 0,\r\n    }\r\n    key = 0;\r\n    loadExcelUp = false\r\n    attes = {\r\n        name: 'file',\r\n        headers: { authorization: 'authorization-text' },\r\n        showUploadList: false,\r\n        beforeUpload: (file) => {\r\n            if (file.name.lastIndexOf('.xls') === -1 && file.name.lastIndexOf('.xlsx') === -1) {\r\n                message.error(\"请上传Excel文件\");\r\n                return false;\r\n            }\r\n            const columns = DdOrder_Det_columns();\r\n            const fileReader = new FileReader();\r\n            this.setState({ loading: true })\r\n            fileReader.onload = (event, _this) => {\r\n                try {\r\n                    const { result } = event.target;\r\n                    const workbook = XLSX.read(result, { type: 'binary', cellDates: true });\r\n                    let data = []; // 存储获取到的数据\r\n                    var flg = false;\r\n                    for (const sheet in workbook.Sheets) {\r\n                        if (workbook.Sheets.hasOwnProperty(sheet)) {\r\n                            // 利用 sheet_to_json 方法将 excel 转成 json 数据\r\n                            data = data.concat(XLSX.utils.sheet_to_json(workbook.Sheets[sheet]));\r\n                            \r\n                            data = data.map((item,index) => {\r\n                                let single = {}\r\n                                for(var key in item){\r\n                                    var newKey = key.replaceAll(' ','');\r\n                                    var newVal = item[key];\r\n                                    delete item[key];\r\n                                    item[newKey] = newVal;\r\n                                }\r\n                                columns.forEach((item2,index2) => {\r\n                                    if (item[item2.title] !== undefined) {\r\n                                        if (item2.title.indexOf('日期') !== -1 || item2.title.indexOf('时间') !== -1) {\r\n                                            if (item[item2.title] instanceof Date) {\r\n                                                single[item2.dataIndex] = moment(item[item2.title]).format('YYYYMMDD');\r\n                                            }else if((item[item2.title]+\"\").indexOf('/') !== -1 ){\r\n                                                var dts = item[item2.title].split('/');\r\n                                                var YYYYMMDD = dts[0];\r\n                                                if(dts[1].length===1){\r\n                                                    dts[1] = 0 + dts[1];\r\n                                                }\r\n                                                if(dts[2].length===1){\r\n                                                    dts[2] = 0 + dts[2];\r\n                                                }\r\n                                                YYYYMMDD +=dts[1] +dts[2]\r\n                                                single[item2.dataIndex] = YYYYMMDD;\r\n                                            }  else {\r\n                                                if((item[item2.title]+\"\").length!==8){\r\n                                                    console.dir(item[item2.title]+\",\"+index);\r\n                                                    message.error(\"日期位数不对,无法导入,发生在第\"+(index+1)+\"行,\"+(index2+1)+\"列\");\r\n                                                    flg = true;\r\n                                                }\r\n                                                single[item2.dataIndex] = item[item2.title]\r\n                                            }\r\n                                        }\r\n                                        else {\r\n                                            single[item2.dataIndex] = item[item2.title]\r\n                                        }\r\n\r\n                                    }\r\n                                })\r\n                                \r\n                                single.key = \"key\" + (this.key++)\r\n                                return single\r\n                            })\r\n                            if(flg){\r\n                                return;\r\n                            }\r\n                        }\r\n                        //只读一张表\r\n                        break;\r\n                    }\r\n\r\n                    this.setState({ dataSource: data, uploadState: 1 });\r\n                } catch (e) {\r\n                    message.error(\"请上传Excel文件\");\r\n                    throw e;\r\n                }\r\n            }\r\n            this.setState({ loading: true })\r\n            fileReader.readAsBinaryString(file, this);\r\n            return false;\r\n        }\r\n    }\r\n    //提交整个调度单\r\n    DdExcelUp = async () => {\r\n        if (this.loadExcelUp) {\r\n            message.warn(\"文件上传中,请勿重复提交\");\r\n            return;\r\n        }\r\n        const { dataSource } = this.state;\r\n        if (dataSource.length <= 0) {\r\n            message.warn(\"请先提交Excel\");\r\n            return;\r\n        }\r\n        \r\n        const form = this.formRef.current;\r\n        try {\r\n            await form.validateFields();\r\n        } catch (errorInfo) {\r\n            console.dir(errorInfo);\r\n            message.warn(\"请验证数据完整性\")\r\n            return;\r\n        }\r\n\r\n        //头部数据打包\r\n        const HeadData = { ...form.getFieldsValue(true) };\r\n\r\n        const fomrData = new FormData();\r\n        HeadData.PlanDt = moment(HeadData.PlanDt).format(\"YYYYMM\");\r\n        //\r\n        fomrData.append(\"HeadData\", JSON.stringify(HeadData));\r\n        //明细数据打包\r\n\r\n        const SubmitData = dataSource.map(item => {\r\n            return item;\r\n        })\r\n        let i = 0;\r\n        for (; i < SubmitData.length; i++) {\r\n            delete SubmitData[i].TbIndex;\r\n            //检查投产日期和计划月份是否相同 Datetime1,HeadData.PlanDt\r\n            // if((SubmitData[i].Datetime1+\"\").indexOf(HeadData.PlanDt)===-1){\r\n            //     message.warn('请检查Excel的投产日期，和计划月份不同');\r\n            //     return;\r\n            // }\r\n            fomrData.append(`list[${i}]`, JSON.stringify(SubmitData[i]))\r\n        }\r\n        fomrData.append(\"Count\", i);\r\n        this.loadExcelUp = true;\r\n        this.setState({uploading:true})\r\n        try {\r\n            const result = await submitDdOrder(fomrData);\r\n            if (result.status === 0) {\r\n                confirm({\r\n                    icon: <CheckCircleTwoTone twoToneColor=\"#52c41a\" />,\r\n                    title: 'Excel上传成功，请勿重复上传',\r\n                    okText: '确认',\r\n                })\r\n                this.setState({ dataSource: [] })\r\n                this.loadExcelUp = false;\r\n            } else if (result.status === 2) {\r\n                message.error(\"SAP接口错误\");\r\n                this.loadExcelUp = false;\r\n            } else if (result.status === 3) {\r\n                console.dir(result.msg);\r\n                message.error(\"物料编码错误，请检查:\"+JSON.stringify(result.msg));\r\n                this.loadExcelUp = false;\r\n            } else {\r\n                message.error(\"网络错误\");\r\n                this.loadExcelUp = false;\r\n            }\r\n        } catch {\r\n            this.loadExcelUp = false;\r\n            this.setState({uploading:false})\r\n        } finally {\r\n            this.loadExcelUp = false;\r\n            this.setState({uploading:false})\r\n        }\r\n\r\n    }\r\n    DownLoadDemo = ()=>{\r\n        downloadDemoFile(\"调度单模板.xls\");\r\n    }\r\n    handleBack = () => {\r\n        const { history } = this.props;\r\n        history.goBack();\r\n    }\r\n    render() {\r\n        const { dataSource,uploading} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"toolArea\">\r\n                    <Form ref={this.formRef} layout=\"inline\" initialValues={{ Faline: '南线' }}>\r\n                        <Form.Item>\r\n                            <LinkButton onClick={() => this.handleBack()}>\r\n                                <ArrowLeftOutlined />返回调度单\r\n                            </LinkButton>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            label=\"计划月份:\"\r\n                            name=\"PlanDt\"\r\n                            rules={\r\n                                [\r\n                                    {\r\n                                        required: true,\r\n                                        message: '请选择计划月份'\r\n                                    }\r\n                                ]\r\n                            }\r\n                        >\r\n                            <DatePicker locale={locale} picker=\"month\" />\r\n                        </Form.Item>\r\n                        {/* 只能两位 */}\r\n                        <Form.Item\r\n                            label=\"序号\"\r\n                            name=\"NO\"\r\n                            rules={\r\n                                [\r\n                                    {\r\n                                        required: true,\r\n                                        message: '请输入序号'\r\n                                    }\r\n                                ]\r\n                            }\r\n                        >\r\n                            <Input type=\"number\"></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"产线\"\r\n                            name=\"Faline\"\r\n                            rules={\r\n                                [\r\n                                    {\r\n                                        required: true,\r\n                                        message: '请输入产线'\r\n                                    }\r\n                                ]\r\n                            }\r\n\r\n                        >\r\n                            <Select>\r\n                                <Select.Option value=\"南线\">南线</Select.Option>\r\n                                <Select.Option value=\"北线\">北线</Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Upload {...this.attes}>\r\n                                <Button icon={<UploadOutlined />}>Excel导入</Button>\r\n                            </Upload>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" onClick={() => this.DdExcelUp()}>生单</Button>\r\n                            &nbsp;\r\n                            <Button type=\"primary\" onClick={()=>this.DownLoadDemo()}>模板下载</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n                <Table\r\n                    dataSource={dataSource}\r\n                    rowKey=\"key\"\r\n                    bordered\r\n                    columns={DdOrder_Det_columns()}\r\n                    pagination={false}\r\n                    size=\"small\"\r\n                >\r\n                </Table>\r\n                <Spin style={{position:'absolute',left:'48%',top:'47%'}} tip=\"数据上传中...\" spinning={uploading}>\r\n                </Spin>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n//引入组件\r\nimport {Table,message,Button,Modal,Input,Form,DatePicker} from 'antd'\r\nimport moment from 'moment'\r\n//自定义组件\r\nimport LinkButton from '../../components/link-button';\r\n//引入api\r\nimport {getV_DdOrder_Det,editDdOrderDet} from '../../api'\r\n//\r\nimport {YYYYMMDD_To_Datetime,ConvertFomrData,getPageRoles,isOpt} from '../../utils'\r\n//引入配置\r\nimport { DdOrder_Sum_columns,DdOrder_Det_Sum_columns} from '../../config/table-columns'\r\nimport {ArrowLeftOutlined} from '@ant-design/icons';\r\n//引入缓存\r\nimport store from 'store'\r\nimport XLSX from 'xlsx'\r\nimport './index.less'\r\n//扩展表格\r\n\r\nexport default class DdOrderDet extends Component {\r\n    formRef = React.createRef();\r\n    state = {\r\n        dataSource:[],\r\n        loading:true,\r\n        isModalEditShow:false\r\n    }\r\n    componentDidMount = async ()=>{\r\n        this.SearchData();\r\n        let Fuc_Edit = false;\r\n        const {pathname} = this.props.location;\r\n        this.Roles = await getPageRoles(pathname);\r\n        //\r\n        if(isOpt(this.Roles,\"明细编辑\")){\r\n            Fuc_Edit = true;\r\n        }\r\n        this.setState({Fuc_Edit});\r\n    }\r\n    SearchData = async ()=>{\r\n        var {IDS} = this.props.location;\r\n        if(IDS===undefined){\r\n            IDS = store.get(\"DdOrderDet_IDS\");\r\n        }else{\r\n            store.set(\"DdOrderDet_IDS\",IDS);\r\n        }\r\n        //this.setState({loading:true})\r\n        const formData = new FormData();\r\n        formData.append(\"IDS\",IDS);\r\n        const result = await getV_DdOrder_Det(formData);\r\n        if(result.status === 0){\r\n            const {V_DdOrder_Det} = result.data;\r\n            let DdOrder = [];\r\n            var DdOrderObj = {};\r\n            var LTOrder = \"\";\r\n            var NO = \"\";\r\n            var TbCount = \"\";\r\n            V_DdOrder_Det.forEach((item,index)=>{\r\n                if(index===0 || LTOrder!==item.LTOrder || NO!==item.NO || TbCount!==item.TbCount){\r\n                    DdOrderObj = {\r\n                        ID:item.ID,\r\n                        LTOrder:item.LTOrder,\r\n                        TbCount:item.TbCount,\r\n                        NO:item.NO,\r\n                        status:item.status,\r\n                        Faline:item.Faline,\r\n                        PlanDt:item.PlanDt,\r\n                        DetCount:0,\r\n                        Det:[]\r\n                    }\r\n                    \r\n                    DdOrder.push(DdOrderObj);\r\n                    LTOrder = item.LTOrder;\r\n                    NO = item.NO;\r\n                    TbCount = item.TbCount;\r\n                }\r\n                DdOrderObj.Det.push({\r\n                    ID:\"Det\"+item.ID,\r\n                    ZjNo:item.ZjNo,\r\n                    Matnr:item.Matnr,\r\n                    Series:item.Series,\r\n                    Model:item.Model,\r\n                    Box:item.Box,\r\n                    Num:item.Num,\r\n                    Config:item.Config,\r\n                    Datetime1:item.Datetime1,\r\n                    Datetime2:item.Datetime2,\r\n                    Bz:item.Bz,\r\n                    //Det_status:item.Det_status,\r\n                    \r\n                });\r\n                DdOrderObj.DetCount++;\r\n            })\r\n            //重新组建数据\r\n            this.setState({loading:false,dataSource:DdOrder});\r\n\r\n        }else{\r\n            message.error(\"网络错误\");\r\n            this.setState({loading:false})\r\n        }\r\n    }\r\n    handleBack = ()=>{\r\n        const { history } = this.props;\r\n        history.goBack();\r\n    }\r\n    //导出Excel\r\n    ModalExcelOut = ()=>{\r\n        //dataSource\r\n        //1.读取Excel文件\r\n        //2.用 XLSX.utils.sheet_to_json(); 查看数据\r\n        //3.模仿2的数据创建excel\r\n        //XLSX.utils.sheet_to_json();\r\n        const {dataSource} = this.state;\r\n        const keys1 = DdOrder_Sum_columns(this);\r\n        const keys2 = DdOrder_Det_Sum_columns();\r\n        var sheetArray = [];\r\n        const HeadTitle = [];\r\n        const SubHeadTitle = [];\r\n        keys1.forEach(item=>{\r\n            HeadTitle.push(item.title);\r\n        })\r\n        keys2.forEach(item=>{\r\n            SubHeadTitle.push(item.title);\r\n        })\r\n        SubHeadTitle.unshift(\"\");\r\n        sheetArray.push(HeadTitle);\r\n        //console.dir(dataSource);\r\n        dataSource.forEach(item=>{\r\n            let singleArray = [];\r\n            let subsingleArray = [];\r\n            \r\n            for(var key in item){\r\n                if(key!==\"Det\" && key!==\"ID\"){\r\n                    singleArray.push(item[key]);\r\n                }else if(key===\"Det\"){\r\n                    item.Det.forEach(item2=>{\r\n                        let singleArray2 = [\"\",item2.ZjNo,\r\n                        item2.Matnr,\r\n                        item2.Series,\r\n                        item2.Box,\r\n                        item2.Num,\r\n                        item2.Config,\r\n                        item2.Datetime1,\r\n                        item2.Datetime2,\r\n                        item2.Bz,\r\n                        ];\r\n                        subsingleArray.push(singleArray2);\r\n                    })\r\n                }\r\n            }\r\n            sheetArray.push(singleArray);\r\n            if(subsingleArray.length>0){\r\n                sheetArray.push(SubHeadTitle);\r\n                //console.dir(subsingleArray);\r\n                sheetArray = sheetArray.concat(subsingleArray);\r\n            }\r\n        })\r\n        //console.dir(dataSource);\r\n        //console.dir(sheetJson);\r\n        let book = XLSX.utils.book_new();\r\n        // XLSX.utils.cell_add_comment\r\n        // let sheet = XLSX.utils.json_to_sheet(json, {\r\n        //     header: ['姓名', '性别', '年龄']\r\n        // })\r\n        let sheet = XLSX.utils.aoa_to_sheet(\r\n            sheetArray\r\n        );\r\n        sheet[\"!cols\"]=[\r\n            {wch:15},{wch:18},{wch:18},{wch:12},{wch:15},{wch:12},{wch:80},{wch:12},{wch:12},{wch:12},{wch:25}\r\n        ];\r\n        XLSX.utils.book_append_sheet(book, sheet, 'Sheet1')\r\n        XLSX.writeFile(book, '调度单'+moment().format('YYYYMMDD')+'.xlsx')\r\n    }\r\n    ModalEdit = async ()=>{\r\n        const record = {...this.formRef.current.getFieldsValue(true)};\r\n        if(record.Datetime2!==undefined && record.Datetime2!==\"\"){\r\n            record.Datetime2 = moment(record.Datetime2).format(\"YYYYMMDD\");\r\n        }else{\r\n            record.Datetime2 = moment().format(\"YYYYMMDD\");\r\n        }\r\n        \r\n        var formData = ConvertFomrData(record);\r\n        const result = await editDdOrderDet(formData); \r\n        if(result.status===0){\r\n            this.SearchData();\r\n            message.success('编辑成功');\r\n        }else{\r\n            message.error('网络错误');\r\n        }\r\n        this.setState({isModalEditShow:false});\r\n    }\r\n    ModalCancel = ()=>{\r\n        this.setState({isModalEditShow:false});\r\n    }\r\n    ModalEditShow = (record)=>{\r\n        //record.Datetime1 = moment(YYYYMMDD_To_Datetime(record.Datetime1));\r\n        if(record.Datetime2!==undefined && record.Datetime2!==\"\"){\r\n            record.Datetime2 = moment(YYYYMMDD_To_Datetime(record.Datetime2));\r\n        }else{\r\n            record.Datetime2 = moment();\r\n        }\r\n        this.setState({isModalEditShow:true},()=>{\r\n            this.formRef.current.setFieldsValue(record);\r\n        });\r\n    }\r\n    expandedRowRender = (record,index)=>{\r\n            //DdOrder_Det_Sum_columns\r\n    //console.dir(record);\r\n    const data = record.Det;\r\n    const columns = DdOrder_Det_Sum_columns();\r\n    const App = this;\r\n    const {Fuc_Edit} = this.state;\r\n    if(Fuc_Edit){\r\n        columns.push({\r\n            title:'编辑',\r\n            dataIndex:'edit',\r\n            key:'edit',\r\n            width:10,\r\n            render:function(_,record){\r\n                return <Button type=\"primary\" onClick={()=>App.ModalEditShow(record)} >编辑</Button>\r\n            }\r\n        })\r\n    }\r\n    \r\n    //isModalEditShow\r\n    return <Table bordered size=\"small\" rowKey=\"ID\" columns={columns} dataSource={data} pagination={false}></Table>\r\n    }\r\n    render() {\r\n        const {dataSource,loading,isModalEditShow} = this.state;\r\n        const expandedRowRender = this.expandedRowRender;\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"toolArea\">\r\n                    <div style={{float:'left'}}>\r\n                        <LinkButton onClick={() => this.handleBack()}>\r\n                            <ArrowLeftOutlined />返回调度单\r\n                        </LinkButton>\r\n                    </div>\r\n                    <Button type=\"primary\" onClick={() => this.ModalExcelOut()}>Excel导出</Button>\r\n                </div>\r\n                <Table\r\n                dataSource={dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                size = \"middle\"\r\n                columns = {DdOrder_Sum_columns(this)}\r\n                loading = {loading}\r\n                pagination={false}\r\n                expandable={{expandedRowRender,columnWidth:10}}\r\n                >\r\n\r\n                </Table>\r\n                <Modal title=\"调度单明细编辑\" visible={isModalEditShow} onOk={()=>this.ModalEdit()} onCancel={()=>this.ModalCancel()} >\r\n                    <Form ref={this.formRef} layout=\"horizontal\">\r\n                        <Form.Item\r\n                            name=\"ZjNo\"\r\n                            label=\"整机编码\"\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Matnr\"\r\n                            label=\"物料编码\"\r\n                            \r\n                        >\r\n                            <Input readOnly></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Series\"\r\n                            label=\"系  列\"\r\n                        >\r\n                            <Input readOnly disabled></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Box\"\r\n                            label=\"分 动 箱\"\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Num\"\r\n                            label=\"数  量\"\r\n                        >\r\n                            <Input readOnly></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Config\"\r\n                            label=\"配置\"\r\n                        >\r\n                            <Input.TextArea></Input.TextArea>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Datetime1\"\r\n                            label=\"投产日期\"\r\n                        >\r\n                            <Input readOnly></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Datetime2\"\r\n                            label=\"交库日期\"\r\n                        >\r\n                            <DatePicker format=\"YYYYMMDD\"></DatePicker>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Bz\"\r\n                            label=\"备注\"\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Modal>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","\r\nimport React, { Component } from 'react'\r\n//导入组件\r\nimport {Button,Input,Form,DatePicker, Table,message,Spin,Checkbox} from 'antd'\r\n//导入方法\r\nimport moment from 'moment'\r\n//自定义组件\r\nimport LinkButton from '../../components/link-button';\r\n//本地化\r\nimport 'moment/locale/zh-cn';\r\nimport locale from 'antd/es/date-picker/locale/zh_CN';\r\n//自定义方法\r\nimport {ConvertFomrData} from '../../utils'\r\n//导入api\r\nimport {getV_Sum_Num_JiInfo} from '../../api'\r\n//Excel\r\nimport XLSX from 'xlsx'\r\n//导入配置\r\nimport {DdOrder_JjInfo_columns} from '../../config/table-columns'\r\n//导入图标\r\nimport {ArrowLeftOutlined} from '@ant-design/icons';\r\n//引入缓存\r\nimport store from 'store'\r\n\r\nconst {RangePicker} = DatePicker;\r\n//表格扩展\r\nconst expandedRowRender = (record,index)=>{\r\n        //DdOrder_Det_Sum_columns\r\n    //console.dir(record);\r\n    const data = record.Det;\r\n    if (data === undefined || data.length === 0) {\r\n        return \"\";\r\n    }\r\n    // var DetVal = [];\r\n    // var newData = {};\r\n    // for (let i = 0; i < data.length; i++) {\r\n    //     if (newData[data[i].Datetime1] === undefined) {\r\n    //         //console.dir(data[i].Datetime1);\r\n    //         newData[data[i].Datetime1] = 0;\r\n    //     }\r\n    // }\r\n    // for (var key in newData) {\r\n    //     for (let i = 0; i < data.length; i++) {\r\n    //         if (key === data[i].Datetime1) {\r\n    //             newData[key] += (data[i].Menge * 1)\r\n    //         }\r\n    //     }\r\n    // }\r\n    //DetVal.push({ ID: 1, ...newData });\r\n    //根据时间创建多个Table\r\n    //moment(dt).isBetween(dt1,dt2);\r\n    var newColums = [];\r\n    var newData = [];\r\n    //是否创建数组\r\n    var dt1 = null;\r\n    var dt2 = null;\r\n    data.forEach((item,index) => {\r\n        let singleColums = [];\r\n        var dt = new Date(item.Datetime1);\r\n        let dt3 = moment(dt);\r\n        dt3.add(1,'m');\r\n        if(newColums.length===0||!moment(dt3).isBetween(dt1,dt2)){\r\n            let singleArr = {};\r\n            dt1 = moment(dt).startOf(\"month\");\r\n            dt2 = moment(dt).endOf(\"month\");\r\n            let dt4 = moment(dt).startOf(\"month\");\r\n            //插入表头的第一列\r\n            singleColums.push({\r\n                title: '日期',\r\n                dataIndex: '日期',\r\n            })\r\n            //插入表头第一列的内容为空\r\n            singleArr[moment(dt1).format('YYYYMM')] = 0;\r\n            singleArr.ID = moment(dt1).format('YYYYMM');\r\n            //插入其他列\r\n            dt4.add(1, 's');\r\n            for(let i=1;i<=31;i++){\r\n                var key = i<10?'0'+i:''+i;\r\n                singleColums.push({\r\n                    title:key,\r\n                    dataIndex:key,\r\n                })\r\n                singleArr[key] = 0;\r\n            }\r\n            singleArr[\"dt\"]=moment(dt3);\r\n            singleArr[\"日期\"]=moment(dt3).format(\"YYYYMM\");\r\n            newColums.push(singleColums);\r\n            newData.push(singleArr);\r\n        }\r\n        \r\n        newColums.forEach((item2,index2)=>{\r\n            let dt5 = moment(newData[index2][\"dt\"]).startOf(\"month\");\r\n            let dt6 = moment(newData[index2][\"dt\"]).endOf(\"month\");\r\n            if(moment(dt3).isBetween(dt5,dt6)){\r\n                newData[index2][moment(dt3).format('DD')] += item.Menge*1;\r\n            }\r\n            //moment(dt3).format('YYYYMM')\r\n            \r\n        })\r\n    })\r\n    // return (<div>\r\n    //     {\r\n    //         newColums.map((_,index)=>{\r\n    //             return(\r\n    //                 <Table\r\n    //                     bordered\r\n    //                     size=\"small\"\r\n    //                     rowKey=\"ID\"\r\n    //                     key={'tab'+index}\r\n    //                     columns={newColums[index]}\r\n    //                     dataSource={newData}\r\n    //                     pagination={false}\r\n    //                 >\r\n    //                 </Table>\r\n    //             )\r\n    //         })\r\n    //     }\r\n    // </div>)\r\n    return <Table\r\n                bordered\r\n                size=\"small\"\r\n                rowKey=\"ID\"\r\n                columns={newColums[0]}\r\n                dataSource={newData}\r\n                pagination={false}\r\n            >\r\n    </Table>\r\n}\r\n//调度单 机加明细查看\r\nexport default class DdOrder_JjInfo extends Component {\r\n    formRef = React.createRef();\r\n    state = {\r\n        dataSource:[],\r\n        loading:true,\r\n        DIDS:\"\",\r\n        LTOrders:\"\",\r\n        ExcelLoading:false,\r\n        //1 显示系列 0 不显示系列\r\n        model:0,\r\n        expandRowKeys:[]\r\n    }\r\n    ModalExcelOut = async ()=>{\r\n        var { DIDS,ExcelLoading,LTOrders,model} = this.state;//当前的订单\r\n        if(ExcelLoading){\r\n            message.warn(\"数据打包中，请勿重复点击\");\r\n            return;\r\n        }\r\n        const form = this.formRef.current;\r\n        var tempFormData = form.getFieldsValue(true);//当前查询条件\r\n        var ExcelJson = [];\r\n        tempFormData.DIDS = DIDS;\r\n        tempFormData.page = 1;\r\n        tempFormData.pageSize = 99999;\r\n        const FormData = ConvertFomrData(tempFormData);\r\n        //添加loading效果\r\n        this.setState({ExcelLoading:true});\r\n        const result = await getV_Sum_Num_JiInfo(FormData);\r\n        if(result.status === 0){\r\n            const jo_V_JjInfo = result.jo_V_JjInfo.V_JjInfo;\r\n            var jo_V_JiInfoSum = result.jo_V_JiInfoSum.V_JjInfo;\r\n            const colums = DdOrder_JjInfo_columns(model);\r\n            var i = 0;\r\n            var j = 0;\r\n            this.setState({ExcelLoading:false})\r\n            for(;i<jo_V_JiInfoSum.length;i++){\r\n                jo_V_JiInfoSum[i].ID = \"ID\"+i;\r\n                for(;j<jo_V_JjInfo.length;j++){\r\n                    if(jo_V_JiInfoSum[i].Matnr===jo_V_JjInfo[j].Matnr){\r\n                        var dt = new Date(jo_V_JjInfo[j].Datetime1);\r\n                        if(jo_V_JiInfoSum[i][moment(dt).format(\"YYYYMMDD\")]!==undefined){\r\n                            jo_V_JiInfoSum[i][moment(dt).format(\"YYYYMMDD\")] += jo_V_JjInfo[j].Menge*1;\r\n                        }else{\r\n                            jo_V_JiInfoSum[i][moment(dt).format(\"YYYYMMDD\")] = jo_V_JjInfo[j].Menge*1;\r\n                        }\r\n                        \r\n                    }else{\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            var timeCol = [];\r\n            for(let k=0;k<jo_V_JiInfoSum.length;k++){\r\n                let single = {}\r\n                \r\n                for(let l=0;l<colums.length;l++){\r\n                    single[colums[l].title] = jo_V_JiInfoSum[k][colums[l].dataIndex];\r\n                }\r\n                for(let key2 in jo_V_JiInfoSum[k]){\r\n                    if(!isNaN(Number(key2))){\r\n                        single[key2+\" \"] = jo_V_JiInfoSum[k][key2];\r\n                        let temp = timeCol.find(item=>{\r\n                            if(item===Number(key2)){\r\n                                return true;\r\n                            }else{\r\n                                return false;\r\n                            }\r\n                        })\r\n                        if(temp===undefined){\r\n                            timeCol.push(Number(key2));\r\n                        }\r\n                    }\r\n                }\r\n                ExcelJson.push(single);\r\n            }\r\n            //冒泡排序\r\n            for(let k=0;k<timeCol.length;k++){\r\n                for(let l=k;l<timeCol.length;l++){\r\n                    if(timeCol[k]>timeCol[l]){\r\n                        let temp = timeCol[k];\r\n                        timeCol[k] = timeCol[l];\r\n                        timeCol[l] = temp;\r\n                    }\r\n                }\r\n            }\r\n\r\n            let book = XLSX.utils.book_new();\r\n            var newRow = {};\r\n            for(let l = 0; l < colums.length; l++){\r\n                newRow[colums[l].title] = jo_V_JiInfoSum[0][colums[l].dataIndex];\r\n            }\r\n\r\n            for(let k=0;k<timeCol.length;k++){\r\n                //newRow[timeCol[k]] =\r\n                newRow[timeCol[k]+\" \"] =  ExcelJson[0][timeCol[k]+\" \"];\r\n            }\r\n            ExcelJson[0] = newRow;\r\n            let sheet = XLSX.utils.json_to_sheet(ExcelJson);\r\n            sheet[\"!cols\"]=[\r\n                {wch:15},{wch:30},{wch:10},{wch:10},{wch:10},{wch:10}\r\n            ];\r\n            XLSX.utils.book_append_sheet(book, sheet, 'Sheet1')\r\n            XLSX.writeFile(book, `机加需求单 ${LTOrders} `+moment().format('YYYYMMDD')+'.xlsx')\r\n        }else{\r\n            message.error(\"网络错误\");\r\n            this.setState({ExcelLoading:false})\r\n        }\r\n        \r\n    }\r\n    handleBack = ()=>{\r\n        const { history } = this.props;\r\n        history.goBack();\r\n    }\r\n    componentDidMount = ()=>{\r\n        //DIDS 和LTOrdders 必须对应\r\n        var {DIDS,LTOrders} = this.props.location;\r\n        //用于测试后期删掉\r\n        //DIDS = \"76,77,78\";\r\n        //LTOrders = \"LT20210201,LT20210301,LT20210401\";\r\n        if(DIDS===undefined || LTOrders===undefined){\r\n            DIDS = store.get(\"DdOrder_JjInfo_DIDS\");\r\n            LTOrders = store.get(\"DdOrder_JjInfo_LTOrders\");\r\n        }else{\r\n            store.set(\"DdOrder_JjInfo_DIDS\",DIDS);\r\n            store.set(\"DdOrder_JjInfo_LTOrders\",LTOrders);\r\n        }\r\n        this.setState({DIDS:DIDS,LTOrders},()=>{\r\n            this.SearchData();\r\n        })\r\n    }\r\n    SearchData = async ()=>{\r\n        var { DIDS} = this.state;\r\n        const form = this.formRef.current;\r\n        if(DIDS===\"\" || DIDS===undefined){\r\n            DIDS=\"0\";\r\n        }\r\n        \r\n        var tempFormData = form.getFieldsValue(true);\r\n        tempFormData.DIDS = DIDS;\r\n        \r\n        if(tempFormData.model!==undefined){\r\n            let tepModel = tempFormData.model[0];\r\n            delete  tempFormData.model;\r\n            tempFormData.model = tepModel;\r\n        }\r\n        const FormData = ConvertFomrData(tempFormData);\r\n        \r\n        this.setState({loading:true})\r\n        const result = await getV_Sum_Num_JiInfo(FormData);\r\n        if(result.status===0){\r\n            const jo_V_JjInfo = result.jo_V_JjInfo.V_JjInfo;\r\n            var jo_V_JiInfoSum = result.jo_V_JiInfoSum.V_JjInfo;\r\n            var i = 0;\r\n            var j = 0;\r\n            for(;i<jo_V_JiInfoSum.length;i++){\r\n                jo_V_JiInfoSum[i].ID = \"ID\"+i;\r\n                for(;j<jo_V_JjInfo.length;j++){\r\n                    if(tempFormData.model===\"1\"){\r\n                        if(jo_V_JiInfoSum[i].Matnr===jo_V_JjInfo[j].Matnr && jo_V_JiInfoSum[i].Series === jo_V_JjInfo[j].Series){\r\n                        \r\n                            if(jo_V_JiInfoSum[i].Det===undefined){\r\n                                jo_V_JiInfoSum[i].Det = [];\r\n                            }\r\n                            jo_V_JiInfoSum[i].Det.push(jo_V_JjInfo[j]);\r\n                        }else{\r\n                            break;\r\n                        }\r\n                    }else{\r\n                        if(jo_V_JiInfoSum[i].Matnr===jo_V_JjInfo[j].Matnr){\r\n                            if(jo_V_JiInfoSum[i].Det===undefined){\r\n                                jo_V_JiInfoSum[i].Det = [];\r\n                            }\r\n                            jo_V_JiInfoSum[i].Det.push(jo_V_JjInfo[j]);\r\n                        }else{\r\n                            break;\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n            }\r\n            //var NewSum = [];\r\n            this.setState({loading:false,dataSource:jo_V_JiInfoSum,model:tempFormData.model})\r\n        }else{\r\n            this.setState({loading:false});\r\n            message.error(\"网络错误\");\r\n        }\r\n    }\r\n    OpenOrCloseAll = () => {\r\n        //expandRowKeys\r\n        const { expandRowKeys, dataSource } = this.state;\r\n        if (expandRowKeys.length > 0) {//关闭\r\n            this.setState({ expandRowKeys: [] });\r\n        } else {//展开\r\n            let newArr = [];\r\n            for (let i = 0; i < dataSource.length; i++) {\r\n                newArr.push(dataSource[i].ID);\r\n            }\r\n            this.setState({ expandRowKeys: newArr });\r\n        }\r\n    }\r\n    OpenOrCloseSingle = (record, type) => {\r\n        let { expandRowKeys } = this.state;\r\n        if (type) {\r\n            expandRowKeys.push(record.ID);\r\n        } else {\r\n            expandRowKeys = expandRowKeys.filter(item => {\r\n                if (item === record.ID) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            })\r\n        }\r\n        this.setState({ expandRowKeys });\r\n    }\r\n    render() {\r\n        const {loading,dataSource,LTOrders,ExcelLoading,model,expandRowKeys} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"toolArea\">\r\n                    <Form layout=\"inline\" ref={this.formRef} >\r\n                        <Form.Item>\r\n                            <LinkButton onClick={() => this.handleBack()}>\r\n                                <ArrowLeftOutlined />返回调度单\r\n                            </LinkButton>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Datetime1\"\r\n                            label=\"时间\"\r\n                        >\r\n                            <RangePicker locale={locale}/>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Series\"\r\n                            label=\"系列\"\r\n                        >\r\n                            <Input/>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Matnr\"\r\n                            label=\"物料编码\"\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Maktx\"\r\n                            label=\"物料描述\"\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"bz\"\r\n                            label=\"班组\"\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"model\"\r\n                            label=\"区分系列\"\r\n                        >\r\n                            <Checkbox.Group>\r\n                                <Checkbox value=\"1\"></Checkbox>\r\n                            </Checkbox.Group>\r\n                            \r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" onClick={()=>this.SearchData()} >查询</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n                <div>\r\n                    <div style={{width:\"75%\",float:\"left\"}}>\r\n                        <h1 style={{fontSize:'20px',paddingLeft:'20px',lineHeight:'35px'}}>\r\n                        <Button onClick={() => this.OpenOrCloseAll()}>展开/关闭所有行</Button>\r\n                            单号:{LTOrders}\r\n                            </h1>\r\n                    </div>\r\n                    <div style={{width:\"24%\",float:\"left\",textAlign:'right'}}>\r\n                        <Button type=\"primary\" onClick={()=>this.ModalExcelOut()} >Excel导出</Button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <Table\r\n                dataSource = {dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                size = \"middle\"\r\n                columns = {DdOrder_JjInfo_columns(model)}\r\n                loading = {loading}\r\n                pagination={false}\r\n                expandable={{\r\n                    expandRowByClick: true,\r\n                    expandedRowRender,\r\n                    columnWidth:4,\r\n                    indentSize: 0,\r\n                    expandedRowKeys: expandRowKeys,\r\n                    onExpand: (expanded, record) => { this.OpenOrCloseSingle(record, expanded) }\r\n                }}\r\n                >\r\n\r\n                </Table>\r\n                <Spin style={{position:'absolute',left:'48%',top:'47%'}} tip=\"数据打包Excel...\" spinning={ExcelLoading}></Spin>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n//导入组件\r\nimport { Button, Input, Form, DatePicker, Table, message, Spin, Checkbox } from 'antd'\r\n//导入方法\r\nimport moment from 'moment'\r\n//自定义组件\r\nimport LinkButton from '../../components/link-button';\r\n//引入less\r\nimport './index.less'\r\n//本地化\r\nimport 'moment/locale/zh-cn';\r\nimport locale from 'antd/es/date-picker/locale/zh_CN';\r\n//自定义方法\r\nimport { ConvertFomrData } from '../../utils'\r\n//导入api\r\nimport { getV_Sum_Num_CgInfo,updateCgBaseBum } from '../../api'\r\n//Excel\r\nimport XLSX from 'xlsx'\r\n//导入配置\r\nimport { DdOrder_CgInfo_columns} from '../../config/table-columns'\r\nimport { ArrowLeftOutlined } from '@ant-design/icons';\r\n//引入缓存\r\nimport store from 'store'\r\nconst { RangePicker } = DatePicker;\r\n//表格扩展 \r\nconst expandedRowRender = (record, index) => {\r\n    //DdOrder_Det_Sum_columns\r\n    //console.dir(record);\r\n    const data = record.Det;\r\n    if (data === undefined || data.length === 0) {\r\n        return \"\";\r\n    }\r\n    // var DetVal = [];\r\n    // var newData = {};\r\n    // for (let i = 0; i < data.length; i++) {\r\n    //     if (newData[data[i].Datetime1] === undefined) {\r\n    //         //console.dir(data[i].Datetime1);\r\n    //         newData[data[i].Datetime1] = 0;\r\n    //     }\r\n    // }\r\n    // for (var key in newData) {\r\n    //     for (let i = 0; i < data.length; i++) {\r\n    //         if (key === data[i].Datetime1) {\r\n    //             newData[key] += (data[i].Menge * 1)\r\n    //         }\r\n    //     }\r\n    // }\r\n    //DetVal.push({ ID: 1, ...newData });\r\n    //根据时间创建多个Table\r\n    //moment(dt).isBetween(dt1,dt2);\r\n    var newColums = [];\r\n    var newData = [];\r\n    //是否创建数组\r\n    var dt1 = null;\r\n    var dt2 = null;\r\n    data.forEach((item,index) => {\r\n        let singleColums = [];\r\n        var dt = new Date(item.Datetime1);\r\n        let dt3 = moment(dt);\r\n        dt3.add(1,'m');\r\n        if(newColums.length===0||!moment(dt3).isBetween(dt1,dt2)){\r\n            let singleArr = {};\r\n            dt1 = moment(dt).startOf(\"month\");\r\n            dt2 = moment(dt).endOf(\"month\");\r\n            let dt4 = moment(dt).startOf(\"month\");\r\n            //插入表头的第一列\r\n            singleColums.push({\r\n                title: '日期',\r\n                dataIndex: '日期',\r\n            })\r\n            //插入表头第一列的内容为空\r\n            singleArr[moment(dt1).format('YYYYMM')] = 0;\r\n            singleArr.ID = moment(dt1).format('YYYYMM');\r\n            //插入其他列\r\n            dt4.add(1, 's');\r\n            for(let i=1;i<=31;i++){\r\n                var key = i<10?'0'+i:''+i;\r\n                singleColums.push({\r\n                    title:key,\r\n                    dataIndex:key,\r\n                })\r\n                singleArr[key] = 0;\r\n            }\r\n            singleArr[\"dt\"]=moment(dt3);\r\n            singleArr[\"日期\"]=moment(dt3).format(\"YYYYMM\");\r\n            newColums.push(singleColums);\r\n            newData.push(singleArr);\r\n        }\r\n        newColums.forEach((item2,index2)=>{\r\n            let dt5 = moment(newData[index2][\"dt\"]).startOf(\"month\");\r\n            let dt6 = moment(newData[index2][\"dt\"]).endOf(\"month\");\r\n            if(moment(dt3).isBetween(dt5,dt6)){\r\n                //console.log(newData[index2][moment(dt3).format('DD')] );\r\n                newData[index2][moment(dt3).format('DD')] += item.Menge*1;\r\n            }\r\n            //moment(dt3).format('YYYYMM')\r\n        })\r\n    })\r\n    // return (<div>\r\n    //     {\r\n    //         newColums.map((_,index)=>{\r\n    //             return(\r\n    //                 <Table\r\n    //                     bordered\r\n    //                     size=\"small\"\r\n    //                     rowKey=\"ID\"\r\n    //                     key={'tab'+index}\r\n    //                     columns={newColums[index]}\r\n    //                     dataSource={newData}\r\n    //                     pagination={false}\r\n    //                 >\r\n    //                 </Table>\r\n    //             )\r\n    //         })\r\n    //     }\r\n    // </div>)\r\n    return <Table\r\n                bordered\r\n                size=\"small\"\r\n                rowKey=\"ID\"\r\n                columns={newColums[0]}\r\n                dataSource={newData}\r\n                pagination={false}\r\n            >\r\n    </Table>\r\n\r\n}\r\n//调度单 采购明细查看\r\nexport default class DdOrder_CgInfo extends Component {\r\n    formRef = React.createRef();\r\n    state = {\r\n        dataSource: [],\r\n        ViewMode:'V_CgInfo',//当前对应的视图是哪个 V_CgInfo V_CgInfo_kc\r\n        loading: true,\r\n        Btn_CgBaseload:false,\r\n        DIDS: \"\",\r\n        SearchContation: {},\r\n        current: 1,\r\n        dataTotal: 0,\r\n        LTOrders: \"\",\r\n        BaseTime: \"\",\r\n        CgBaseTime:\"\",\r\n        ExcelLoading: false,\r\n        SpinTip:'',\r\n        model: 0,\r\n        expandRowKeys: []\r\n    }\r\n    TablerepetClassName = (record, index) => {\r\n\r\n        if (record.repeat === true) {\r\n            //console.dir(\"class\");\r\n            return \"Tablerepet\";\r\n        } else {\r\n            return \"\";\r\n        }\r\n    }\r\n    //导出Excel\r\n    ModalExcelOut = async () => {\r\n        var { DIDS, ExcelLoading, LTOrders ,model,ViewMode} = this.state;//当前的订单\r\n        if (ExcelLoading) {\r\n            message.warn(\"数据打包中，请勿重复点击\");\r\n            return;\r\n        }\r\n        const form = this.formRef.current;\r\n        var tempFormData = form.getFieldsValue(true);//当前查询条件\r\n        var ExcelJson = [];\r\n        tempFormData.DIDS = DIDS;\r\n        tempFormData.page = 1;\r\n        tempFormData.pageSize = 99999;\r\n        if(tempFormData.model!==undefined && tempFormData.model.length!==undefined){\r\n            tempFormData.model = tempFormData.model[0];\r\n        }\r\n        tempFormData.ViewMode = ViewMode;\r\n        const FormData = ConvertFomrData(tempFormData);\r\n        //添加loading效果\r\n        this.setState({ ExcelLoading: true ,SpinTip:'Excel数据打包中'});\r\n        const result = await getV_Sum_Num_CgInfo(FormData);\r\n        if (result.status === 0) {\r\n            const jo_V_CgInfo = result.jo_V_CgInfo.V_CgInfo;\r\n            var jo_V_CgInfoSum = result.jo_V_CgInfoSum.V_CgInfo;    \r\n            let V_CgInfo_Count = result.jo_V_CgInfo.V_CgInfo_Count;\r\n            if(V_CgInfo_Count===0){\r\n                message.warn(\"无数据可导出\");\r\n                this.setState({ ExcelLoading: false});\r\n                return;\r\n            }\r\n            //console.dir(jo_V_CgInfo);\r\n            const colums = DdOrder_CgInfo_columns(tempFormData.model);\r\n            this.setState({ ExcelLoading: false });\r\n            var i = 0;\r\n            for (; i < jo_V_CgInfoSum.length; i++) {\r\n                jo_V_CgInfoSum[i].ID = \"ID\" + i;\r\n                //let TimeColum = [];\r\n                for (var j=0; j < jo_V_CgInfo.length; j++) {\r\n                    if (model === \"1\") {\r\n                        if (jo_V_CgInfoSum[i].Matnr === jo_V_CgInfo[j].Matnr && jo_V_CgInfoSum[i].Series === jo_V_CgInfo[j].Series) {\r\n                            let dt = new Date(jo_V_CgInfo[j].Datetime1);\r\n                            if (jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] !== undefined) {\r\n                                jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] += jo_V_CgInfo[j].Menge * 1;\r\n                            } else {\r\n                                jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] = jo_V_CgInfo[j].Menge * 1;\r\n                            }\r\n                        }\r\n                    }else{\r\n                        if (jo_V_CgInfoSum[i].Matnr === jo_V_CgInfo[j].Matnr && jo_V_CgInfoSum[i].Lifnr === jo_V_CgInfo[j].Lifnr) {\r\n                            let dt = new Date(jo_V_CgInfo[j].Datetime1);\r\n                            if (jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] !== undefined) {\r\n                                jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] += jo_V_CgInfo[j].Menge * 1;\r\n                            } else {\r\n                                jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] = jo_V_CgInfo[j].Menge * 1;\r\n                            }\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n            var timeCol = [];\r\n            for (let k = 0; k < jo_V_CgInfoSum.length; k++) {\r\n                let single = {}\r\n                for (let l = 0; l < colums.length; l++) {\r\n                    single[colums[l].title] = jo_V_CgInfoSum[k][colums[l].dataIndex];\r\n                }\r\n                \r\n                for(let key2 in jo_V_CgInfoSum[k]){\r\n                    if(!isNaN(Number(key2))){\r\n                        single[key2+\" \"] = jo_V_CgInfoSum[k][key2];\r\n                        let temp = timeCol.find(item=>{\r\n                            if(item===Number(key2)){\r\n                                return true;\r\n                            }else{\r\n                                return false;\r\n                            }\r\n                        })\r\n                        if(temp===undefined){\r\n                            timeCol.push(Number(key2));\r\n                        }\r\n                    }\r\n                }\r\n                ExcelJson.push(single);\r\n            }\r\n            //冒泡排序\r\n            for(let k=0;k<timeCol.length;k++){\r\n                for(let l=k;l<timeCol.length;l++){\r\n                    if(timeCol[k]>timeCol[l]){\r\n                        let temp = timeCol[k];\r\n                        timeCol[k] = timeCol[l];\r\n                        timeCol[l] = temp;\r\n                    }\r\n                }\r\n            }\r\n            //将json第一个改变位置\r\n            let book = XLSX.utils.book_new();\r\n            var newRow = {};\r\n            for(let l = 0; l < colums.length; l++){\r\n                newRow[colums[l].title] = jo_V_CgInfoSum[0][colums[l].dataIndex];\r\n            }\r\n\r\n            for(let k=0;k<timeCol.length;k++){\r\n                //newRow[timeCol[k]] =\r\n                newRow[timeCol[k]+\" \"] =  ExcelJson[0][timeCol[k]+\" \"];\r\n            }\r\n            ExcelJson[0] = newRow;\r\n            let sheet = XLSX.utils.json_to_sheet(ExcelJson);\r\n            sheet[\"!cols\"] = [\r\n                { wch: 15 }, { wch: 20 }, { wch: 10 }, { wch: 8 }, { wch: 12 }, { wch: 30 }, { wch: 12 }, { wch: 12 }, { wch: 15 }, { wch: 15 }\r\n            ];\r\n            XLSX.utils.book_append_sheet(book, sheet, 'Sheet1')\r\n            XLSX.writeFile(book, `采购需求单 ${LTOrders} ` + moment().format('YYYYMMDD') + '.xlsx')\r\n        } else {\r\n            this.setState({ ExcelLoading: false });\r\n            message.error(\"网络错误\")\r\n        }\r\n    }\r\n    handleBack = () => {\r\n        const { history } = this.props;\r\n        history.goBack();\r\n    }\r\n    //更新库存基准日期\r\n    demantCgBaseTime = async ()=>{\r\n        const {CgBaseTime,DIDS} = this.state;\r\n        if(CgBaseTime===\"\"){\r\n            message.warn(\"请选择采购库存基准日期\");\r\n            return;\r\n        }\r\n        \r\n        let strKcDate =  CgBaseTime.format(\"YYYYMMDD\");\r\n        let BaseTime = CgBaseTime.format(\"YYYY/MM/DD\");\r\n        let formData =  new FormData();\r\n        formData.append(\"strKcDate\",strKcDate);\r\n        formData.append(\"iDID\",DIDS);\r\n        this.setState({Btn_CgBaseload:true});\r\n        const result = await updateCgBaseBum(formData);\r\n        if(result.code === \"200\"){\r\n            this.setState({Btn_CgBaseload:false,BaseTime:BaseTime,ViewMode:'V_CgInfo_kc'},()=>{//更改当前的查询条件\r\n                this.SearchData();\r\n            });\r\n            message.success(\"库存更新成功,等待查询数据...\");\r\n            //接下来更新库存上的内容\r\n            \r\n        }else{\r\n            this.setState({Btn_CgBaseload:false});\r\n            message.error(\"服务器无响应\");\r\n        }\r\n    }\r\n    componentDidMount = () => {\r\n        //DIDS 和LTOrdders 必须对应\r\n        var { DIDS, LTOrders,BaseTime } = this.props.location;\r\n        //用于测试后期删掉\r\n        //DIDS = \"76,77,78\";\r\n        //LTOrders = \"LT20210201,LT20210301,LT20210401\";\r\n        if (DIDS === undefined || LTOrders === undefined) {\r\n            DIDS = store.get(\"DdOrder_JjInfo_DIDS\");\r\n            LTOrders = store.get(\"DdOrder_JjInfo_LTOrders\");\r\n            BaseTime = store.get(\"DdOrder_JjInfo_BaseTime\");\r\n        } else {\r\n            store.set(\"DdOrder_JjInfo_DIDS\", DIDS);\r\n            store.set(\"DdOrder_JjInfo_LTOrders\", LTOrders);\r\n            store.set(\"DdOrder_JjInfo_BaseTime\", BaseTime);\r\n        }\r\n        this.setState({ DIDS: DIDS, LTOrders,BaseTime}, () => {\r\n            this.SearchData();\r\n        })\r\n    }\r\n    SearchData = async (pagination = {}) => {\r\n        var { DIDS, SearchContation,ViewMode} = this.state;\r\n        const form = this.formRef.current;\r\n        if (pagination.page === undefined) {\r\n            SearchContation.page = 1;\r\n            SearchContation.pageSize = 100;\r\n        } else {\r\n            SearchContation.page = pagination.page;\r\n            SearchContation.pageSize = pagination.pageSize;\r\n        }\r\n        if (DIDS === \"\" || DIDS === undefined) {\r\n            DIDS = \"0\";\r\n        }\r\n        var tempFormData = form.getFieldsValue(true);\r\n        tempFormData.DIDS = DIDS;\r\n\r\n        if (tempFormData.model !== undefined) {\r\n            let tepModel = tempFormData.model[0];\r\n            delete tempFormData.model;\r\n            tempFormData.model = tepModel;\r\n        }\r\n\r\n        tempFormData.page = SearchContation.page;\r\n        tempFormData.pageSize = SearchContation.pageSize;\r\n        tempFormData.ViewMode = ViewMode;\r\n        const FormData = ConvertFomrData(tempFormData);\r\n        this.setState({ loading: true })\r\n        const result = await getV_Sum_Num_CgInfo(FormData);\r\n        if (result.status === 0) {\r\n            const jo_V_CgInfo = result.jo_V_CgInfo.V_CgInfo;\r\n            var jo_V_CgInfoSum = result.jo_V_CgInfoSum.V_CgInfo;\r\n            var i = 0;\r\n            //var j = 0;\r\n            var preSum = {};\r\n            for (; i < jo_V_CgInfoSum.length; i++) {\r\n                if (i === 0) {\r\n                    preSum = { ...jo_V_CgInfoSum[0] };\r\n                }\r\n                jo_V_CgInfoSum[i].ID = \"D\" + i;\r\n                for (var j = 0; j < jo_V_CgInfo.length; j++) {\r\n                    //console.dir(jo_V_CgInfoSum[i].Matnr);\r\n                    if (tempFormData.model === \"1\") {\r\n                        if (jo_V_CgInfoSum[i].Matnr === jo_V_CgInfo[j].Matnr && jo_V_CgInfoSum[i].Series === jo_V_CgInfo[j].Series) {\r\n                            if (jo_V_CgInfoSum[i].Det === undefined) {\r\n                                jo_V_CgInfoSum[i].Det = [];\r\n                            }\r\n                            jo_V_CgInfoSum[i].Det.push(jo_V_CgInfo[j]);\r\n                            console.dir(\"Series\");\r\n                        }\r\n                    } else {\r\n                        if (jo_V_CgInfoSum[i].Matnr === jo_V_CgInfo[j].Matnr && jo_V_CgInfoSum[i].Lifnr === jo_V_CgInfo[j].Lifnr) {\r\n                            if (jo_V_CgInfoSum[i].Det === undefined) {\r\n                                jo_V_CgInfoSum[i].Det = [];\r\n                            }\r\n                            jo_V_CgInfoSum[i].Det.push(jo_V_CgInfo[j]);\r\n                            console.dir(\"Not Series\");\r\n                        }\r\n\r\n                    }\r\n                }\r\n                if (i !== 0 && preSum.Matnr === jo_V_CgInfoSum[i].Matnr && tempFormData.model !== \"1\") {\r\n                    jo_V_CgInfoSum[i].Det = [];\r\n                    jo_V_CgInfoSum[i].repeat = true;\r\n                } else if (i !== 0 && preSum.Matnr === jo_V_CgInfoSum[i].Matnr && i !== 0 && preSum.Series === jo_V_CgInfoSum[i].Series && tempFormData.model === \"1\") {\r\n                    jo_V_CgInfoSum[i].Det = [];\r\n                    jo_V_CgInfoSum[i].repeat = true;\r\n                }\r\n                else {\r\n                    preSum = jo_V_CgInfoSum[i];\r\n                }\r\n            }\r\n            console.dir(jo_V_CgInfoSum);\r\n            this.setState({ loading: false, dataSource: jo_V_CgInfoSum, current: tempFormData.page, dataTotal: result.jo_V_CgInfoSum.V_CgInfo_Count, model: tempFormData.model,Btn_CgBaseload:false })\r\n        } else {\r\n            this.setState({ loading: false });\r\n            message.error(\"网络错误\");\r\n        }\r\n    }\r\n    //打开或关闭所有展开项\r\n    OpenOrCloseAll = () => {\r\n        //expandRowKeys\r\n        const { expandRowKeys, dataSource } = this.state;\r\n        if (expandRowKeys.length > 0) {//关闭\r\n            this.setState({ expandRowKeys: [] });\r\n        } else {//展开\r\n            let newArr = [];\r\n            for (let i = 0; i < dataSource.length; i++) {\r\n                newArr.push(dataSource[i].ID);\r\n            }\r\n            this.setState({ expandRowKeys: newArr });\r\n        }\r\n    }\r\n    OpenOrCloseSingle = (record, type) => {\r\n        let { expandRowKeys } = this.state;\r\n        if (type) {\r\n            expandRowKeys.push(record.ID);\r\n        } else {\r\n            expandRowKeys = expandRowKeys.filter(item => {\r\n                if (item === record.ID) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            })\r\n        }\r\n        this.setState({ expandRowKeys });\r\n    }\r\n    render() {\r\n        const { loading,Btn_CgBaseload, dataSource, LTOrders,BaseTime, current, dataTotal, ExcelLoading, model, expandRowKeys ,SpinTip} = this.state;\r\n        \r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"toolArea\">\r\n                    <Form layout=\"inline\" ref={this.formRef} >\r\n                        <Form.Item>\r\n                            <LinkButton onClick={() => this.handleBack()}>\r\n                                <ArrowLeftOutlined />返回调度单\r\n                            </LinkButton>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Datetime1\"\r\n                            label=\"时间\"\r\n                        >\r\n                            <RangePicker locale={locale} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Series\"\r\n                            label=\"系列\"\r\n                        >\r\n                            <Input />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Matnr\"\r\n                            label=\"物料编码\"\r\n                        >\r\n                            <Input style={{width:'130px'}} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Maktx\"\r\n                            label=\"物料描述\"\r\n                        >\r\n                            <Input style={{width:'100px'}} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"MRP\"\r\n                            label=\"MRP控制者\"\r\n                        >\r\n                            <Input style={{width:'50px'}} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Lifnr\"\r\n                            label=\"供应商代码\"\r\n                        >\r\n                            <Input style={{width:'60px'}} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Name1\"\r\n                            label=\"供应商名称\"\r\n                        >\r\n                            <Input style={{width:'100px'}} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"model\"\r\n                            label=\"区分系列\"\r\n                        >\r\n                            <Checkbox.Group>\r\n                                <Checkbox value=\"1\"></Checkbox>\r\n                            </Checkbox.Group>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" onClick={() => this.SearchData()} >查询</Button>\r\n                            &nbsp;&nbsp;\r\n\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n                <div>\r\n                    <div style={{ width: \"59%\", float: \"left\" }}>\r\n                        <h1 style={{ fontSize: '18px', paddingLeft: '15px', lineHeight: '35px'}}>\r\n                            <Button onClick={() => this.OpenOrCloseAll()}>展开/关闭所有行</Button>\r\n                            &nbsp;单号:{LTOrders},库存基准日期:{BaseTime}\r\n                        </h1>\r\n                    </div>\r\n                    <div style={{ width: \"40%\", float: \"left\", textAlign: 'right',lineHeight: '35px'}}>\r\n                        <Button type=\"primary\" loading={Btn_CgBaseload} onClick={() => this.demantCgBaseTime()} >更新库存基准日期</Button>\r\n                        &emsp;\r\n                        <DatePicker locale={locale}  format=\"YYYYMMDD\" onChange={(val)=>this.setState({CgBaseTime:val})}></DatePicker>\r\n                        &emsp;\r\n                        <Button type=\"primary\" onClick={() => this.ModalExcelOut()} >Excel导出</Button>\r\n                    </div>\r\n                </div>\r\n                <Table\r\n                    dataSource={dataSource}\r\n                    bordered\r\n                    rowKey=\"ID\"\r\n                    sticky={true}\r\n                    scroll={{ y: 560 }}\r\n                    size=\"middle\"\r\n                    columns={DdOrder_CgInfo_columns(model)}\r\n                    loading={loading}\r\n                    rowClassName={this.TablerepetClassName}\r\n                    pagination={{\r\n                        position: ['bottomCenter'],\r\n                        pageSizeOptions: [20],\r\n                        current: current,\r\n                        total: dataTotal,\r\n                        showTotal: (total, range) => `一共 ${total} 条数据`,\r\n                        pageSize: 100,\r\n                        onChange: (page, pageSize) => {\r\n                            this.SearchData({ page: page, pageSize: pageSize });\r\n                        }\r\n                    }}\r\n                    expandable={{\r\n                        expandRowByClick: true,\r\n                        expandedRowRender,\r\n                        columnWidth: 8,\r\n                        indentSize: 0,\r\n                        expandedRowKeys: expandRowKeys,\r\n                        onExpand: (expanded, record) => { this.OpenOrCloseSingle(record, expanded) }\r\n                    }}\r\n                >\r\n                </Table>\r\n                <Spin style={{ position: 'absolute', left: '48%', top: '47%' }} tip={SpinTip} spinning={ExcelLoading}></Spin>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n//导入组件\r\nimport {Button,Input,Form,DatePicker, Table,message,Select,Spin,Checkbox} from 'antd'\r\n//导入方法\r\nimport moment from 'moment'\r\n//自定义组件\r\nimport LinkButton from '../../components/link-button';\r\n//本地化\r\nimport 'moment/locale/zh-cn';\r\nimport locale from 'antd/es/date-picker/locale/zh_CN';\r\n//自定义方法\r\nimport {ConvertFomrData} from '../../utils'\r\n//导入api\r\nimport {getV_Sum_Num_BjInfo} from '../../api'\r\n//Excel\r\nimport XLSX from 'xlsx'\r\n//导入配置\r\nimport {DdOrder_BjInfo_columns,DdOrder_CgInfo_Det_columns} from '../../config/table-columns'\r\nimport {ArrowLeftOutlined} from '@ant-design/icons';\r\n//引入缓存\r\nimport store from 'store'\r\nconst {RangePicker} = DatePicker;\r\nconst {Option} = Select;\r\n//表格扩展\r\nconst expandedRowRender = (record,index)=>{\r\n    //DdOrder_Det_Sum_columns\r\n    //console.dir(record);\r\n    const data = record.Det;\r\n    if(data===undefined || data.length===0){\r\n        return \"\";\r\n    }\r\n    var DetVal = [];\r\n    \r\n    var newData = {};\r\n    for(let i=0;i<data.length;i++){\r\n        if(newData[data[i].Datetime1]===undefined){\r\n            console.dir(data[i].Datetime1);\r\n            newData[data[i].Datetime1] = 0;\r\n        }\r\n    }\r\n    for(var key in newData){\r\n        for(let i=0;i<data.length;i++){\r\n            if(key === data[i].Datetime1){\r\n                newData[key] += (data[i].Num1*1)\r\n            }\r\n        }\r\n    }\r\n\r\n    DetVal.push({ID:1,...newData});\r\n    return <Table bordered size=\"small\" rowKey=\"ID\" columns={DdOrder_CgInfo_Det_columns(newData)} dataSource={DetVal} pagination={false}></Table>\r\n}\r\nexport default class DdOrder_BjInfo extends Component {\r\n    formRef = React.createRef();\r\n    state ={\r\n        dataSource:[],\r\n        loading:true,\r\n        DIDS:\"\",\r\n        SearchContation:{},\r\n        current:1,\r\n        dataTotal:0,\r\n        LTOrders:\"\",\r\n        ExcelLoading:false,\r\n        model:0\r\n    }\r\n    ModalExcelOut = async ()=>{\r\n        var { DIDS,ExcelLoading,LTOrders} = this.state;//当前的订单\r\n        if(ExcelLoading){\r\n            message.warn(\"数据打包中，请勿重复点击\");\r\n            return;\r\n        }\r\n        const form = this.formRef.current;\r\n        var tempFormData = form.getFieldsValue(true);//当前查询条件\r\n        var ExcelJson = [];\r\n        tempFormData.DIDS = DIDS;\r\n        tempFormData.page = 1;\r\n        tempFormData.pageSize = 99999;\r\n        const FormData = ConvertFomrData(tempFormData);\r\n        //添加loading效果\r\n        this.setState({ExcelLoading:true});\r\n        const result = await getV_Sum_Num_BjInfo(FormData);\r\n        if(result.status===0){\r\n            var V_BjInfo_Sum = result.V_BjInfo_Sum.V_BjInfo;\r\n            //const V_BjInfo_Count = result.V_BjInfo_Sum.V_BjInfo_Count;\r\n            const V_BjInfo_Det = result.V_BjInfo_Det.V_BjInfo;\r\n            const colums = DdOrder_BjInfo_columns();\r\n            var i=0;\r\n            var j=0;\r\n            //var j=0;\r\n            for(;i<V_BjInfo_Sum.length;i++){\r\n                V_BjInfo_Sum[i].ID =\"D\"+i;\r\n                for(;j<V_BjInfo_Det.length;j++){\r\n                    \r\n                    if(V_BjInfo_Sum[i].FirstCode=== V_BjInfo_Det[j].FirstCode && \r\n                        V_BjInfo_Sum[i].SecondCode=== V_BjInfo_Det[j].SecondCode && \r\n                        V_BjInfo_Sum[i].ThirdCode=== V_BjInfo_Det[j].ThirdCode && \r\n                        V_BjInfo_Sum[i].FourthCode=== V_BjInfo_Det[j].FourthCode &&\r\n                        V_BjInfo_Sum[i].FifthCode=== V_BjInfo_Det[j].FifthCode){\r\n                            if(V_BjInfo_Sum[i][V_BjInfo_Det[j]]!==undefined){\r\n                                V_BjInfo_Sum[i][V_BjInfo_Det[j]] += V_BjInfo_Det[j].Num1*1;\r\n                            }else{\r\n                                V_BjInfo_Sum[i][V_BjInfo_Det[j]] = V_BjInfo_Det[j].Num1*1;\r\n                            }\r\n                            \r\n                    }else{\r\n                        break;\r\n                    }\r\n                    \r\n                }\r\n            }\r\n            for(let k=0;k<V_BjInfo_Sum.length;k++){\r\n                let single = {}\r\n                \r\n                for(let l=0;l<colums.length;l++){\r\n                    single[colums[l].title] = V_BjInfo_Sum[k][colums[l].dataIndex];\r\n                }\r\n                for(let key2 in V_BjInfo_Sum[k]){\r\n                    if(!isNaN(Number(key2))){\r\n                        single[key2+\" \"] = V_BjInfo_Sum[k][key2];\r\n                    }\r\n                }\r\n                switch(tempFormData.level){\r\n                    case \"4\":\r\n                        delete single.五层编码\r\n                        delete single.五层名称\r\n                        break;\r\n                    case \"3\":\r\n                        delete single.五层编码\r\n                        delete single.五层名称\r\n                        delete single.四层编码\r\n                        delete single.四层名称\r\n                        break;\r\n                    case \"2\":\r\n                        delete single.五层编码\r\n                        delete single.五层名称\r\n                        delete single.四层编码\r\n                        delete single.四层名称\r\n                        delete single.三层编码\r\n                        delete single.三层名称\r\n                        break;\r\n                    case \"1\":\r\n                        delete single.五层编码\r\n                        delete single.五层名称\r\n                        delete single.四层编码\r\n                        delete single.四层名称\r\n                        delete single.三层编码\r\n                        delete single.三层名称\r\n                        delete single.二层编码\r\n                        delete single.二层名称\r\n                        break;\r\n                    default:\r\n                }\r\n                ExcelJson.push(single);\r\n            }\r\n            let book = XLSX.utils.book_new();\r\n            var sheet = XLSX.utils.json_to_sheet(ExcelJson);\r\n            switch(tempFormData.level){\r\n                case \"1\":\r\n                    sheet[\"!cols\"]=[\r\n                        {wch:8},{wch:20},{wch:36},{wch:10}\r\n                    ];\r\n                    break;\r\n                case \"2\":\r\n                    sheet[\"!cols\"]=[\r\n                        {wch:8},{wch:20},{wch:36},{wch:20},{wch:36},{wch:10}\r\n                    ];\r\n                    break;\r\n                case \"3\":\r\n                    sheet[\"!cols\"]=[\r\n                        {wch:8},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:10}\r\n                    ];\r\n                    break;\r\n                case \"4\":\r\n                    sheet[\"!cols\"]=[\r\n                        {wch:8},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:10}\r\n                    ];\r\n                    break;\r\n                case \"5\":\r\n                    sheet[\"!cols\"]=[\r\n                        {wch:8},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:20},{wch:36},{wch:10}\r\n                    ];\r\n                    break;\r\n                default:\r\n            }\r\n            \r\n            XLSX.utils.book_append_sheet(book, sheet, 'Sheet1')\r\n            XLSX.writeFile(book, `钣金需求单 ${LTOrders} `+moment().format('YYYYMMDD')+'.xlsx')\r\n        }else{\r\n            message.error(\"网络错误\");\r\n        }\r\n        this.setState({ExcelLoading:false});\r\n    }\r\n    handleBack = ()=>{\r\n        const { history } = this.props;\r\n        history.goBack();\r\n    }\r\n    componentDidMount = ()=>{\r\n        //DIDS 和LTOrdders 必须对应\r\n        var {DIDS,LTOrders} = this.props.location;\r\n        //用于测试后期删掉\r\n        //DIDS = \"76,77,78\";\r\n        //LTOrders = \"LT20210201,LT20210301,LT20210401\";\r\n        if(DIDS===undefined || LTOrders===undefined){\r\n            DIDS = store.get(\"DdOrder_JjInfo_DIDS\");\r\n            LTOrders = store.get(\"DdOrder_JjInfo_LTOrders\");\r\n        }else{\r\n            store.set(\"DdOrder_JjInfo_DIDS\",DIDS);\r\n            store.set(\"DdOrder_JjInfo_LTOrders\",LTOrders);\r\n        }\r\n        this.setState({DIDS:DIDS,LTOrders},()=>{\r\n            this.SearchData();\r\n        })\r\n    }\r\n\r\n    SearchData = async (pagination = {})=>{\r\n        //getV_Sum_Num_BjInfo\r\n        const {DIDS,SearchContation} = this.state;\r\n        const form = this.formRef.current;\r\n        if(pagination.current === undefined){\r\n            SearchContation.page = 1;\r\n            SearchContation.pageSize = 100;\r\n        }else{\r\n            SearchContation.page = pagination.current;\r\n            SearchContation.pageSize = pagination.pageSize;\r\n        }\r\n        var tempFormData = form.getFieldsValue(true);\r\n        tempFormData.DIDS = DIDS;\r\n        if(tempFormData.model!==undefined){\r\n            let tepModel = tempFormData.model[0];\r\n            delete  tempFormData.model;\r\n            tempFormData.model = tepModel;\r\n        }\r\n\r\n\r\n        tempFormData.page = SearchContation.page;\r\n        tempFormData.pageSize = SearchContation.pageSize;\r\n        const FormData = ConvertFomrData(tempFormData);\r\n        this.setState({loading:true})\r\n        const result = await getV_Sum_Num_BjInfo(FormData);\r\n        if(result.status===0){\r\n            var V_BjInfo_Sum = result.V_BjInfo_Sum.V_BjInfo;\r\n            const V_BjInfo_Count = result.V_BjInfo_Sum.V_BjInfo_Count;\r\n            const V_BjInfo_Det = result.V_BjInfo_Det.V_BjInfo;\r\n            var i=0;\r\n            var j=0;\r\n            //var j=0;\r\n            for(;i<V_BjInfo_Sum.length;i++){\r\n                V_BjInfo_Sum[i].ID =\"D\"+i;\r\n                for(;j<V_BjInfo_Det.length;j++){\r\n                    if(tempFormData.model===\"1\"){\r\n                        if(V_BjInfo_Sum[i].FirstCode=== V_BjInfo_Det[j].FirstCode && \r\n                            V_BjInfo_Sum[i].SecondCode=== V_BjInfo_Det[j].SecondCode && \r\n                            V_BjInfo_Sum[i].ThirdCode=== V_BjInfo_Det[j].ThirdCode && \r\n                            V_BjInfo_Sum[i].FourthCode=== V_BjInfo_Det[j].FourthCode &&\r\n                            V_BjInfo_Sum[i].FifthCode=== V_BjInfo_Det[j].FifthCode &&\r\n                            V_BjInfo_Sum[i].Series=== V_BjInfo_Det[j].Series\r\n                            ){\r\n                                if(V_BjInfo_Sum[i].Det ===undefined){\r\n                                    V_BjInfo_Sum[i].Det = [];\r\n                                }\r\n                                V_BjInfo_Sum[i].Det.push(V_BjInfo_Det[j]);\r\n                        }else{\r\n                            break;\r\n                        }\r\n                    }else{\r\n                        if(V_BjInfo_Sum[i].FirstCode=== V_BjInfo_Det[j].FirstCode && \r\n                            V_BjInfo_Sum[i].SecondCode=== V_BjInfo_Det[j].SecondCode && \r\n                            V_BjInfo_Sum[i].ThirdCode=== V_BjInfo_Det[j].ThirdCode && \r\n                            V_BjInfo_Sum[i].FourthCode=== V_BjInfo_Det[j].FourthCode &&\r\n                            V_BjInfo_Sum[i].FifthCode=== V_BjInfo_Det[j].FifthCode){\r\n                                if(V_BjInfo_Sum[i].Det ===undefined){\r\n                                    V_BjInfo_Sum[i].Det = [];\r\n                                }\r\n                                V_BjInfo_Sum[i].Det.push(V_BjInfo_Det[j]);\r\n                        }else{\r\n                            break;\r\n                        }\r\n                    }\r\n                    \r\n                    \r\n                }\r\n            }\r\n            this.setState({loading:false,dataSource:V_BjInfo_Sum,current:tempFormData.page,dataTotal:V_BjInfo_Count,model:tempFormData.model});\r\n        }else{\r\n            this.setState({loading:false})\r\n            message.error(\"网络错误\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {loading,dataSource,LTOrders,current,dataTotal,ExcelLoading,model} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"toolArea\">\r\n                    <Form layout=\"inline\" ref={this.formRef} >\r\n                        <Form.Item>\r\n                            <LinkButton onClick={() => this.handleBack()}>\r\n                                <ArrowLeftOutlined />返回调度单\r\n                            </LinkButton>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Datetime1\"\r\n                            label=\"时间\"\r\n                        >\r\n                            <RangePicker locale={locale}/>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Series\"\r\n                            label=\"系列\"\r\n                        >\r\n                            <Input/>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"model\"\r\n                            label=\"区分系列\"\r\n                        >\r\n                            <Checkbox.Group>\r\n                                <Checkbox value=\"1\"></Checkbox>\r\n                            </Checkbox.Group>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"level\"\r\n                            label=\"层级\"\r\n                            initialValue=\"1\"\r\n                        >\r\n                            <Select>\r\n                                <Option value=\"1\">1</Option>\r\n                                <Option value=\"2\">2</Option>\r\n                                <Option value=\"3\">3</Option>\r\n                                <Option value=\"4\">4</Option>\r\n                                <Option value=\"5\">5</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                        \r\n                        <Form.Item>\r\n                            <Button type=\"primary\" onClick={()=>this.SearchData()} >查询</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n                <div>\r\n                    <div style={{width:\"75%\",float:\"left\"}}>\r\n                        <h1 style={{fontSize:'20px',paddingLeft:'20px',lineHeight:'35px'}}>单号:{LTOrders}</h1>\r\n                    </div>\r\n                    <div style={{width:\"24%\",float:\"left\",textAlign:'right'}}>\r\n                        <Button type=\"primary\" onClick={()=>this.ModalExcelOut()} >Excel导出</Button>\r\n                    </div>\r\n                </div>\r\n                <Table\r\n                dataSource = {dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                scroll={{ y: 560}} \r\n                size = \"middle\"\r\n                columns = {DdOrder_BjInfo_columns(model)}\r\n                loading = {loading}\r\n                pagination={{\r\n                    position: ['bottomCenter'],\r\n                        pageSizeOptions:[20],\r\n                        current:current,\r\n                        total:dataTotal,\r\n                        showTotal:(total, range) => `一共 ${total} 条数据`,\r\n                        pageSize:100,\r\n                        onChange:(page,pageSize)=>{\r\n                            this.SearchData({page:page,pageSize:pageSize});\r\n                        }\r\n                }}\r\n                expandable={{expandedRowRender,columnWidth:10}}\r\n                >\r\n\r\n                </Table>\r\n                <Spin style={{position:'absolute',left:'48%',top:'47%'}} tip=\"数据打包Excel...\" spinning={ExcelLoading}></Spin>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n//引入antd\r\nimport { Button, Table,Form,Input,Spin} from 'antd'\r\nimport moment from 'moment'\r\n//自定义组件\r\nimport LinkButton from '../../components/link-button';\r\nimport { ArrowLeftOutlined } from '@ant-design/icons';\r\n//引入api\r\nimport { getV_Sum_Num_BjInfo2,getV_BjInfo } from '../../api'\r\n//引入工具类\r\nimport { ConvertFomrData,downloadExcel} from '../../utils'\r\n//引入配置\r\nimport { DdOrder_BjInfo_First,V_BjInfo_columns} from '../../config/table-columns'\r\n//引入样式\r\nimport './index.less'\r\n//引入缓存\r\nimport store from 'store'\r\nexport default class DdOrder_BjInfo2 extends Component {\r\n    formRef = React.createRef();\r\n    constructor(props) {\r\n        super(props);\r\n        var { DIDS, LTOrders } = this.props.location;\r\n        if (DIDS === undefined || LTOrders === undefined) {\r\n            DIDS = store.get(\"DdOrder_BjInfo_DIDS\");\r\n            LTOrders = store.get(\"DdOrder_BjInfo_LTOrders\");\r\n        } else {\r\n            store.set(\"DdOrder_BjInfo_DIDS\", DIDS);\r\n            store.set(\"DdOrder_BjInfo_LTOrders\", LTOrders);\r\n        }\r\n        this.state = {\r\n            DIDS:DIDS,\r\n            LTOrders:LTOrders,\r\n            dataSource: [],\r\n            loading: true,\r\n            SearchContation: {},\r\n            current: 1,\r\n            dataTotal: 0,\r\n            ExcelLoading: false,\r\n            model: 0,\r\n            expandRowKeys: [],\r\n            searchText:'',\r\n            SpinTip:'',\r\n            \r\n        }\r\n    }\r\n    //处理表格查询功能\r\n    handleSearch = (selectedKeys, confirm, dataIndex)=>{\r\n        const {SearchContation} = this.state;\r\n        confirm({ closeDropdown: false })\r\n        var filters = {};\r\n        if(selectedKeys[0]!==undefined){\r\n            filters[dataIndex] = selectedKeys[0];\r\n            this.handleTableChange({},filters,{},0);\r\n        }else{\r\n            SearchContation[dataIndex]=\"\";\r\n            this.handleTableChange({},{},{},0);\r\n        }\r\n    }\r\n    //重置\r\n    handleReset = clearFilters=>{\r\n        clearFilters();\r\n        this.setState({ searchText: '' });\r\n    }\r\n    handleTableChange = async (pagination = {}, filters = {}, sorter = {},model) => {\r\n        let { SearchContation,DIDS } = this.state;\r\n        console.dir(filters);\r\n        if (pagination.current === undefined) {\r\n            SearchContation.page = 1;\r\n            SearchContation.pageSize = 100;\r\n        } else {\r\n            SearchContation.page = pagination.current;\r\n            SearchContation.pageSize = pagination.pageSize;\r\n        }\r\n        //添加条件\r\n        if (filters !== {}) {\r\n            for (let key in filters) {\r\n                SearchContation[key] = filters[key];\r\n            }\r\n        }\r\n        // 添加层级的条件\r\n        // if(this.SearchSelect !==undefined && this.SearchSelect.value!==undefined){\r\n        //     SearchContation[\"level\"] = this.SearchSelect.value;\r\n        // }\r\n        // if(this.SearchSelect2 !==undefined && this.SearchSelect2.value!==undefined){\r\n        //     SearchContation[\"level2\"] = this.SearchSelect2.value;\r\n        // }\r\n        //添加表单的条件b\r\n        const formReftemp = this.formRef.current;\r\n        var tempFormData = formReftemp.getFieldsValue(true);//当前查询条件\r\n        //创建提交后台数据\r\n        SearchContation.DIDS = DIDS;\r\n        //console.dir(tempFormData.Series);\r\n        // if((tempFormData.Series===\"\" || tempFormData.Series===undefined) && model===1){\r\n        //     message.warn(\"请输入系列，再查询\");\r\n        //     return;\r\n        // }\r\n        if(tempFormData.Series!==\"\" && tempFormData.Series!==undefined){\r\n            SearchContation.model=1;\r\n        }\r\n        SearchContation = {...SearchContation,...tempFormData}\r\n        const formData = ConvertFomrData(SearchContation);\r\n        this.setState({ loading: true });\r\n        //Pline\r\n        const result = await getV_Sum_Num_BjInfo2(formData);\r\n        if (result.status === 0) {\r\n            const { V_BjInfo } = result.data;\r\n            console.dir(V_BjInfo);\r\n            //console.dir(V_BjInfo);\r\n            if (V_BjInfo.length === 0) {\r\n                //console.dir(V_BjInfo.length);\r\n                this.setState({ dataSource: [], current: 1, dataTotal: 0, loading: false });\r\n            } else {\r\n                //console.dir(\"index\");\r\n                //val.replace(/\\b(0+)/gi,\"\")\r\n                V_BjInfo.forEach(item => {\r\n                    item.FirstCode = item.FirstCode.replace(/\\b(0+)/gi, \"\");\r\n                    item.SecondCode = item.SecondCode.replace(/\\b(0+)/gi, \"\");\r\n                    item.ThirdCode = item.ThirdCode.replace(/\\b(0+)/gi, \"\");\r\n                    item.FourthCode = item.FourthCode.replace(/\\b(0+)/gi, \"\");\r\n                    item.FifthCode = item.FifthCode.replace(/\\b(0+)/gi, \"\");\r\n                })\r\n                this.Arr = [];\r\n                this.expandRowKeys2 = [];\r\n                this.deepTree(V_BjInfo, 0, {});\r\n                //console.dir(this.expandRowKeys);\r\n                let tempSource = this.Arr.slice(0,9);\r\n                this.setState({ dataSource: tempSource, current:1,dataTotal:this.Arr.length ,loading: false,expandRowKeys: this.expandRowKeys2,SearchContation:SearchContation});\r\n            }\r\n        }\r\n    }\r\n    //回退功能\r\n    handleBack = () => {\r\n        const { history } = this.props;\r\n        history.goBack();\r\n    }\r\n    //Direction Right Down Left\r\n    Codes = [\"FirstCode\", \"SecondCode\", \"ThirdCode\", \"FourthCode\", \"FifthCode\",\"SixthCode\"];\r\n    CodesName = [\"FirstName\", \"SecondName\", \"ThirdName\", \"FourthName\", \"FifthName\",\"SixthName\"];\r\n    Arr = [];\r\n    expandRowKeys2 = [];\r\n    //处理后台钣金的数据\r\n    deepTree(data, index, pre) {\r\n        if (index >= data.length) {\r\n            return;\r\n        }\r\n        let Current = data[index];\r\n        let keyIndex = 0;\r\n        //var preNode = {};\r\n        var nowNode = {};\r\n        var CurrentNode = {};\r\n        var flg = false;//后面是否都是新插入 \r\n        let key;\r\n        let NameKey;\r\n        //let tempNode = {\"Code\":Current[key],\"Num\":Current[\"Num\"+keyIndex],\"children\":childrenNode};\r\n        //处理第一次空的插入\r\n        if (pre === {}) {\r\n            for (; keyIndex < this.Codes.length; keyIndex++) {\r\n                key = this.Codes[keyIndex];\r\n                NameKey = this.CodesName[keyIndex];\r\n                //\r\n                let tempNode = { Code: Current[key], Code2: (keyIndex + 1) + \"层物料编码:\" + Current[key], Num: Current[\"Num\" + (keyIndex + 1)], Name: Current[NameKey],Pline1:Current[\"Pline1\"], children: [] };\r\n                if (keyIndex === 0) {\r\n                    pre = tempNode;\r\n                    nowNode = tempNode;\r\n                    this.Arr.push(nowNode);\r\n                    this.expandRowKeys2.push(nowNode.Code);\r\n                } else {\r\n                    nowNode.children.push(tempNode);\r\n                    nowNode = tempNode;\r\n                }\r\n            }\r\n            keyIndex = 0;\r\n            index += 1;\r\n            Current = data[index];\r\n        }\r\n        //判断是否要新插入\r\n        key = this.Codes[0];\r\n        NameKey = this.CodesName[0];\r\n        if (Current[key] !== pre[\"Code\"]) {//新插入\r\n            let tempNode = { \"Code\": Current[key], Code2: (1) + \"层物料编码:\" + Current[key], \"Num\": Current[\"Num\" + 1], Name: Current[NameKey], Pline1:Current[\"Pline1\"],\"children\": [] };\r\n            CurrentNode = tempNode;\r\n            this.Arr.push(CurrentNode);\r\n            this.expandRowKeys2.push(CurrentNode.Code);\r\n            flg = true;\r\n        }\r\n        if (flg) {//全是新插入\r\n            for (keyIndex = 1; keyIndex < this.Codes.length; keyIndex++) {\r\n                key = this.Codes[keyIndex];\r\n                NameKey = this.CodesName[keyIndex];\r\n                if (Current[key] !== \"\") {\r\n                    let tempNode = { \"Code\": Current[key], Code2: (keyIndex + 1) + \"层物料编码:\" + Current[key], \"Num\": Current[\"Num\" + (keyIndex + 1)], Name: Current[NameKey], Pline1:Current[\"Pline\"+(keyIndex+1)],Pline2:Current[\"Pline2\"], Pline3:Current[\"Pline3\"], Pline4:Current[\"Pline4\"],Pline5:Current[\"Pline5\"], \"children\": [] };\r\n                    CurrentNode.children.push(tempNode);\r\n                    this.expandRowKeys2.push(tempNode.Code);\r\n                    CurrentNode = tempNode;\r\n                }\r\n\r\n            }\r\n        } else {//不是全部都是全新插入 \r\n            //寻找第一个Code不同的点\r\n            for (keyIndex = 1; keyIndex < this.Codes.length; keyIndex++) {\r\n                //undefined\r\n                key = this.Codes[keyIndex];\r\n                NameKey = this.CodesName[keyIndex];\r\n                if (Current[key] === \"\") {\r\n                    break;\r\n                }\r\n                if (flg) {//后面全是新插入\r\n                    if (Current[key] === \"\") {\r\n                        break;\r\n                    }\r\n                    let tempNode = { \"Code\": Current[key], Code2: (keyIndex + 1) + \"层物料编码:\" + Current[key], \"Num\": Current[\"Num\" + (keyIndex + 1)], Name: Current[NameKey],Pline1:Current[\"Pline\"+(keyIndex + 1)],\"children\": [] };\r\n                    this.expandRowKeys2.push(tempNode.Code);\r\n                    pre.children.push(tempNode);\r\n                    pre = tempNode;\r\n                    continue;\r\n                }\r\n                let tempNode = pre.children.find(item => {\r\n                    if (item[\"Code\"] === \"\") {\r\n                        return false;\r\n                    }\r\n                    if (Current[key] === item[\"Code\"]) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                })\r\n                if (tempNode === undefined) {//需要新插入\r\n                    if (Current[key] === \"\") {\r\n                        break;\r\n                    }\r\n                    tempNode = { Code: Current[key], Code2: (keyIndex + 1) + \"层物料编码:\" + Current[key], \"Num\": Current[\"Num\" + (keyIndex + 1)], Name: Current[NameKey], Pline1:Current[\"Pline\"+(keyIndex + 1)],\"children\": [] };\r\n                    this.expandRowKeys2.push(tempNode.Code);\r\n                    pre.children.push(tempNode);\r\n                    pre = tempNode;\r\n                    flg = true;\r\n                } else {//不需要新插入\r\n                    pre = tempNode;\r\n                }\r\n            }\r\n        }\r\n        this.deepTree(data, index + 1, this.Arr[this.Arr.length - 1]);\r\n    }\r\n\r\n    OpenOrCloseSingle = (record, type) => {\r\n        let { expandRowKeys } = this.state;\r\n        if (type) {\r\n            expandRowKeys.push(record.Code);\r\n        } else {\r\n            expandRowKeys = expandRowKeys.filter(item => {\r\n                if (item === record.Code) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            })\r\n        }\r\n        this.setState({ expandRowKeys });\r\n    }\r\n    ExpandRow = (type) => {\r\n        const { dataSource } = this.state;\r\n        let expandRowKeys = [];\r\n        for (let i = 0; i < type; i++) {\r\n            if (i === 0) {\r\n                expandRowKeys = [];\r\n            }\r\n            if (i === 1) {\r\n                let tempKeys = dataSource.map(item => item.Code)\r\n                expandRowKeys = [...expandRowKeys, ...tempKeys]\r\n            }\r\n            if (i === 2) {\r\n                let tempKeys = [];\r\n                dataSource.forEach(item => {\r\n                    item.children.forEach(item2 => {\r\n                        tempKeys.push(item2.Code);\r\n                    })\r\n                })\r\n                expandRowKeys = [...expandRowKeys, ...tempKeys]\r\n            }\r\n            if (i === 3) {\r\n                let tempKeys = [];\r\n                dataSource.forEach(item => {\r\n                    item.children.forEach(item2 => {\r\n                        item2.children.forEach(item3 => tempKeys.push(item3.Code))\r\n                    })\r\n                })\r\n                expandRowKeys = [...expandRowKeys, ...tempKeys]\r\n            }\r\n            if (i === 4) {\r\n                let tempKeys = [];\r\n                dataSource.forEach(item => {\r\n                    item.children.forEach(item2 => {\r\n                        item2.children.forEach(item3 => {\r\n                            item3.children.forEach(item4 => tempKeys.push(item4.Code))\r\n                        })\r\n                    })\r\n                })\r\n                expandRowKeys = [...expandRowKeys, ...tempKeys]\r\n            }\r\n\r\n            if (i === 5) {\r\n                let tempKeys = [];\r\n                dataSource.forEach(item => {\r\n                    item.children.forEach(item2 => {\r\n                        item2.children.forEach(item3 => {\r\n                            item3.children.forEach(item4 => {\r\n                                item4.children.forEach(item5=>tempKeys.push(item5.Code))\r\n                            })\r\n                        })\r\n                    })\r\n                })\r\n                expandRowKeys = [...expandRowKeys, ...tempKeys]\r\n            }\r\n        }\r\n        this.setState({ expandRowKeys })\r\n    }\r\n    ExcelOut = async ()=>{\r\n        const {SearchContation} = this.state;\r\n        const ColumsWch = [\r\n            {wch:10},//日期\r\n            {wch:20},//一层编码\r\n            {wch:45},//一层名称\r\n            {wch:10},//一层数量\r\n            {wch:10},//一层工艺\r\n            {wch:20},//二层编码\r\n            {wch:45},//二层名称\r\n            {wch:10},//二层数量\r\n            {wch:10},//二层工艺\r\n            {wch:20},//三层编码\r\n            {wch:45},//三层名称\r\n            {wch:10},//三层数量\r\n            {wch:10},//三层工艺\r\n            {wch:20},//四层编码\r\n            {wch:45},//四层名称\r\n            {wch:10},//四层数量\r\n            {wch:10},//四层工艺\r\n            {wch:20},//五层编码\r\n            {wch:45},//五层名称\r\n            {wch:10},//五层数量\r\n            {wch:10},//五层工艺\r\n            {wch:20},//六层编码\r\n            {wch:45},//六层名称\r\n            {wch:10},//六层数量\r\n            {wch:10},//六层工艺\r\n            {wch:10},//系列\r\n          ]\r\n        this.setState({SpinTip:'Excel导出中，请等待',ExcelLoading:true});\r\n        SearchContation.page = 1;\r\n        SearchContation.pageSize = 999999;\r\n        const formData = ConvertFomrData(SearchContation);\r\n        //\r\n        const result = await getV_BjInfo(formData);\r\n        if(result.status===0){\r\n            const {V_BjInfo} = result.data;\r\n            \r\n            V_BjInfo.forEach(item=>{\r\n                item.Datetime1 = moment(item.Datetime1).format(\"YYYYMMDD\");\r\n            })\r\n            console.dir(V_BjInfo);\r\n            downloadExcel(V_BjInfo,V_BjInfo_columns,ColumsWch,\"钣金需求单\");\r\n            this.setState({SpinTip:'Excel导出中，请等待',ExcelLoading:false});\r\n        }\r\n    }\r\n    componentDidMount = async () => {\r\n        this.handleTableChange();\r\n    }\r\n    render() {\r\n        const { dataSource, loading, expandRowKeys ,SearchContation,current,dataTotal,SpinTip,ExcelLoading,LTOrders} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div style={{margin:'10px',float:\"left\",width:'80%'}}>\r\n                    <Form layout=\"inline\" ref={this.formRef}>\r\n                        <Form.Item>\r\n                            <LinkButton onClick={() => this.handleBack()}>\r\n                                <ArrowLeftOutlined />返回调度单\r\n                            </LinkButton>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            label=\"系列\"\r\n                            name=\"Series\"\r\n                            style={{width:'160px'}}\r\n                        >\r\n                            <Input placeholder=\"默认所有系列\"></Input>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" onClick={()=>this.handleTableChange({},{},{},1)}>查询</Button>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button onClick={() => { this.ExpandRow(1) }}>查看第一层</Button>\r\n                            &ensp;\r\n                            <Button onClick={() => { this.ExpandRow(2) }}>查看第二层</Button>\r\n                            &ensp;\r\n                            <Button onClick={() => { this.ExpandRow(3) }}>查看第三层</Button>\r\n                            &ensp;\r\n                            <Button onClick={() => { this.ExpandRow(4) }}>查看第四层</Button>\r\n                            &ensp;\r\n                            <Button onClick={() => { this.ExpandRow(5) }}>查看第五层</Button>\r\n                            &ensp;\r\n                            <Button onClick={() => { this.ExpandRow(6) }}>查看第六层</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n                <div style={{float:'left',textAlign:'right',width:'16%'}}>\r\n                    <Button type=\"primary\" onClick={()=>this.ExcelOut()}>导出Excel</Button>\r\n                </div>\r\n                <div style={{float:\"left\",width:\"100%\"}}>\r\n                    <h2 style={{float:\"left\"}}>调度单:{LTOrders}</h2>\r\n                    {\r\n                    SearchContation.FirstCode===\"\"||SearchContation.FirstCode===undefined?\"\":\r\n                        <h2 style={{float:\"left\"}}>物料编码:{SearchContation.FirstCode}&nbsp;</h2>\r\n                    }\r\n                    {\r\n                        SearchContation.FirstName===\"\"||SearchContation.FirstName===undefined?\"\":\r\n                        <h2 style={{float:\"left\"}}>物料名称:{SearchContation.FirstName}</h2>\r\n                    }\r\n                    {\r\n                        SearchContation.Pline===\"\"||SearchContation.Pline===undefined?\"\":\r\n                        <h2 style={{float:\"left\"}}>状态:{SearchContation.Pline}</h2>\r\n                    }\r\n                </div>\r\n                <Table\r\n                    dataSource={dataSource}\r\n                    bordered\r\n                    rowKey=\"Code\"\r\n                    sticky={true}\r\n                    scroll={{ y: 600 }}\r\n                    size=\"small\"\r\n                    columns={DdOrder_BjInfo_First(this)}\r\n                    loading={loading}\r\n                    indentSize={15}\r\n                    onRow={record => {\r\n                        return {\r\n                            onMouseEnter: event => { },\r\n                            onMouseLeave: event => { }\r\n                        }\r\n                    }}\r\n                    expandable={{\r\n                        expandedRowKeys: expandRowKeys,\r\n                        onExpand: (expanded, record) => { this.OpenOrCloseSingle(record, expanded) }\r\n                    }}\r\n                    pagination={{\r\n                        position: ['bottomCenter'],\r\n                        pageSizeOptions:[10],\r\n                        current:current,\r\n                        total:dataTotal,\r\n                        showTotal:(total, range) => `一共 ${total} 条数据`,\r\n                        pageSize:10,\r\n                        onChange:(page,pageSize)=>{\r\n                            let start = (page-1)*pageSize;\r\n                            let end = (page)*pageSize;\r\n                            if(this.Arr.length!==0){\r\n                                if(end>this.Arr.length){\r\n                                    end = this.Arr.length;\r\n                                }\r\n                                let tempArr = this.Arr.slice(start,end-1);\r\n                                this.setState({dataSource:tempArr,current:page});\r\n                            }\r\n                            //this.Arr\r\n                            //this.handleTableChange({page:page,pageSize:pageSize});\r\n                        }\r\n                    }}\r\n                // expandable={{\r\n                //     expandRowByClick: true,\r\n                //     expandedRowRender,\r\n                //     columnWidth: 3,\r\n                //     indentSize: 0,\r\n                //     expandedRowKeys: expandRowKeys1,\r\n                //     onExpand: (expanded, record) => { this.OpenOrCloseSingle(record, expanded) }\r\n                // }}\r\n                >\r\n\r\n                </Table>\r\n                <Spin style={{ position: 'absolute', left: '48%', top: '47%' }} tip={SpinTip} spinning={ExcelLoading}></Spin>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n//引入antd\r\nimport { Button, Table,Form,Input,Spin} from 'antd'\r\nimport moment from 'moment'\r\n//引入api\r\nimport { getV_Sum_Num_BjInfo2,getV_BjInfo } from '../../api'\r\n//引入工具类\r\nimport { ConvertFomrData,downloadExcel } from '../../utils'\r\n//引入配置\r\nimport { DdOrder_BjInfo_First,V_BjInfo_columns} from '../../config/table-columns'\r\n//引入样式\r\nimport './index.less'\r\n//钣金 该页面只要传用户ID即可 在api内已经嵌入了该用户ID了因此不需要\r\nexport default class Report2_1 extends Component {\r\n    formRef = React.createRef();\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dataSource: [],\r\n            loading: true,\r\n            SearchContation: {},\r\n            current: 1,\r\n            dataTotal: 0,\r\n            ExcelLoading: false,\r\n            model: 0,\r\n            expandRowKeys: [],\r\n            searchText:'',\r\n            SpinTip:'',\r\n            level:'',\r\n            level2:'',\r\n        }\r\n    }\r\n    //处理表格查询功能\r\n    handleSearch = (selectedKeys, confirm, dataIndex)=>{\r\n        const {SearchContation} = this.state;\r\n        confirm({ closeDropdown: false })\r\n        var filters = {};\r\n        if(selectedKeys[0]!==undefined){\r\n            filters[dataIndex] = selectedKeys[0];\r\n            this.handleTableChange({},filters,{},0);\r\n        }else{\r\n            SearchContation[dataIndex]=\"\";\r\n            this.handleTableChange({},{},{},0);\r\n        }\r\n    }\r\n    //重置\r\n    handleReset = clearFilters=>{\r\n        clearFilters();\r\n        this.setState({ searchText: '' });\r\n    }\r\n    handleTableChange = async (pagination = {}, filters = {}, sorter = {},model) => {\r\n        let { SearchContation } = this.state;\r\n        console.dir(filters);\r\n        if (pagination.current === undefined) {\r\n            SearchContation.page = 1;\r\n            SearchContation.pageSize = 100;\r\n        } else {\r\n            SearchContation.page = pagination.current;\r\n            SearchContation.pageSize = pagination.pageSize;\r\n        }\r\n        //添加条件\r\n        if (filters !== {}) {\r\n            for (let key in filters) {\r\n                SearchContation[key] = filters[key];\r\n            }\r\n        }\r\n        // 添加层级的条件\r\n        if(this.SearchSelect !==undefined && this.SearchSelect.value!==undefined){\r\n            SearchContation[\"level\"] = this.SearchSelect.value;\r\n        }\r\n        if(this.SearchSelect2 !==undefined && this.SearchSelect2.value!==undefined){\r\n            SearchContation[\"level2\"] = this.SearchSelect2.value;\r\n        }\r\n        //添加表单的条件\r\n        const formReftemp = this.formRef.current;\r\n        var tempFormData = formReftemp.getFieldsValue(true);//当前查询条件\r\n        //创建提交后台数据 这个页面不需要通过调度单查询\r\n        //SearchContation.DIDS = DIDS;\r\n        //console.dir(tempFormData.Series);\r\n        // if((tempFormData.Series===\"\" || tempFormData.Series===undefined) && model===1){\r\n        //     message.warn(\"请输入系列，再查询\");\r\n        //     return;\r\n        // }\r\n        if(tempFormData.Series!==\"\" && tempFormData.Series!==undefined){\r\n            SearchContation.model=1;\r\n        }\r\n        SearchContation = {...SearchContation,...tempFormData}\r\n        \r\n        const formData = ConvertFomrData(SearchContation);\r\n        this.setState({ loading: true });\r\n        const result = await getV_Sum_Num_BjInfo2(formData);\r\n        if (result.status === 0) {\r\n            const { V_BjInfo } = result.data;\r\n            //console.dir(V_BjInfo);\r\n            if (V_BjInfo.length === 0) {\r\n                //console.dir(V_BjInfo.length);\r\n                this.setState({ dataSource: [], current: 1, dataTotal: 0, loading: false });\r\n            } else {\r\n                //console.dir(\"index\");\r\n                //val.replace(/\\b(0+)/gi,\"\")\r\n                V_BjInfo.forEach(item => {\r\n                    item.FirstCode = item.FirstCode.replace(/\\b(0+)/gi, \"\");\r\n                    item.SecondCode = item.SecondCode.replace(/\\b(0+)/gi, \"\");\r\n                    item.ThirdCode = item.ThirdCode.replace(/\\b(0+)/gi, \"\");\r\n                    item.FourthCode = item.FourthCode.replace(/\\b(0+)/gi, \"\");\r\n                    item.FifthCode = item.FifthCode.replace(/\\b(0+)/gi, \"\");\r\n                })\r\n                this.Arr = [];\r\n                this.expandRowKeys2 = [];\r\n                this.deepTree(V_BjInfo, 0, {});\r\n                //console.dir(this.expandRowKeys);\r\n                let tempSource = this.Arr.slice(0,9);\r\n                this.setState({ dataSource: tempSource, current:1,dataTotal:this.Arr.length ,loading: false,expandRowKeys: this.expandRowKeys2,level:SearchContation.level,level2:SearchContation.level2,SearchContation:SearchContation});\r\n            }\r\n        }\r\n    }\r\n    Codes = [\"FirstCode\", \"SecondCode\", \"ThirdCode\", \"FourthCode\", \"FifthCode\",\"SixthCode\"];\r\n    CodesName = [\"FirstName\", \"SecondName\", \"ThirdName\", \"FourthName\", \"FifthName\",\"SixthName\"];\r\n    Arr = [];\r\n    expandRowKeys2 = [];\r\n    //处理后台钣金的数据\r\n    deepTree(data, index, pre) {\r\n        if (index >= data.length) {\r\n            return;\r\n        }\r\n        let Current = data[index];\r\n        let keyIndex = 0;\r\n        //var preNode = {};\r\n        var nowNode = {};\r\n        var CurrentNode = {};\r\n        var flg = false;//后面是否都是新插入 \r\n        let key;\r\n        let NameKey;\r\n        //let tempNode = {\"Code\":Current[key],\"Num\":Current[\"Num\"+keyIndex],\"children\":childrenNode};\r\n        //处理第一次空的插入\r\n        if (pre === {}) {\r\n            for (; keyIndex < this.Codes.length; keyIndex++) {\r\n                key = this.Codes[keyIndex];\r\n                NameKey = this.CodesName[keyIndex];\r\n                //\r\n                let tempNode = { Code: Current[key], Code2: (keyIndex + 1) + \"层物料编码:\" + Current[key], Num: Current[\"Num\" + (keyIndex + 1)], Name: Current[NameKey],Pline1:Current[\"Pline1\"], children: [] };\r\n                if (keyIndex === 0) {\r\n                    pre = tempNode;\r\n                    nowNode = tempNode;\r\n                    this.Arr.push(nowNode);\r\n                    this.expandRowKeys2.push(nowNode.Code);\r\n                } else {\r\n                    nowNode.children.push(tempNode);\r\n                    nowNode = tempNode;\r\n                }\r\n            }\r\n            keyIndex = 0;\r\n            index += 1;\r\n            Current = data[index];\r\n        }\r\n        //判断是否要新插入\r\n        key = this.Codes[0];\r\n        NameKey = this.CodesName[0];\r\n        if (Current[key] !== pre[\"Code\"]) {//新插入\r\n            let tempNode = { \"Code\": Current[key], Code2: (1) + \"层物料编码:\" + Current[key], \"Num\": Current[\"Num\" + 1], Name: Current[NameKey], Pline1:Current[\"Pline1\"],\"children\": [] };\r\n            CurrentNode = tempNode;\r\n            this.Arr.push(CurrentNode);\r\n            this.expandRowKeys2.push(CurrentNode.Code);\r\n            flg = true;\r\n        }\r\n        if (flg) {//全是新插入\r\n            for (keyIndex = 1; keyIndex < this.Codes.length; keyIndex++) {\r\n                key = this.Codes[keyIndex];\r\n                NameKey = this.CodesName[keyIndex];\r\n                if (Current[key] !== \"\") {\r\n                    let tempNode = { \"Code\": Current[key], Code2: (keyIndex + 1) + \"层物料编码:\" + Current[key], \"Num\": Current[\"Num\" + (keyIndex + 1)], Name: Current[NameKey], Pline1:Current[\"Pline\"+(keyIndex+1)],Pline2:Current[\"Pline2\"], Pline3:Current[\"Pline3\"], Pline4:Current[\"Pline4\"],Pline5:Current[\"Pline5\"], \"children\": [] };\r\n                    CurrentNode.children.push(tempNode);\r\n                    this.expandRowKeys2.push(tempNode.Code);\r\n                    CurrentNode = tempNode;\r\n                }\r\n\r\n            }\r\n        } else {//不是全部都是全新插入 \r\n            //寻找第一个Code不同的点\r\n            for (keyIndex = 1; keyIndex < this.Codes.length; keyIndex++) {\r\n                //undefined\r\n                key = this.Codes[keyIndex];\r\n                NameKey = this.CodesName[keyIndex];\r\n                if (Current[key] === \"\") {\r\n                    break;\r\n                }\r\n                if (flg) {//后面全是新插入\r\n                    if (Current[key] === \"\") {\r\n                        break;\r\n                    }\r\n                    let tempNode = { \"Code\": Current[key], Code2: (keyIndex + 1) + \"层物料编码:\" + Current[key], \"Num\": Current[\"Num\" + (keyIndex + 1)], Name: Current[NameKey],Pline1:Current[\"Pline\"+(keyIndex + 1)],\"children\": [] };\r\n                    this.expandRowKeys2.push(tempNode.Code);\r\n                    pre.children.push(tempNode);\r\n                    pre = tempNode;\r\n                    continue;\r\n                }\r\n                let tempNode = pre.children.find(item => {\r\n                    if (item[\"Code\"] === \"\") {\r\n                        return false;\r\n                    }\r\n                    if (Current[key] === item[\"Code\"]) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                })\r\n                if (tempNode === undefined) {//需要新插入\r\n                    if (Current[key] === \"\") {\r\n                        break;\r\n                    }\r\n                    tempNode = { Code: Current[key], Code2: (keyIndex + 1) + \"层物料编码:\" + Current[key], \"Num\": Current[\"Num\" + (keyIndex + 1)], Name: Current[NameKey], Pline1:Current[\"Pline\"+(keyIndex + 1)],\"children\": [] };\r\n                    this.expandRowKeys2.push(tempNode.Code);\r\n                    pre.children.push(tempNode);\r\n                    pre = tempNode;\r\n                    flg = true;\r\n                } else {//不需要新插入\r\n                    pre = tempNode;\r\n                }\r\n            }\r\n        }\r\n        this.deepTree(data, index + 1, this.Arr[this.Arr.length - 1]);\r\n    }\r\n\r\n    OpenOrCloseSingle = (record, type) => {\r\n        let { expandRowKeys } = this.state;\r\n        if (type) {\r\n            expandRowKeys.push(record.Code);\r\n        } else {\r\n            expandRowKeys = expandRowKeys.filter(item => {\r\n                if (item === record.Code) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            })\r\n        }\r\n        this.setState({ expandRowKeys });\r\n    }\r\n\r\n    ExpandRow = (type) => {\r\n        const { dataSource } = this.state;\r\n        let expandRowKeys = [];\r\n        for (let i = 0; i < type; i++) {\r\n            if (i === 0) {\r\n                expandRowKeys = [];\r\n            }\r\n            if (i === 1) {\r\n                let tempKeys = dataSource.map(item => item.Code)\r\n                expandRowKeys = [...expandRowKeys, ...tempKeys]\r\n            }\r\n            if (i === 2) {\r\n                let tempKeys = [];\r\n                dataSource.forEach(item => {\r\n                    item.children.forEach(item2 => {\r\n                        tempKeys.push(item2.Code);\r\n                    })\r\n                })\r\n                expandRowKeys = [...expandRowKeys, ...tempKeys]\r\n            }\r\n            if (i === 3) {\r\n                let tempKeys = [];\r\n                dataSource.forEach(item => {\r\n                    item.children.forEach(item2 => {\r\n                        item2.children.forEach(item3 => tempKeys.push(item3.Code))\r\n                    })\r\n                })\r\n                expandRowKeys = [...expandRowKeys, ...tempKeys]\r\n            }\r\n            if (i === 4) {\r\n                let tempKeys = [];\r\n                dataSource.forEach(item => {\r\n                    item.children.forEach(item2 => {\r\n                        item2.children.forEach(item3 => {\r\n                            item3.children.forEach(item4 => tempKeys.push(item4.Code))\r\n                        })\r\n                    })\r\n                })\r\n                expandRowKeys = [...expandRowKeys, ...tempKeys]\r\n            }\r\n\r\n            if (i === 5) {\r\n                let tempKeys = [];\r\n                dataSource.forEach(item => {\r\n                    item.children.forEach(item2 => {\r\n                        item2.children.forEach(item3 => {\r\n                            item3.children.forEach(item4 => {\r\n                                item4.children.forEach(item5=>tempKeys.push(item5.Code))\r\n                            })\r\n                        })\r\n                    })\r\n                })\r\n                expandRowKeys = [...expandRowKeys, ...tempKeys]\r\n            }\r\n        }\r\n        this.setState({ expandRowKeys })\r\n    }\r\n\r\n    ExcelOut = async ()=>{\r\n        const {SearchContation} = this.state;\r\n        const ColumsWch = [\r\n            {wch:10},//日期\r\n            {wch:20},//一层编码\r\n            {wch:45},//一层名称\r\n            {wch:10},//一层数量\r\n            {wch:10},//一层工艺\r\n            {wch:20},//二层编码\r\n            {wch:45},//二层名称\r\n            {wch:10},//二层数量\r\n            {wch:10},//二层工艺\r\n            {wch:20},//三层编码\r\n            {wch:45},//三层名称\r\n            {wch:10},//三层数量\r\n            {wch:10},//三层工艺\r\n            {wch:20},//四层编码\r\n            {wch:45},//四层名称\r\n            {wch:10},//四层数量\r\n            {wch:10},//四层工艺\r\n            {wch:20},//五层编码\r\n            {wch:45},//五层名称\r\n            {wch:10},//五层数量\r\n            {wch:10},//五层工艺\r\n            {wch:20},//六层编码\r\n            {wch:45},//六层名称\r\n            {wch:10},//六层数量\r\n            {wch:10},//六层工艺\r\n            {wch:10},//系列\r\n          ]\r\n        this.setState({SpinTip:'Excel导出中，请等待',ExcelLoading:true});\r\n        SearchContation.page = 1;\r\n        SearchContation.pageSize = 999999;\r\n        const formData = ConvertFomrData(SearchContation);\r\n        //\r\n        const result = await getV_BjInfo(formData);\r\n        if(result.status===0){\r\n            const {V_BjInfo} = result.data;\r\n            V_BjInfo.forEach(item=>{\r\n                item.Datetime1 = moment(item.Datetime1).format(\"YYYYMMDD\");\r\n            })\r\n            downloadExcel(V_BjInfo,V_BjInfo_columns,ColumsWch,\"钣金需求单\");\r\n            this.setState({SpinTip:'Excel导出中，请等待',ExcelLoading:false});\r\n        }\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        this.handleTableChange();\r\n    }\r\n\r\n    render() {\r\n        const { dataSource, loading, expandRowKeys ,SearchContation,current,dataTotal,SpinTip,ExcelLoading,level,level2} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div style={{margin:'10px',float:\"left\",width:'80%'}}>\r\n                <Form layout=\"inline\" ref={this.formRef}>\r\n                        <Form.Item\r\n                            label=\"系列\"\r\n                            name=\"Series\"\r\n                            style={{width:'160px'}}\r\n                        >\r\n                            <Input placeholder=\"默认所有系列\"></Input>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" onClick={()=>this.handleTableChange({},{},{},1)}>查询</Button>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button onClick={() => { this.ExpandRow(1) }}>查看第一层</Button>\r\n                            &ensp;\r\n                            <Button onClick={() => { this.ExpandRow(2) }}>查看第二层</Button>\r\n                            &ensp;\r\n                            <Button onClick={() => { this.ExpandRow(3) }}>查看第三层</Button>\r\n                            &ensp;\r\n                            <Button onClick={() => { this.ExpandRow(4) }}>查看第四层</Button>\r\n                            &ensp;\r\n                            <Button onClick={() => { this.ExpandRow(5) }}>查看第五层</Button>\r\n                            &ensp;\r\n                            <Button onClick={() => { this.ExpandRow(6) }}>查看第六层</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n                <div style={{float:'left',textAlign:'right',width:'16%'}}>\r\n                    <Button type=\"primary\" onClick={()=>this.ExcelOut()}>导出Excel</Button>\r\n                </div>\r\n                <div style={{float:\"left\",width:\"100%\"}}>\r\n                    {\r\n                    SearchContation.FirstCode===\"\"||SearchContation.FirstCode===undefined?\"\":\r\n                        <h2 style={{float:\"left\"}}>物料编码:{level===null||level===undefined?'1':level}层,{SearchContation.FirstCode}&nbsp;</h2>\r\n                    }\r\n                    {\r\n                        SearchContation.FirstName===\"\"||SearchContation.FirstName===undefined?\"\":\r\n                        <h2 style={{float:\"left\"}}>物料名称:{level2===null||level2===undefined?'1':level2}层,{SearchContation.FirstName}</h2>\r\n                    }\r\n                </div>\r\n                <Table\r\n                    dataSource={dataSource}\r\n                    bordered\r\n                    rowKey=\"Code\"\r\n                    sticky={true}\r\n                    scroll={{ y: 600 }}\r\n                    size=\"small\"\r\n                    columns={DdOrder_BjInfo_First(this)}\r\n                    loading={loading}\r\n                    indentSize={15}\r\n                    onRow={record => {\r\n                        return {\r\n                            onMouseEnter: event => { },\r\n                            onMouseLeave: event => { }\r\n                        }\r\n                    }}\r\n                    expandable={{\r\n                        expandedRowKeys: expandRowKeys,\r\n                        onExpand: (expanded, record) => { this.OpenOrCloseSingle(record, expanded) }\r\n                    }}\r\n                    pagination={{\r\n                        position: ['bottomCenter'],\r\n                        pageSizeOptions:[10],\r\n                        current:current,\r\n                        total:dataTotal,\r\n                        showTotal:(total, range) => `一共 ${total} 条数据`,\r\n                        pageSize:10,\r\n                        onChange:(page,pageSize)=>{\r\n                            let start = (page-1)*pageSize;\r\n                            let end = (page)*pageSize;\r\n                            if(this.Arr.length!==0){\r\n                                if(end>this.Arr.length){\r\n                                    end = this.Arr.length;\r\n                                }\r\n                                let tempArr = this.Arr.slice(start,end-1);\r\n                                this.setState({dataSource:tempArr,current:page});\r\n                            }\r\n                            //this.Arr\r\n                            //this.handleTableChange({page:page,pageSize:pageSize});\r\n                        }\r\n                    }}\r\n                // expandable={{\r\n                //     expandRowByClick: true,\r\n                //     expandedRowRender,\r\n                //     columnWidth: 3,\r\n                //     indentSize: 0,\r\n                //     expandedRowKeys: expandRowKeys1,\r\n                //     onExpand: (expanded, record) => { this.OpenOrCloseSingle(record, expanded) }\r\n                // }}\r\n                >\r\n                </Table>\r\n                <Spin style={{ position: 'absolute', left: '48%', top: '47%' }} tip={SpinTip} spinning={ExcelLoading}></Spin>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n//导入组件\r\nimport {Button,Input,Form,DatePicker, Table,message,Spin,Checkbox} from 'antd'\r\n//导入方法\r\nimport moment from 'moment'\r\n//本地化\r\nimport 'moment/locale/zh-cn';\r\nimport locale from 'antd/es/date-picker/locale/zh_CN';\r\n//自定义方法\r\nimport {ConvertFomrData} from '../../utils'\r\n//导入api\r\nimport {getV_Sum_Num_JiInfo} from '../../api'\r\n//Excel\r\nimport XLSX from 'xlsx'\r\n//导入配置\r\nimport {DdOrder_JjInfo_columns} from '../../config/table-columns'\r\nconst {RangePicker} = DatePicker;\r\n//机加\r\n//表格扩展\r\nconst expandedRowRender = (record,index)=>{\r\n    //DdOrder_Det_Sum_columns\r\n//console.dir(record);\r\nconst data = record.Det;\r\nif (data === undefined || data.length === 0) {\r\n    return \"\";\r\n}\r\n// var DetVal = [];\r\n// var newData = {};\r\n// for (let i = 0; i < data.length; i++) {\r\n//     if (newData[data[i].Datetime1] === undefined) {\r\n//         //console.dir(data[i].Datetime1);\r\n//         newData[data[i].Datetime1] = 0;\r\n//     }\r\n// }\r\n// for (var key in newData) {\r\n//     for (let i = 0; i < data.length; i++) {\r\n//         if (key === data[i].Datetime1) {\r\n//             newData[key] += (data[i].Menge * 1)\r\n//         }\r\n//     }\r\n// }\r\n//DetVal.push({ ID: 1, ...newData });\r\n//根据时间创建多个Table\r\n//moment(dt).isBetween(dt1,dt2);\r\nvar newColums = [];\r\nvar newData = [];\r\n//是否创建数组\r\nvar dt1 = null;\r\nvar dt2 = null;\r\ndata.forEach((item,index) => {\r\n    let singleColums = [];\r\n    var dt = new Date(item.Datetime1);\r\n    let dt3 = moment(dt);\r\n    dt3.add(1,'m');\r\n    if(newColums.length===0||!moment(dt3).isBetween(dt1,dt2)){\r\n        let singleArr = {};\r\n        dt1 = moment(dt).startOf(\"month\");\r\n        dt2 = moment(dt).endOf(\"month\");\r\n        let dt4 = moment(dt).startOf(\"month\");\r\n        //插入表头的第一列\r\n        singleColums.push({\r\n            title: '日期',\r\n            dataIndex: '日期',\r\n        })\r\n        //插入表头第一列的内容为空\r\n        singleArr[moment(dt1).format('YYYYMM')] = 0;\r\n        singleArr.ID = moment(dt1).format('YYYYMM');\r\n        //插入其他列\r\n        dt4.add(1, 's');\r\n        for(let i=1;i<=31;i++){\r\n            var key = i<10?'0'+i:''+i;\r\n            singleColums.push({\r\n                title:key,\r\n                dataIndex:key,\r\n            })\r\n            singleArr[key] = 0;\r\n        }\r\n        singleArr[\"dt\"]=moment(dt3);\r\n        singleArr[\"日期\"]=moment(dt3).format(\"YYYYMM\");\r\n        newColums.push(singleColums);\r\n        newData.push(singleArr);\r\n    }\r\n    \r\n    newColums.forEach((item2,index2)=>{\r\n        let dt5 = moment(newData[index2][\"dt\"]).startOf(\"month\");\r\n        let dt6 = moment(newData[index2][\"dt\"]).endOf(\"month\");\r\n        if(moment(dt3).isBetween(dt5,dt6)){\r\n            newData[index2][moment(dt3).format('DD')] += item.Menge*1;\r\n        }\r\n        //moment(dt3).format('YYYYMM')\r\n        \r\n    })\r\n})\r\n// return (<div>\r\n//     {\r\n//         newColums.map((_,index)=>{\r\n//             return(\r\n//                 <Table\r\n//                     bordered\r\n//                     size=\"small\"\r\n//                     rowKey=\"ID\"\r\n//                     key={'tab'+index}\r\n//                     columns={newColums[index]}\r\n//                     dataSource={newData}\r\n//                     pagination={false}\r\n//                 >\r\n//                 </Table>\r\n//             )\r\n//         })\r\n//     }\r\n// </div>)\r\nreturn <Table\r\n            bordered\r\n            size=\"small\"\r\n            rowKey=\"ID\"\r\n            columns={newColums[0]}\r\n            dataSource={newData}\r\n            pagination={false}\r\n        >\r\n</Table>\r\n}\r\nexport default class Report3_1 extends Component {\r\n    formRef = React.createRef();\r\n    state = {\r\n        dataSource:[],\r\n        loading:true,\r\n        ExcelLoading:false,\r\n        //1 显示系列 0 不显示系列\r\n        model:0,\r\n        expandRowKeys:[]\r\n    }\r\n    ModalExcelOut = async ()=>{\r\n        var {ExcelLoading,model} = this.state;//当前的订单\r\n        if(ExcelLoading){\r\n            message.warn(\"数据打包中，请勿重复点击\");\r\n            return;\r\n        }\r\n        const form = this.formRef.current;\r\n        var tempFormData = form.getFieldsValue(true);//当前查询条件\r\n        var ExcelJson = [];\r\n        tempFormData.page = 1;\r\n        tempFormData.pageSize = 99999;\r\n        const FormData = ConvertFomrData(tempFormData);\r\n        //添加loading效果\r\n        this.setState({ExcelLoading:true});\r\n        const result = await getV_Sum_Num_JiInfo(FormData);\r\n        if(result.status === 0){\r\n            const jo_V_JjInfo = result.jo_V_JjInfo.V_JjInfo;\r\n            var jo_V_JiInfoSum = result.jo_V_JiInfoSum.V_JjInfo;\r\n            //\r\n            const colums = DdOrder_JjInfo_columns(model);\r\n            var i = 0;\r\n            var j = 0;\r\n            this.setState({ExcelLoading:false})\r\n            for(;i<jo_V_JiInfoSum.length;i++){\r\n                jo_V_JiInfoSum[i].ID = \"ID\"+i;\r\n                for(;j<jo_V_JjInfo.length;j++){\r\n                    if(jo_V_JiInfoSum[i].Matnr===jo_V_JjInfo[j].Matnr){\r\n                        var dt = new Date(jo_V_JjInfo[j].Datetime1);\r\n                        if(jo_V_JiInfoSum[i][moment(dt).format(\"YYYYMMDD\")]!==undefined){\r\n                            jo_V_JiInfoSum[i][moment(dt).format(\"YYYYMMDD\")] += jo_V_JjInfo[j].Menge*1;\r\n                        }else{\r\n                            jo_V_JiInfoSum[i][moment(dt).format(\"YYYYMMDD\")] = jo_V_JjInfo[j].Menge*1;\r\n                        }\r\n                        \r\n                    }else{\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            var timeCol = [];\r\n            for(let k=0;k<jo_V_JiInfoSum.length;k++){\r\n                let single = {}\r\n                \r\n                for(let l=0;l<colums.length;l++){\r\n                    single[colums[l].title] = jo_V_JiInfoSum[k][colums[l].dataIndex];\r\n                }\r\n                for(let key2 in jo_V_JiInfoSum[k]){\r\n                    if(!isNaN(Number(key2))){\r\n                        single[key2+\" \"] = jo_V_JiInfoSum[k][key2];\r\n                    }\r\n                }\r\n                ExcelJson.push(single);\r\n            }\r\n            //冒泡排序\r\n            for(let k=0;k<timeCol.length;k++){\r\n                for(let l=k;l<timeCol.length;l++){\r\n                    if(timeCol[k]>timeCol[l]){\r\n                        let temp = timeCol[k];\r\n                        timeCol[k] = timeCol[l];\r\n                        timeCol[l] = temp;\r\n                    }\r\n                }\r\n            }\r\n            let book = XLSX.utils.book_new();\r\n            var newRow = {};\r\n            for(let l = 0; l < colums.length; l++){\r\n                newRow[colums[l].title] = jo_V_JiInfoSum[0][colums[l].dataIndex];\r\n            }\r\n            for(let k=0;k<timeCol.length;k++){\r\n                //newRow[timeCol[k]] =\r\n                newRow[timeCol[k]+\" \"] =  ExcelJson[0][timeCol[k]+\" \"];\r\n            }\r\n            ExcelJson[0] = newRow;\r\n\r\n\r\n            let sheet = XLSX.utils.json_to_sheet(ExcelJson);\r\n            sheet[\"!cols\"]=[\r\n                {wch:15},{wch:30},{wch:10},{wch:10},{wch:10},{wch:10}\r\n            ];\r\n\r\n            XLSX.utils.book_append_sheet(book, sheet, 'Sheet1')\r\n            XLSX.writeFile(book, `机加需求单 `+moment().format('YYYYMMDD')+'.xlsx')\r\n        }else{\r\n            message.error(\"网络错误\");\r\n            this.setState({ExcelLoading:false})\r\n        }\r\n    }\r\n    componentDidMount = ()=>{\r\n        this.SearchData();\r\n    }\r\n    SearchData = async ()=>{\r\n        const form = this.formRef.current;\r\n        var tempFormData = form.getFieldsValue(true);\r\n        if(tempFormData.model!==undefined){\r\n            let tepModel = tempFormData.model[0];\r\n            delete  tempFormData.model;\r\n            tempFormData.model = tepModel;\r\n        }\r\n        const FormData = ConvertFomrData(tempFormData);\r\n        \r\n        this.setState({loading:true})\r\n        const result = await getV_Sum_Num_JiInfo(FormData);\r\n        if(result.status===0){\r\n            const jo_V_JjInfo = result.jo_V_JjInfo.V_JjInfo;\r\n            var jo_V_JiInfoSum = result.jo_V_JiInfoSum.V_JjInfo;\r\n            var i = 0;\r\n            var j = 0;\r\n            for(;i<jo_V_JiInfoSum.length;i++){\r\n                jo_V_JiInfoSum[i].ID = \"ID\"+i;\r\n                for(;j<jo_V_JjInfo.length;j++){\r\n                    if(tempFormData.model===\"1\"){\r\n                        if(jo_V_JiInfoSum[i].Matnr===jo_V_JjInfo[j].Matnr && jo_V_JiInfoSum[i].Series === jo_V_JjInfo[j].Series){\r\n                        \r\n                            if(jo_V_JiInfoSum[i].Det===undefined){\r\n                                jo_V_JiInfoSum[i].Det = [];\r\n                            }\r\n                            jo_V_JiInfoSum[i].Det.push(jo_V_JjInfo[j]);\r\n                        }else{\r\n                            break;\r\n                        }\r\n                    }else{\r\n                        if(jo_V_JiInfoSum[i].Matnr===jo_V_JjInfo[j].Matnr){\r\n                            if(jo_V_JiInfoSum[i].Det===undefined){\r\n                                jo_V_JiInfoSum[i].Det = [];\r\n                            }\r\n                            jo_V_JiInfoSum[i].Det.push(jo_V_JjInfo[j]);\r\n                        }else{\r\n                            break;\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n            }\r\n            this.setState({loading:false,dataSource:jo_V_JiInfoSum,model:tempFormData.model})\r\n        }else{\r\n            this.setState({loading:false});\r\n            message.error(\"网络错误\");\r\n        }\r\n    }\r\n    OpenOrCloseAll = () => {\r\n        //expandRowKeys\r\n        const { expandRowKeys, dataSource } = this.state;\r\n        if (expandRowKeys.length > 0) {//关闭\r\n            this.setState({ expandRowKeys: [] });\r\n        } else {//展开\r\n            let newArr = [];\r\n            for (let i = 0; i < dataSource.length; i++) {\r\n                newArr.push(dataSource[i].ID);\r\n            }\r\n            this.setState({ expandRowKeys: newArr });\r\n        }\r\n    }\r\n    OpenOrCloseSingle = (record, type) => {\r\n        let { expandRowKeys } = this.state;\r\n        if (type) {\r\n            expandRowKeys.push(record.ID);\r\n        } else {\r\n            expandRowKeys = expandRowKeys.filter(item => {\r\n                if (item === record.ID) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            })\r\n        }\r\n        this.setState({ expandRowKeys });\r\n    }\r\n\r\n    render() {\r\n        const {loading,dataSource,ExcelLoading,model,expandRowKeys} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"toolArea\">\r\n                    <Form layout=\"inline\" ref={this.formRef} >\r\n                        <Form.Item\r\n                            name=\"Datetime1\"\r\n                            label=\"时间\"\r\n                        >\r\n                            <RangePicker locale={locale}/>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Series\"\r\n                            label=\"系列\"\r\n                        >\r\n                            <Input/>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Matnr\"\r\n                            label=\"物料编码\"\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Maktx\"\r\n                            label=\"物料描述\"\r\n                        >\r\n                            <Input></Input>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"model\"\r\n                            label=\"区分系列\"\r\n                        >\r\n                            <Checkbox.Group>\r\n                                <Checkbox value=\"1\"></Checkbox>\r\n                            </Checkbox.Group>\r\n                            \r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" onClick={()=>this.SearchData()} >查询</Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n                <div>\r\n                    <div style={{width:\"75%\",float:\"left\"}}>\r\n                        <h1 style={{fontSize:'20px',paddingLeft:'20px',lineHeight:'35px'}}>\r\n                        <Button onClick={() => this.OpenOrCloseAll()}>展开/关闭所有行</Button>\r\n                        </h1>\r\n                    </div>\r\n                    <div style={{width:\"24%\",float:\"left\",textAlign:'right'}}>\r\n                        <Button type=\"primary\" onClick={()=>this.ModalExcelOut()} >Excel导出</Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <Table\r\n                dataSource = {dataSource}\r\n                bordered\r\n                rowKey=\"ID\"\r\n                sticky={true}\r\n                size = \"middle\"\r\n                columns = {DdOrder_JjInfo_columns(model)}\r\n                loading = {loading}\r\n                pagination={false}\r\n                expandable={{\r\n                    expandRowByClick: true,\r\n                    expandedRowRender,\r\n                    columnWidth:4,\r\n                    indentSize: 0,\r\n                    expandedRowKeys: expandRowKeys,\r\n                    onExpand: (expanded, record) => { this.OpenOrCloseSingle(record, expanded) }\r\n                }}\r\n                >\r\n\r\n                </Table>\r\n                <Spin style={{position:'absolute',left:'48%',top:'47%'}} tip=\"数据打包Excel...\" spinning={ExcelLoading}></Spin>\r\n\r\n            </div>\r\n        ) \r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\n//导入组件\r\nimport { Button, Input, Form, DatePicker, Table, message, Spin, Checkbox } from 'antd'\r\n//导入方法\r\nimport moment from 'moment'\r\n//引入less\r\nimport './index.less'\r\n//本地化\r\nimport 'moment/locale/zh-cn';\r\nimport locale from 'antd/es/date-picker/locale/zh_CN';\r\n//自定义方法\r\nimport { ConvertFomrData } from '../../utils'\r\n//导入api\r\nimport { getV_Sum_Num_CgInfo,updateCgBaseBum } from '../../api'\r\n//Excel\r\nimport XLSX from 'xlsx'\r\n//导入配置\r\nimport { DdOrder_CgInfo_columns } from '../../config/table-columns'\r\nconst { RangePicker } = DatePicker;\r\n//表格扩展\r\nconst expandedRowRender = (record, index) => {\r\n    //DdOrder_Det_Sum_columns\r\n    //console.dir(record);\r\n    const data = record.Det;\r\n    if (data === undefined || data.length === 0) {\r\n        return \"\";\r\n    }\r\n    // var DetVal = [];\r\n    // var newData = {};\r\n    // for (let i = 0; i < data.length; i++) {\r\n    //     if (newData[data[i].Datetime1] === undefined) {\r\n    //         //console.dir(data[i].Datetime1);\r\n    //         newData[data[i].Datetime1] = 0;\r\n    //     }\r\n    // }\r\n    // for (var key in newData) {\r\n    //     for (let i = 0; i < data.length; i++) {\r\n    //         if (key === data[i].Datetime1) {\r\n    //             newData[key] += (data[i].Menge * 1)\r\n    //         }\r\n    //     }\r\n    // }\r\n    //DetVal.push({ ID: 1, ...newData });\r\n    //根据时间创建多个Table\r\n    //moment(dt).isBetween(dt1,dt2);\r\n    var newColums = [];\r\n    var newData = [];\r\n    //是否创建数组\r\n    var dt1 = null;\r\n    var dt2 = null;\r\n    data.forEach((item, index) => {\r\n        let singleColums = [];\r\n        var dt = new Date(item.Datetime1);\r\n        let dt3 = moment(dt);\r\n        dt3.add(1, 'm');\r\n        if (newColums.length === 0 || !moment(dt3).isBetween(dt1, dt2)) {\r\n            let singleArr = {};\r\n            dt1 = moment(dt).startOf(\"month\");\r\n            dt2 = moment(dt).endOf(\"month\");\r\n            let dt4 = moment(dt).startOf(\"month\");\r\n            //插入表头的第一列\r\n            singleColums.push({\r\n                title: '日期',\r\n                dataIndex: '日期',\r\n            })\r\n            //插入表头第一列的内容为空\r\n            singleArr[moment(dt1).format('YYYYMM')] = 0;\r\n            singleArr.ID = moment(dt1).format('YYYYMM');\r\n            //插入其他列\r\n            dt4.add(1, 's');\r\n            for (let i = 1; i <= 31; i++) {\r\n                var key = i < 10 ? '0' + i : '' + i;\r\n                singleColums.push({\r\n                    title: key,\r\n                    dataIndex: key,\r\n                })\r\n                singleArr[key] = 0;\r\n            }\r\n            singleArr[\"dt\"] = moment(dt3);\r\n            singleArr[\"日期\"] = moment(dt3).format(\"YYYYMM\");\r\n            newColums.push(singleColums);\r\n            newData.push(singleArr);\r\n        }\r\n\r\n        newColums.forEach((item2, index2) => {\r\n            let dt5 = moment(newData[index2][\"dt\"]).startOf(\"month\");\r\n            let dt6 = moment(newData[index2][\"dt\"]).endOf(\"month\");\r\n            if (moment(dt3).isBetween(dt5, dt6)) {\r\n                newData[index2][moment(dt3).format('DD')] += item.Menge * 1;\r\n            }\r\n            //moment(dt3).format('YYYYMM')\r\n\r\n        })\r\n    })\r\n    // return (<div>\r\n    //     {\r\n    //         newColums.map((_,index)=>{\r\n    //             return(\r\n    //                 <Table\r\n    //                     bordered\r\n    //                     size=\"small\"\r\n    //                     rowKey=\"ID\"\r\n    //                     key={'tab'+index}\r\n    //                     columns={newColums[index]}\r\n    //                     dataSource={newData}\r\n    //                     pagination={false}\r\n    //                 >\r\n    //                 </Table>\r\n    //             )\r\n    //         })\r\n    //     }\r\n    // </div>)\r\n    return <Table\r\n        bordered\r\n        size=\"small\"\r\n        rowKey=\"ID\"\r\n        columns={newColums[0]}\r\n        dataSource={newData}\r\n        pagination={false}\r\n    >\r\n    </Table>\r\n\r\n}\r\n//采购\r\nexport default class Report4_1 extends Component {\r\n    formRef = React.createRef();\r\n    state = {\r\n        dataSource: [],\r\n        ViewMode:'V_CgInfo',\r\n        loading: true,\r\n        Btn_CgBaseload:false,\r\n        SearchContation: {},\r\n        current: 1,\r\n        dataTotal: 0,\r\n        ExcelLoading: false,\r\n        SpinTip: '',\r\n        model: 0,\r\n        expandRowKeys: []\r\n    }\r\n    TablerepetClassName = (record, index) => {\r\n        if (record.repeat === true) {\r\n            //console.dir(\"class\");\r\n            return \"Tablerepet\";\r\n        } else {\r\n            return \"\";\r\n        }\r\n    }\r\n    ModalExcelOut = async () => {\r\n        var {ExcelLoading,model,ViewMode} = this.state;//当前的订单\r\n        if (ExcelLoading) {\r\n            message.warn(\"数据打包中，请勿重复点击\");\r\n            return;\r\n        }\r\n        const form = this.formRef.current;\r\n        var tempFormData = form.getFieldsValue(true);//当前查询条件\r\n        var ExcelJson = [];\r\n        tempFormData.page = 1;\r\n        tempFormData.pageSize = 99999;\r\n        if(tempFormData.model!==undefined && tempFormData.model.length!==undefined){\r\n            tempFormData.model = tempFormData.model[0];\r\n        }\r\n        tempFormData.ViewMode = ViewMode;\r\n        console.dir(tempFormData);\r\n        const FormData = ConvertFomrData(tempFormData);\r\n        this.setState({ ExcelLoading: true ,SpinTip:'Excel数据打包中'});\r\n        const result = await getV_Sum_Num_CgInfo(FormData);\r\n        if (result.status === 0) {\r\n            const jo_V_CgInfo = result.jo_V_CgInfo.V_CgInfo;\r\n            var jo_V_CgInfoSum = result.jo_V_CgInfoSum.V_CgInfo;\r\n            let V_CgInfo_Count = result.jo_V_CgInfo.V_CgInfo_Count;\r\n            if(V_CgInfo_Count===0){\r\n                message.warn(\"无数据可导出\");\r\n                this.setState({ ExcelLoading: false});\r\n                return;\r\n            }\r\n            //console.dir(jo_V_CgInfo);\r\n            const colums = DdOrder_CgInfo_columns(tempFormData.model);\r\n            this.setState({ ExcelLoading: false });\r\n            var i = 0;\r\n            for (; i < jo_V_CgInfoSum.length; i++) {\r\n                jo_V_CgInfoSum[i].ID = \"ID\" + i;\r\n                for (var j=0; j < jo_V_CgInfo.length; j++) {\r\n                    if (model === \"1\") {\r\n                        if (jo_V_CgInfoSum[i].Matnr === jo_V_CgInfo[j].Matnr && jo_V_CgInfoSum[i].Series === jo_V_CgInfo[j].Series) {\r\n                            let dt = new Date(jo_V_CgInfo[j].Datetime1);\r\n                            if (jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] !== undefined) {\r\n                                jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] += jo_V_CgInfo[j].Menge * 1;\r\n                            } else {\r\n                                jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] = jo_V_CgInfo[j].Menge * 1;\r\n                            }\r\n                        }\r\n                    }else{\r\n                        if (jo_V_CgInfoSum[i].Matnr === jo_V_CgInfo[j].Matnr && jo_V_CgInfoSum[i].Lifnr === jo_V_CgInfo[j].Lifnr) {\r\n                            let dt = new Date(jo_V_CgInfo[j].Datetime1);\r\n                            if (jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] !== undefined) {\r\n                                jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] += jo_V_CgInfo[j].Menge * 1;\r\n                            } else {\r\n                                jo_V_CgInfoSum[i][moment(dt).format(\"YYYYMMDD\")] = jo_V_CgInfo[j].Menge * 1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            var timeCol = [];\r\n            for (let k = 0; k < jo_V_CgInfoSum.length; k++) {\r\n                let single = {}\r\n\r\n                for (let l = 0; l < colums.length; l++) {\r\n                    single[colums[l].title] = jo_V_CgInfoSum[k][colums[l].dataIndex];\r\n                }\r\n                for (let key2 in jo_V_CgInfoSum[k]) {\r\n                    if (!isNaN(Number(key2))) {\r\n                        single[key2 + \" \"] = jo_V_CgInfoSum[k][key2];\r\n                        let temp = timeCol.find(item=>{\r\n                            if(item===Number(key2)){\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        })\r\n                        if(temp===undefined){\r\n                            timeCol.push(Number(key2));\r\n                        }\r\n                    }\r\n                }\r\n                ExcelJson.push(single);\r\n            }\r\n            //冒泡排序\r\n            for(let k=0;k<timeCol.length;k++){\r\n                for(let l=k;l<timeCol.length;l++){\r\n                    if(timeCol[k]>timeCol[l]){\r\n                        let temp = timeCol[k];\r\n                        timeCol[k] = timeCol[l];\r\n                        timeCol[l] = temp;\r\n                    }\r\n                }\r\n            }\r\n            let book = XLSX.utils.book_new();\r\n            var newRow = {};\r\n            for(let l = 0; l < colums.length; l++){\r\n                newRow[colums[l].title] = jo_V_CgInfoSum[0][colums[l].dataIndex];\r\n            }\r\n\r\n            for(let k=0;k<timeCol.length;k++){\r\n                //newRow[timeCol[k]] =\r\n                newRow[timeCol[k]+\" \"] =  ExcelJson[0][timeCol[k]+\" \"];\r\n            }\r\n            ExcelJson[0] = newRow;\r\n            let sheet = XLSX.utils.json_to_sheet(ExcelJson);\r\n            sheet[\"!cols\"] = [\r\n                { wch: 15 }, { wch: 20 }, { wch: 10 }, { wch: 8 }, { wch: 12 }, { wch: 30 }, { wch: 12 }, { wch: 12 }, { wch: 15 }, { wch: 15 }\r\n            ];\r\n            XLSX.utils.book_append_sheet(book, sheet, 'Sheet1')\r\n            XLSX.writeFile(book, `采购需求单` + moment().format('YYYYMMDD') + '.xlsx')\r\n\r\n        }else{\r\n            this.setState({ ExcelLoading: false });\r\n            message.error(\"网络错误\")\r\n        }\r\n    }\r\n    demantCgBaseTime = async ()=>{\r\n        const {CgBaseTime,dataSource} = this.state;\r\n        console.dir(CgBaseTime);\r\n        if(CgBaseTime===\"\"){\r\n            message.warn(\"请选择采购库存基准日期\");\r\n            return;\r\n        }\r\n        if(dataSource.length===0){\r\n            message.warn(\"没有采购数据,无法更新库存\");\r\n            return;\r\n        }\r\n        let strKcDate =  CgBaseTime.format(\"YYYYMMDD\");\r\n        let BaseTime = CgBaseTime.format(\"YYYY/MM/DD\");\r\n        let formData =  new FormData();\r\n        formData.append(\"strKcDate\",strKcDate);\r\n        this.setState({Btn_CgBaseload:true});\r\n        const result = await updateCgBaseBum(formData);\r\n        if(result.code === \"200\"){\r\n            this.setState({Btn_CgBaseload:false,ViewMode:'V_CgInfo_kc'},()=>{//更改当前的查询条件\r\n                this.SearchData();\r\n            });\r\n            message.success(\"库存更新成功,等待查询数据...\");\r\n        }else{\r\n            this.setState({Btn_CgBaseload:false});\r\n            message.error(\"服务器无响应\");\r\n        }\r\n    }\r\n    componentDidMount = ()=>{\r\n        this.SearchData();\r\n    }\r\n\r\n    SearchData = async  (pagination = {}) => {\r\n        var { SearchContation,ViewMode} = this.state;\r\n        const form = this.formRef.current;\r\n        if (pagination.page === undefined) {\r\n            SearchContation.page = 1;\r\n            SearchContation.pageSize = 100;\r\n        } else {\r\n            SearchContation.page = pagination.page;\r\n            SearchContation.pageSize = pagination.pageSize;\r\n        }\r\n        var tempFormData = form.getFieldsValue(true);\r\n        if (tempFormData.model !== undefined) {\r\n            let tepModel = tempFormData.model[0];\r\n            delete tempFormData.model;\r\n            tempFormData.model = tepModel;\r\n        }\r\n        tempFormData.page = SearchContation.page;\r\n        tempFormData.pageSize = SearchContation.pageSize;\r\n        tempFormData.ViewMode = ViewMode;\r\n        const FormData = ConvertFomrData(tempFormData);\r\n        this.setState({ loading: true })\r\n        const result = await getV_Sum_Num_CgInfo(FormData);\r\n        if (result.status === 0) {\r\n            const jo_V_CgInfo = result.jo_V_CgInfo.V_CgInfo;\r\n            var jo_V_CgInfoSum = result.jo_V_CgInfoSum.V_CgInfo;\r\n            var i = 0;\r\n            var preSum = {};\r\n            for (; i < jo_V_CgInfoSum.length; i++) {\r\n                if (i === 0) {\r\n                    preSum = { ...jo_V_CgInfoSum[0] };\r\n                }\r\n                jo_V_CgInfoSum[i].ID = \"D\" + i;\r\n                for (var j = 0; j < jo_V_CgInfo.length; j++) {\r\n                    //console.dir(jo_V_CgInfoSum[i].Matnr);\r\n                    if (tempFormData.model === \"1\") {\r\n                        if (jo_V_CgInfoSum[i].Matnr === jo_V_CgInfo[j].Matnr && jo_V_CgInfoSum[i].Series === jo_V_CgInfo[j].Series) {\r\n                            if (jo_V_CgInfoSum[i].Det === undefined) {\r\n                                jo_V_CgInfoSum[i].Det = [];\r\n                            }\r\n                            jo_V_CgInfoSum[i].Det.push(jo_V_CgInfo[j]);\r\n                        }\r\n                    } else {\r\n                        if (jo_V_CgInfoSum[i].Matnr === jo_V_CgInfo[j].Matnr && jo_V_CgInfoSum[i].Lifnr === jo_V_CgInfo[j].Lifnr) {\r\n                            if (jo_V_CgInfoSum[i].Det === undefined) {\r\n                                jo_V_CgInfoSum[i].Det = [];\r\n                            }\r\n                            jo_V_CgInfoSum[i].Det.push(jo_V_CgInfo[j]);\r\n                        }\r\n\r\n                    }\r\n                }\r\n                if (i !== 0 && preSum.Matnr === jo_V_CgInfoSum[i].Matnr && tempFormData.model !== \"1\") {\r\n                    jo_V_CgInfoSum[i].Det = [];\r\n                    jo_V_CgInfoSum[i].repeat = true;\r\n                } else if (i !== 0 && preSum.Matnr === jo_V_CgInfoSum[i].Matnr && i !== 0 && preSum.Series === jo_V_CgInfoSum[i].Series && tempFormData.model === \"1\") {\r\n                    jo_V_CgInfoSum[i].Det = [];\r\n                    jo_V_CgInfoSum[i].repeat = true;\r\n                }\r\n                else {\r\n                    preSum = jo_V_CgInfoSum[i];\r\n                }\r\n            }\r\n            this.setState({ loading: false, dataSource: jo_V_CgInfoSum, current: tempFormData.page, dataTotal: result.jo_V_CgInfoSum.V_CgInfo_Count, model: tempFormData.model,Btn_CgBaseload:false })\r\n        }else{\r\n            this.setState({ loading: false });\r\n            message.error(\"网络错误\");\r\n        }\r\n    }\r\n    \r\n    OpenOrCloseAll = () => {\r\n        //expandRowKeys\r\n        const { expandRowKeys, dataSource } = this.state;\r\n        if (expandRowKeys.length > 0) {//关闭\r\n            this.setState({ expandRowKeys: [] });\r\n        } else {//展开\r\n            let newArr = [];\r\n            for (let i = 0; i < dataSource.length; i++) {\r\n                newArr.push(dataSource[i].ID);\r\n            }\r\n            this.setState({ expandRowKeys: newArr });\r\n        }\r\n    }\r\n    OpenOrCloseSingle = (record, type) => {\r\n        let { expandRowKeys } = this.state;\r\n        if (type) {\r\n            expandRowKeys.push(record.ID);\r\n        } else {\r\n            expandRowKeys = expandRowKeys.filter(item => {\r\n                if (item === record.ID) {\r\n                    return false;   \r\n                } else {\r\n                    return true;\r\n                }\r\n            })\r\n        }\r\n        this.setState({ expandRowKeys });\r\n    }\r\n\r\n    render() {\r\n        const { loading,Btn_CgBaseload, dataSource, current, dataTotal, ExcelLoading, model, expandRowKeys ,SpinTip} = this.state;\r\n        return (\r\n            <div className=\"main\">\r\n                <div className=\"toolArea\" >\r\n                    <Form layout=\"inline\" ref={this.formRef} >\r\n                        <Form.Item\r\n                            name=\"Datetime1\"\r\n                            label=\"时间\"\r\n                        >\r\n                            <RangePicker locale={locale} style={{width:'220px'}} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Series\"\r\n                            label=\"系列\"\r\n                        >\r\n                            <Input style={{width:'50px'}}/>\r\n                        </Form.Item>\r\n\r\n                        <Form.Item\r\n                            name=\"Matnr\"\r\n                            label=\"物料编码\"\r\n                        >\r\n                            <Input style={{width:'130px'}} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Maktx\"\r\n                            label=\"物料描述\"\r\n                        >\r\n                            <Input style={{width:'100px'}} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"MRP\"\r\n                            label=\"MRP控制者\"\r\n                        >\r\n                            <Input style={{width:'50px'}} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Lifnr\"\r\n                            label=\"供应商代码\"\r\n                        >\r\n                            <Input style={{width:'60px'}} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"Name1\"\r\n                            label=\"供应商名称\"\r\n                        >\r\n                            <Input style={{width:'100px'}} />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"model\"\r\n                            label=\"区分系列\"\r\n                        >\r\n                            <Checkbox.Group>\r\n                                <Checkbox value=\"1\"></Checkbox>\r\n                            </Checkbox.Group>\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" onClick={() => this.SearchData()} >查询</Button>\r\n                            &nbsp;&nbsp;\r\n\r\n                        </Form.Item>\r\n                    </Form>\r\n                </div>\r\n                <div>\r\n                    <div style={{ width: \"59%\", float: \"left\" }}>\r\n                        <h1 style={{ fontSize: '20px', paddingLeft: '20px', lineHeight: '35px' }}>\r\n                            <Button onClick={() => this.OpenOrCloseAll()}>展开/关闭所有行</Button>\r\n                        </h1>\r\n                    </div>\r\n                    <div style={{ width: \"40%\", float: \"left\", textAlign: 'right' }}>\r\n                    <Button type=\"primary\" loading={Btn_CgBaseload} onClick={() => this.demantCgBaseTime()} >更新库存基准日期</Button>\r\n                        &emsp;\r\n                        <DatePicker locale={locale}  format=\"YYYYMMDD\" onChange={(val)=>this.setState({CgBaseTime:val})}></DatePicker>\r\n                        &emsp;\r\n                        <Button type=\"primary\" onClick={() => this.ModalExcelOut()} >Excel导出</Button>\r\n                    </div>\r\n                </div>\r\n                <Table\r\n                    dataSource={dataSource}\r\n                    bordered\r\n                    rowKey=\"ID\"\r\n                    sticky={true}\r\n                    scroll={{ y: 560 }}\r\n                    size=\"middle\"\r\n                    columns={DdOrder_CgInfo_columns(model)}\r\n                    loading={loading}\r\n                    rowClassName={this.TablerepetClassName}\r\n                    pagination={{\r\n                        position: ['bottomCenter'],\r\n                        pageSizeOptions: [20],\r\n                        current: current,\r\n                        total: dataTotal,\r\n                        showTotal: (total, range) => `一共 ${total} 条数据`,\r\n                        pageSize: 100,\r\n                        onChange: (page, pageSize) => {\r\n                            this.SearchData({ page: page, pageSize: pageSize });\r\n                        }\r\n                    }}\r\n                    expandable={{\r\n                        expandRowByClick: true,\r\n                        expandedRowRender,\r\n                        columnWidth: 8,\r\n                        indentSize: 0,\r\n                        expandedRowKeys: expandRowKeys,\r\n                        onExpand: (expanded, record) => { this.OpenOrCloseSingle(record, expanded) }\r\n                    }}\r\n                >\r\n                </Table>\r\n                <Spin style={{ position: 'absolute', left: '48%', top: '47%' }} tip={SpinTip} spinning={ExcelLoading}></Spin>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Redirect,Route, Switch,withRouter} from 'react-router-dom'\r\nimport {Layout,message} from 'antd'\r\n//引入工具类\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\nimport {depTree,OrderTree} from '../../utils'\r\n//引入个人组件\r\nimport LeftNav from '../../components/left-nav'\r\nimport Header from '../../components/header'\r\n//import left_menu from '../../config/left-menu-list'\r\n//引入API\r\nimport {getSite_Roles} from '../../api'\r\n//引入页面\r\nimport AdminOptLog from '../AdminOptLog'\r\nimport AdminUserConfig from '../AdminUserConfig'\r\n//import Deskop from '../Deskop'\r\nimport Matrial from '../Matrial'\r\nimport MRP from '../MRP'\r\nimport OptRecord from '../OptRecord'\r\nimport Report1 from '../Report1'\r\nimport Report2 from '../Report2'\r\nimport Report3 from '../Report3'\r\nimport Report4 from '../Report4'\r\nimport Service1 from '../Service1'\r\nimport Service2 from '../Service2'\r\nimport Service3 from '../Service3'\r\nimport Service4 from '../Service4'\r\nimport ExcelUp from '../ExcelUp'\r\n//新加入的页面\r\nimport DdOrder from '../DdOrder'\r\nimport DdOrderExcel from '../DdOrderExcel'\r\nimport DdOrderDet from '../DdOrderDet'\r\nimport DdOrder_JjInfo from '../DdOrder_JjInfo'\r\nimport DdOrder_CgInfo from '../DdOrder_CgInfo'\r\nimport DdOrder_BjInfo from '../DdOrder_BjInfo'\r\nimport DdOrder_BjInfo2 from '../DdOrder_BjInfo2'\r\n\r\nimport Report2_1 from '../Report2_1'\r\nimport Report3_1 from '../Report3_1'\r\nimport Report4_1 from '../Report4_1'\r\n\r\nconst {Sider,Content} = Layout\r\nclass Admin extends Component {\r\n    state = {\r\n        menuList:[]\r\n    }\r\n    componentDidMount = ()=>{\r\n        let user = memoryUtils.user;\r\n        //const {menuList} = this.state;\r\n        if (!user || !user.ID) {\r\n            user = storageUtils.getUser();\r\n        }\r\n        if (user && user.ID) {\r\n            this.getAuth();\r\n        }\r\n        \r\n    }\r\n    //获取用户权限\r\n    getAuth = async ()=>{\r\n        const { history } = this.props;\r\n        //获取用户的权限，和侧边栏\r\n        const user = memoryUtils.user;\r\n        let formData = new FormData();\r\n        formData.append('AuthConfig',user.Roles);\r\n\r\n        const result = await getSite_Roles(formData);\r\n        if(result.status===0){//登录成功\r\n            const {Site_Roles} = result.data;\r\n            //获取侧边栏\r\n            let menuList = depTree(Site_Roles,0);\r\n            menuList = OrderTree(menuList);\r\n            menuList = menuList.filter(item=>!item.isMobile)\r\n            this.setState({\r\n                menuList\r\n            })\r\n            //用树\r\n        }else{\r\n            history.push({ pathname: \"/Login\",redict:true});\r\n            message.error(\"账号还没有设置权限\");\r\n        }\r\n    }\r\n    render() {\r\n        //判断用户\r\n        let user = memoryUtils.user;\r\n        const {menuList} = this.state;\r\n        if (!user || !user.ID) {\r\n            user = storageUtils.getUser();\r\n        }\r\n        if (!user || !user.ID) {\r\n            return <Redirect to='/Login' />\r\n        }\r\n        //const menuList = await this.getAuth();\r\n        return (\r\n            <Layout style={{height:'936px'}}>\r\n                <Sider >\r\n                    <LeftNav menuList={menuList} />\r\n                </Sider>\r\n                <Layout style={{height:'936px'}}>\r\n                    <Header UserName={user.UserName}/>\r\n                    <Content style={{margin:'20px',backgroundColor: '#fff',overflow:'auto'}}>\r\n                        <Switch>\r\n                            {/* <Redirect from='/Admin' exact to='/Admin/Deskop'/> */}\r\n                            \r\n                            <Redirect from='/Admin' exact to='/Admin/Deskop'/>\r\n                            <Route path='/Admin/Deskop' component={DdOrder}/>\r\n                            <Route path='/Admin/ReportSearch/Report1' component={Report1}/>\r\n                            <Route path='/Admin/ReportSearch/Report2' component={Report2}/>\r\n                            <Route path='/Admin/ReportSearch/Report3' component={Report3}/>\r\n                            <Route path='/Admin/ReportSearch/Report4' component={Report4}/>\r\n                            \r\n                            <Route path='/Admin/ReportSearch/Report2_1' component={Report2_1}/>\r\n                            <Route path='/Admin/ReportSearch/Report3_1' component={Report3_1}/>\r\n                            <Route path='/Admin/ReportSearch/Report4_1' component={Report4_1}/>\r\n\r\n\r\n                            <Route path='/Admin/Service/Service1' component={Service1}/>\r\n                            <Route path='/Admin/Service/Service2' component={Service2}/>\r\n                            <Route path='/Admin/Service/Service3' component={Service3}/>\r\n                            <Route path='/Admin/Service/Service4' component={Service4}/>\r\n\r\n                            <Route path='/Admin/Admin/MRP' component={MRP}/>\r\n                            <Route path='/Admin/Admin/Matrial' component={Matrial}/>\r\n                            <Route path='/Admin/Admin/AdminUserConfig' component={AdminUserConfig}/>\r\n                            <Route path='/Admin/Admin/AdminOptLog' component={AdminOptLog}/>\r\n                            <Route path='/Admin/Upload/ExcelUp' component={ExcelUp}/>\r\n                            <Route path='/Admin/Admin/OptRecord' component={OptRecord}/>\r\n                            \r\n                            \r\n                            <Route path='/Admin/DdOrder/DdOrder' component={DdOrder} ></Route>\r\n                            <Route path='/Admin/DdOrder/DdOrderExcel' component={DdOrderExcel} ></Route>\r\n                            <Route path='/Admin/DdOrder/DdOrderDet' component={DdOrderDet} ></Route>\r\n                            <Route path='/Admin/DdOrder/DdOrder_JjInfo' component={DdOrder_JjInfo} ></Route>\r\n                            <Route path='/Admin/DdOrder/DdOrder_CgInfo' component={DdOrder_CgInfo} ></Route>\r\n                            <Route path='/Admin/DdOrder/DdOrder_BjInfo' component={DdOrder_BjInfo} ></Route>\r\n                            <Route path='/Admin/DdOrder/DdOrder_BjInfo2' component={DdOrder_BjInfo2} ></Route>\r\n                            \r\n                        </Switch>\r\n                    </Content>\r\n                    {/* <Footer tyle={{textAlign: 'center', color: '#cccccc'}}>Footer</Footer> */}\r\n                </Layout>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Admin);","import React, { Component } from 'react'\r\nimport {Form,Input,Button, message} from 'antd'\r\nimport {Redirect,withRouter} from 'react-router-dom'\r\n\r\nimport { reqLogin } from '../../api'\r\n\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\n\r\nimport './index.css'\r\nclass Mobile_Login extends Component {\r\n    formRef = React.createRef(); \r\n    state = {\r\n    }\r\n    handleSubmit = async (event)=>{\r\n        event.preventDefault();\r\n        const form = this.formRef.current;\r\n        const {username,password} = form.getFieldsValue(true);\r\n        //redict\r\n        var formData = new FormData();\r\n        formData.append(\"username\",username);\r\n        formData.append(\"password\",password);\r\n        const error = form.getFieldsError();\r\n        if(error.find(item=>item.errors.length>0)){\r\n            return;\r\n        }\r\n        const result = await reqLogin(formData);\r\n        if(result.status===0){//登录成功\r\n            if(result.data==null || result.data.UserInfo.length===0){\r\n                message.warn(\"账号或密码错误\");\r\n                return;\r\n            }\r\n            if(result.data.UserInfo[0].Roles==='NULL' ||result.data.UserInfo[0].Roles===undefined||result.data.UserInfo[0].Roles===\"\"){\r\n                message.warn(\"账号还没有设置权限\");\r\n                return;\r\n            }\r\n            message.success(\"登录成功\")\r\n            var user;\r\n            for(var key in result.data){\r\n                var temp = result.data[key][0];\r\n                if(typeof(temp) === \"object\"){\r\n                    user = result.data[key][0];\r\n                    break;\r\n                }\r\n            }\r\n            //const user = result.data.G_UserM[0];\r\n            //user.Roles = user.Roles.replaceAll('#','');\r\n            memoryUtils.user = user;//将当前登录用户保存到内存中\r\n            //保存到本地\r\n            storageUtils.saveUser(user);\r\n            //转到主页\r\n            this.props.history.replace('/Mobile_Admin');\r\n        }else if(result.status===1){\r\n            message.warn(\"账号密码错误\");\r\n        }else{\r\n            message.error(\"服务器无响应\");\r\n        }\r\n        \r\n\r\n    }\r\n    render() {\r\n        const user = storageUtils.getUser();\r\n        //storageUtils.removeUser();\r\n        //console.log(user.ID);\r\n        var {redict} = this.props.location;\r\n        if(user && user.ID){\r\n            if(redict!==true){\r\n                memoryUtils.user = user;//将当前登录用户保存到内存中\r\n                return <Redirect to='/Mobile_Admin' />\r\n            }\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"wrapper\">\r\n                    <div className=\"left-top-sign\">常发农装</div>\r\n                    <div className=\"welcome\">轮拖排产系统</div>\r\n                    <div className=\"InputArea\">\r\n                        <Form\r\n                            ref={this.formRef}\r\n                            layout=\"vertical\"\r\n                            onSubmitCapture={this.handleSubmit}\r\n                        >\r\n                            <Form.Item label=\"账号\" name=\"username\" \r\n                                rules={[\r\n                                    {required:true,message:'请输入用户名'},\r\n                                    {pattern:/^[a-zA-Z0-9_]+$/,message:'用户名必须是数字、字母、下划线、' },\r\n                                    {whitespace:true,message:'账号不能为空格'}\r\n                                ]} \r\n                            >\r\n                                <Input placeholder=\"账号\"></Input>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"密码\" name=\"password\"\r\n                                rules={[\r\n                                    {required:true,message:'请输入密码'},\r\n                                    {pattern:/^[a-zA-Z0-9_@]+$/,message:'密码名必须是数字、字母、下划线、@符号' },\r\n                                    {whitespace:true,message:'密码不能为空格'}\r\n                                ]}\r\n                            >\r\n                                <Input type=\"password\" placeholder=\"密码\"></Input>\r\n                            </Form.Item>\r\n                            <Button type=\"primary\" shape=\"round\" className=\"loginBtn\" htmlType=\"submit\">登录</Button>\r\n                        </Form>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\nexport default withRouter(Mobile_Login);","import React, { Component } from \"react\";\r\n//获得设置\r\nimport { GetFalineList } from \"../../config/form-Fields\";\r\nimport {\r\n  Icon,\r\n  List,\r\n  Checkbox,\r\n  DatePicker,\r\n  Picker,\r\n  Button,\r\n  ActivityIndicator,\r\n} from \"antd-mobile\";\r\n//api\r\nimport { getDdOrder } from \"../../api\";\r\n//工具\r\nimport moment from \"moment\";\r\n//css\r\nimport \"./index.css\";\r\nconst Item = List.Item;\r\n/**\r\n * 订单查询页面\r\n */\r\nexport default class Mobile_DdOrder extends Component {\r\n  state = {\r\n    dataSource: [],\r\n    Count: 0, //数据条数\r\n    btmHidden: true,\r\n    Faline: [],\r\n    PlantDt: \"\",\r\n    FalineList: [],\r\n    BtmToolsShow: true,\r\n    loading: false, //显示加载器\r\n  };\r\n  //显示隐藏底部工具栏\r\n  showActionSheet = () => {\r\n    this.setState({\r\n      BtmToolsShow: !this.state.BtmToolsShow,\r\n    });\r\n  };\r\n  //查询数据\r\n  SearchData = async () => {\r\n    const { Faline, PlantDt } = this.state;\r\n    let new_Faline, new_PlantDt;\r\n    if (Faline.length === undefined || Faline.length === 0) {\r\n      new_Faline = \"\";\r\n    } else {\r\n      new_Faline = Faline[0];\r\n    }\r\n    if (PlantDt === \"\") {\r\n      new_PlantDt = \"\";\r\n    } else {\r\n      new_PlantDt = moment(PlantDt).format(\"YYYYMM\");\r\n    }\r\n    //\r\n    var formData = new FormData();\r\n    formData.append(\"PlantDt\", new_PlantDt);\r\n    formData.append(\"Faline\", Faline);\r\n    this.setState({ loading: true });\r\n    const result = await getDdOrder(formData);\r\n    if (result.status === 0) {\r\n      let { V_DdOrder, V_DdOrder_Count } = result.data;\r\n      //过滤掉不生效的\r\n      V_DdOrder = V_DdOrder.filter((item) => item.status === \"是\");\r\n      V_DdOrder_Count = V_DdOrder.length === undefined ? 0 : V_DdOrder.length;\r\n      this.setState({\r\n        loading: false,\r\n        dataSource: V_DdOrder,\r\n        Count: V_DdOrder_Count,\r\n      });\r\n    } else {\r\n      this.setState({ loading: false });\r\n    }\r\n  };\r\n  //转向调度单明细界面\r\n  RedirectToDet = (OrderId, LTOrder, TbCount, Faline) => {\r\n    this.props.history.push({pathname:\"/Mobile_Admin/Menu1/Mobile_DdOrderDet\",\r\n    ID: OrderId,LTOrder,TbCount,Faline});\r\n  };\r\n  componentDidMount = () => {\r\n    this.SearchData();\r\n  };\r\n  render() {\r\n    const {\r\n      btmHidden,\r\n      BtmToolsShow,\r\n      PlantDt,\r\n      Faline,\r\n      loading,\r\n      Count,\r\n      dataSource,\r\n    } = this.state;\r\n    let FalineList = GetFalineList();\r\n    const btnToolsEle = (\r\n      <div\r\n        style={{\r\n          borderTop: \"2px solid #ddd\",\r\n          position: \"fixed\",\r\n          bottom: \"0px\",\r\n          backgroundColor: \"#fff\",\r\n          height: \"13rem\",\r\n          paddingTop: \"0.5rem\",\r\n          width: \"100%\",\r\n        }}\r\n      >\r\n        <List renderHeader={`共找到${Count}条数据`}>\r\n          <DatePicker\r\n            mode=\"month\"\r\n            format=\"YYYY-MM-DD\"\r\n            onChange={(v) => this.setState({ PlantDt: v })}\r\n            value={PlantDt}\r\n          >\r\n            <Item arrow=\"horizontal\">计划月份</Item>\r\n          </DatePicker>\r\n          <Picker\r\n            data={FalineList}\r\n            title=\"产线\"\r\n            value={Faline}\r\n            onChange={(v) => this.setState({ Faline: v })}\r\n            onOk={(v) => this.setState({ Faline: v })}\r\n          >\r\n            <Item arrow=\"horizontal\">产线</Item>\r\n          </Picker>\r\n          <Item>\r\n            <Button type=\"primary\" onClick={() => this.SearchData()}>\r\n              查询\r\n            </Button>\r\n          </Item>\r\n        </List>\r\n      </div>\r\n    );\r\n    return (\r\n      <div>\r\n        <div>\r\n          {dataSource.map((item) => {\r\n            return (\r\n              <Item\r\n                key={item.ID}\r\n                className=\"data-item\"\r\n                onClick={() => {\r\n                  this.RedirectToDet(\r\n                    item.ID,\r\n                    item.LTOrder,\r\n                    item.TbCount,\r\n                    item.Faline\r\n                  );\r\n                }}\r\n                arrow=\"horizontal\"\r\n              >\r\n                <h3>调度单:{item.LTOrder}</h3>\r\n                <p>\r\n                  版本号:\r\n                  {item.TbCount.length === 1\r\n                    ? \"0\" + item.TbCount\r\n                    : item.TbCount}\r\n                  ,产线:{item.Faline}\r\n                </p>\r\n              </Item>\r\n            );\r\n          })}\r\n        </div>\r\n        {BtmToolsShow ? <div style={{ height: \"14rem\" }}></div> : \"\"}\r\n        {BtmToolsShow ? btnToolsEle : \"\"}\r\n        <Icon\r\n          type={BtmToolsShow ? \"down\" : \"up\"}\r\n          size=\"lg\"\r\n          color=\"#fff\"\r\n          onClick={this.showActionSheet}\r\n          style={{\r\n            position: \"fixed\",\r\n            right: \"1.5rem\",\r\n            padding: \"0rem\",\r\n            bottom: BtmToolsShow ? \"12.9rem\" : \"0.2rem\",\r\n            backgroundColor: \"#108ee9\",\r\n            borderRadius: \"0rem\",\r\n          }}\r\n        >\r\n          测试\r\n        </Icon>\r\n        <ActivityIndicator\r\n          toast\r\n          text=\"数据加载中\"\r\n          animating={loading}\r\n        ></ActivityIndicator>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Icon,\r\n  List,\r\n  DatePicker,\r\n  InputItem,\r\n  Button,\r\n  ActivityIndicator,\r\n} from \"antd-mobile\";\r\n//引入api\r\nimport { getV_DdOrder_Det } from \"../../api\";\r\n//引入工具\r\nimport moment from 'moment'\r\n//引入缓存\r\nimport store from \"store\";\r\n//css\r\nimport \"./index.css\";\r\nconst Item = List.Item;\r\nexport default class Mobile_DdOrderDet extends Component {\r\n  state = {\r\n    dataSource: [],\r\n    FilterData:[],//过滤后的数据\r\n    Count: 0,\r\n    BtmToolsShow: true, //底部是否显示\r\n    //调度单信息\r\n    ID: 0,\r\n    LTOrder: \"\",\r\n    TbCount: \"\",\r\n    Faline: \"\",\r\n    //查询的条件\r\n    Datetime1: \"\", //投产日期\r\n    Series: \"\", //系列\r\n    //页面查询loading\r\n    loading: false,\r\n    //页面详细信息\r\n    //LTOrder\r\n    Det_Show: false,\r\n    Det_Index:0,\r\n    Det_ZjNo: \"\", //整机编码\r\n    Det_Matnr: \"\", //物料编码\r\n    Det_Series: \"\", //系列\r\n    Det_Box: \"\", //分动箱\r\n    Det_Num: \"\", //数量\r\n    Det_Datetime1: \"\", //投产日期\r\n    Det_Datetime2: \"\", //交货日期\r\n    Det_Config: \"\", //配置\r\n  };\r\n  //显示隐藏底部工具栏\r\n  showActionSheet = () => {\r\n    const { BtmToolsShow } = this.state;\r\n    this.setState({\r\n      BtmToolsShow: !BtmToolsShow,\r\n    });\r\n  };\r\n  Back = () => {\r\n    this.props.history.replace(\"/Mobile_Admin/Menu1/Mobile_DdOrder\");\r\n  };\r\n  SearchData = async () => {\r\n    const { ID, LTOrder, TbCount, Faline } = this.state;\r\n    const formData = new FormData();\r\n    formData.append(\"IDS\", ID);\r\n    this.setState({ loading: true });\r\n    const result = await getV_DdOrder_Det(formData);\r\n    if (result.status === 0) {\r\n      const { V_DdOrder_Det, V_DdOrder_Det_Count } = result.data;\r\n      this.setState({\r\n        loading: false,\r\n        dataSource: V_DdOrder_Det,\r\n        FilterData:V_DdOrder_Det,\r\n        Count: V_DdOrder_Det_Count,\r\n      });\r\n    } else {\r\n      this.setState({ loading: false });\r\n    }\r\n  };\r\n  //过滤本页面的数据\r\n  filterData = ()=>{\r\n      const {dataSource,Series,Datetime1} = this.state;\r\n      let new_Datetime1 = '';\r\n      let new_Series = '';\r\n      if(Datetime1!==''){\r\n        new_Datetime1 = moment(Datetime1).format(\"YYYYMMDD\")\r\n      }\r\n      if(Series!==''){\r\n        new_Series = Series.toUpperCase();\r\n      }\r\n      let FilterData = dataSource.filter(item=>{\r\n          if( (new_Series==='' || item.Series===new_Series) && (new_Datetime1==='' || new_Datetime1===item.Datetime1) ){\r\n              return true;\r\n          }else{\r\n              return false;\r\n          }\r\n      })\r\n      this.setState({FilterData});\r\n  }\r\n  //重置查询\r\n  resetSearch = ()=>{\r\n      const {dataSource} = this.state;\r\n      console.dir(dataSource);\r\n      this.setState({\r\n          FilterData:dataSource,\r\n          Datetime1:'',\r\n          Series:''\r\n      })\r\n  }\r\n  //显示详情\r\n  showDets = (obj,Det_Index)=>{\r\n      this.setState({\r\n          Det_Show:true,\r\n          Det_Index,\r\n          Det_ZjNo:obj.ZjNo,\r\n          Det_Matnr:obj.Matnr,\r\n          Det_Series:obj.Series,\r\n          Det_Box:obj.Box,\r\n          Det_Num:obj.Num,\r\n          Det_Datetime1:obj.Datetime1,\r\n          Det_Datetime2:obj.Datetime2,\r\n          Det_Config:obj.Config\r\n        })\r\n  }\r\n  //返回数据列表\r\n  backToList = ()=>{\r\n      this.setState({Det_Show:false})\r\n  }\r\n  componentDidMount = () => {\r\n    let { ID, LTOrder, TbCount, Faline } = this.props.location;\r\n    if (ID === undefined || ID === \"\" || ID === 0) {\r\n      ID = store.get(\"Mobile_DdOrderDet_ID\");\r\n      LTOrder = store.get(\"Mobile_DdOrderDet_LTOrder\");\r\n      TbCount = store.get(\"Mobile_DdOrderDet_TbCount\");\r\n      Faline = store.get(\"Mobile_DdOrderDet_Faline\");\r\n    } else {\r\n      store.set(\"Mobile_DdOrderDet_ID\", ID);\r\n      store.set(\"Mobile_DdOrderDet_LTOrder\", LTOrder);\r\n      store.set(\"Mobile_DdOrderDet_TbCount\", TbCount);\r\n      store.set(\"Mobile_DdOrderDet_Faline\", Faline);\r\n    }\r\n    this.setState(\r\n      {\r\n        ID,\r\n        LTOrder,\r\n        TbCount,\r\n        Faline,\r\n      },\r\n      () => {\r\n        this.SearchData();\r\n      }\r\n    );\r\n  };\r\n  render() {\r\n    const {\r\n      BtmToolsShow,\r\n      Datetime1,\r\n      LTOrder,\r\n      Series,\r\n      FilterData,\r\n      Count,\r\n      loading,\r\n      Det_Show,\r\n      Det_Index,\r\n      Det_ZjNo,\r\n      Det_Matnr,\r\n      Det_Series,\r\n      Det_Box,\r\n      Det_Num,\r\n      Det_Config\r\n    } = this.state;\r\n    //工具区\r\n    const btnToolsEle = (\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          borderBottom: \"2px solid #ddd\",\r\n          backgroundColor: \"#fff\",\r\n          height: \"14rem\",\r\n          paddingTop: \"0.5rem\",\r\n          width: \"100%\",\r\n          zIndex: 9,\r\n        }}\r\n      >\r\n        <List renderHeader={`共找到${Count}条数据`}>\r\n          <h2\r\n            style={{\r\n              position: \"fixed\",\r\n              top: \"4.2rem\",\r\n              left: \"2rem\",\r\n              color: \"#1DA57A\",\r\n            }}\r\n            onClick={this.Back}\r\n          >\r\n            返回\r\n          </h2>\r\n          <Item>\r\n            <span style={{ fontWeight: 600 }}>\r\n              调度单:LT20200701,产线:南线,版本:01\r\n            </span>\r\n          </Item>\r\n          <DatePicker\r\n            mode=\"date\"\r\n            format=\"YYYY-MM-DD\"\r\n            value={Datetime1}\r\n            onChange={(v) => this.setState({ Datetime1: v })}\r\n          >\r\n            <Item arrow=\"horizontal\">投产日期</Item>\r\n          </DatePicker>\r\n          <InputItem value={Series} arrow=\"horizontal\" onChange={(v)=>this.setState({Series:v})} placeholder=\"请输入系列\">\r\n            系列\r\n          </InputItem>\r\n          <Item>\r\n            <Button type=\"primary\" size=\"small\" onClick={()=>this.filterData()} >查询</Button>\r\n            <p></p>\r\n            <Button type=\"ghost\" size=\"small\" onClick={()=>this.resetSearch()} >重置</Button>\r\n            <p></p>\r\n          </Item>\r\n        </List>\r\n      </div>\r\n    );\r\n    //详情信息\r\n    const DetEle = (\r\n      <div style={{marginTop:'1rem'}}>\r\n        <h2>明细&nbsp;{Det_Index}</h2>\r\n        <List className=\"my-list\">\r\n          <Item>调度单号:{LTOrder}</Item>\r\n          <Item>整机编码:{Det_ZjNo}</Item>\r\n          <Item>物料编码:{Det_Matnr}</Item>\r\n          <Item>系列:{Det_Series}&emsp;分动箱:{Det_Box}&emsp;数量:{Det_Num}</Item>\r\n          <Item arrow=\"horizontal\" wrap> \r\n            配置:{Det_Config}\r\n          </Item>\r\n        </List>\r\n        <Button type=\"primary\" style={{marginTop:'1rem'}} onClick={()=>this.backToList()} >返回列表</Button>\r\n      </div>\r\n    );\r\n    return (\r\n      <div>\r\n        {/* 显示列表 */}\r\n        {!Det_Show ? (\r\n          <div>\r\n            {BtmToolsShow ? btnToolsEle : \"\"}\r\n            {BtmToolsShow ? <div style={{ height: \"19rem\" }}></div> : \"\"}\r\n            <div style={{ zIndex: 1 }}>\r\n             \r\n              {FilterData.length>0?FilterData.map((item, index) => (\r\n                <Item\r\n                  style={{ margin: \"10px\" }}\r\n                  key={item.ID}\r\n                  arrow=\"horizontal\"\r\n                  onClick={()=>this.showDets(item,index+1)}\r\n                >\r\n                  <p>\r\n                    {index + 1}.投产日期:{item.Datetime1},系列:{item.Series}\r\n                  </p>\r\n                  <p>\r\n                    物料号:{item.Matnr},数量:{item.Num}\r\n                  </p>\r\n                </Item>\r\n              )):<h2>没有查到数据</h2>}\r\n            </div>\r\n            <Icon\r\n              type={BtmToolsShow ? \"down\" : \"up\"}\r\n              size=\"lg\"\r\n              color=\"#fff\"\r\n              onClick={this.showActionSheet}\r\n              style={{\r\n                position: \"fixed\",\r\n                right: \"1.5rem\",\r\n                padding: \"0rem\",\r\n                top: \"23rem\",\r\n                backgroundColor: \"#108ee9\",\r\n                borderRadius: \"0rem\",\r\n              }}\r\n            ></Icon>\r\n            <ActivityIndicator\r\n              toast\r\n              text=\"数据加载中\"\r\n              animating={loading}\r\n            ></ActivityIndicator>\r\n          </div>\r\n        ) : (\r\n          DetEle\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { NavBar, Drawer, Icon, List, Popover } from \"antd-mobile\";\r\n\r\nimport { Redirect, Route, Switch, withRouter, Link } from \"react-router-dom\";\r\n\r\n//引入工具类\r\nimport { depTree, OrderTree } from \"../../utils\";\r\nimport memoryUtils from \"../../utils/memoryUtils\";\r\nimport storageUtils from \"../../utils/storageUtils\";\r\n//引入api\r\nimport { getSite_Roles } from \"../../api\";\r\n//引入页面\r\nimport Mobile_DdOrder from \"../Mobile_DdOrder\";\r\nimport Mobile_DdOrderDet from '../Mobile_DdOrderDet'\r\nimport \"antd-mobile/dist/antd-mobile.css\";\r\nimport \"./index.css\";\r\nconst Item = List.Item;\r\nclass Mobile_Admin extends Component {\r\n  state = {\r\n    HeadTitle: \"\",\r\n    DrawerOpen: false,\r\n    DrawerListEle: \"\",\r\n    PopoverVisianle: false, //控制右侧的弹出层\r\n  };\r\n  //显示和隐藏左侧边\r\n  onOpenChange = (...args) => {\r\n    const { DrawerOpen } = this.state;\r\n    this.setState({ DrawerOpen: !DrawerOpen });\r\n  };\r\n  //显示和隐藏右侧边栏\r\n  handleVisibleChange = (visible) => {\r\n    this.setState({\r\n      PopoverVisianle: visible,\r\n    });\r\n  };\r\n  //右侧边栏菜单点击事件\r\n  onSelect = (opt) => {\r\n    switch(opt.props.value){\r\n        case 'exit':\r\n            memoryUtils.user = {};\r\n            storageUtils.removeUser();\r\n            this.props.history.replace('/Mobile_Login');\r\n            break;\r\n        default:\r\n    }\r\n  };\r\n  //获得侧边栏\r\n  getSideBar = async () => {\r\n    const user = memoryUtils.user;\r\n    let formData = new FormData();\r\n    formData.append(\"AuthConfig\", user.Roles);\r\n    const result = await getSite_Roles(formData);\r\n    if (result.status === 0) {\r\n      //登录成功\r\n      const { Site_Roles } = result.data;\r\n      let menuList = depTree(Site_Roles, 0);\r\n      menuList = OrderTree(menuList);\r\n      menuList = menuList.filter((item) => item.isMobile);\r\n      console.dir(menuList);\r\n      let DrawerListEle = (\r\n        <div>\r\n          {menuList.map((item) => {\r\n            return (\r\n              <List key={item.key} renderHeader={item.title}>\r\n                {item.children === undefined\r\n                  ? \"\"\r\n                  : item.children.map((item2) => {\r\n                      return (\r\n                        <Item\r\n                          key={item2.key}\r\n                          onClick={() =>\r\n                            this.setState({ HeadTitle: item2.title })\r\n                          }\r\n                        >\r\n                          <Link to={item.key} style={{ color: \"black\" }}>\r\n                            {item2.title}\r\n                          </Link>\r\n                        </Item>\r\n                      );\r\n                    })}\r\n              </List>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n      this.setState({\r\n        DrawerListEle,\r\n        HeadTitle: menuList[0].children[0].title,\r\n      });\r\n    }\r\n  };\r\n  componentDidMount = () => {\r\n    //获得侧边栏\r\n    this.getSideBar();\r\n  };\r\n  render() {\r\n    const {\r\n      HeadTitle,\r\n      DrawerOpen,\r\n      DrawerListEle,\r\n      PopoverVisianle,\r\n    } = this.state;\r\n    return (\r\n      <div>\r\n        <NavBar\r\n          icon={<Icon type=\"ellipsis\"></Icon>}\r\n          onLeftClick={() => this.onOpenChange()}\r\n          rightContent={\r\n            <Popover\r\n              mask\r\n              overlayStyle={{ color: \"currentColor\" }}\r\n              visible={PopoverVisianle}\r\n              overlay={[\r\n                (<Popover.Item key=\"4\" value=\"exit\" icon={<Icon type=\"cross\"></Icon>} data-seed=\"logId\">退出登录</Popover.Item>),\r\n              ]}\r\n              align={{\r\n                overflow: { adjustY: 0, adjustX: 0 },\r\n                offset: [-10, 0],\r\n              }}\r\n              onVisibleChange={this.handleVisibleChange}\r\n              onSelect={this.onSelect}\r\n            >\r\n              <div\r\n                style={{\r\n                  height: \"100%\",\r\n                  padding: \"0 10px\",\r\n                  marginRight: \"-10px\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <Icon type=\"down\" />\r\n              </div>\r\n            </Popover>\r\n          }\r\n        >\r\n          {HeadTitle}\r\n        </NavBar>\r\n        <Drawer\r\n          className=\"my-drawer\"\r\n          style={{ minHeight: document.documentElement.clientHeight }}\r\n          enableDragHandle\r\n          contentStyle={{ color: \"\", textAlign: \"center\", paddingTop: '3rem' }}\r\n          sidebar={DrawerListEle}\r\n          open={DrawerOpen}\r\n          onOpenChange={this.onOpenChange}\r\n        >\r\n          <Switch>\r\n            <Redirect\r\n              from=\"/Mobile_Admin\"\r\n              exact\r\n              to=\"/Mobile_Admin/Menu1/Mobile_DdOrder\"\r\n            ></Redirect>\r\n            <Route\r\n              path=\"/Mobile_Admin/Menu1/Mobile_DdOrder\"\r\n              component={Mobile_DdOrder}\r\n            ></Route>\r\n            <Route\r\n              path=\"/Mobile_Admin/Menu1/Mobile_DdOrderDet\"\r\n              component={Mobile_DdOrderDet}\r\n              >\r\n            </Route>\r\n          </Switch>\r\n        </Drawer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(Mobile_Admin);\r\n","import React, { Component } from 'react'\r\nimport {Switch,Route,HashRouter,Redirect} from 'react-router-dom'\r\nimport 'default-passive-events'\r\nimport Login from './pages/Login'\r\nimport Admin from './pages/Admin'\r\nimport Mobile_Login from './pages/Mobile_Login'\r\nimport Mobile_Admin from './pages/Mobile_Admin'\r\nimport {getClientType} from './utils/index'\r\nimport './App.less'\r\n\r\nexport default class App extends Component {\r\n\r\n    render() {\r\n        var u = navigator.userAgent;\r\n        let agent = getClientType(u);\r\n        if(agent ==='PC'){\r\n            return (\r\n                <HashRouter>\r\n                    <Switch>\r\n                        <Route path=\"/Admin\" component={Admin}/>\r\n                        <Route path=\"/Login\" component={Login}/>\r\n                        <Redirect to=\"/Login\"/>\r\n                    </Switch>\r\n                </HashRouter>\r\n            );\r\n        }else{\r\n            return (\r\n                <HashRouter>\r\n                    <Switch>\r\n                        <Route path=\"/Mobile_Login\" component={Mobile_Login}/>\r\n                        <Route path=\"/Mobile_Admin\" component={Mobile_Admin}/>\r\n                        <Redirect to=\"/Mobile_Login\"/>\r\n                    </Switch>\r\n                </HashRouter>\r\n            )\r\n        }\r\n        \r\n    }\r\n}\r\n","import ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport App from './App'\r\nimport storageUtils from './utils/storageUtils'\r\nimport memoryUtils from './utils/memoryUtils'\r\n//读取local中保存的user\r\nconst user = storageUtils.getUser();\r\n//读取local中user保存到内存中\r\nmemoryUtils.user = user;\r\nReactDOM.render(<BrowserRouter><App/></BrowserRouter>, document.getElementById('root'));\r\n// ReactDOM.render(<Mytest></Mytest>,document.getElementById('root'))"],"sourceRoot":""}